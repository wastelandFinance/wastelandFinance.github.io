import{a9 as P,r as c,aZ as me,az as s,$ as n,a0 as e,a7 as y,D as i,K as l,O as D,aF as x,aG as fe,aC as j,aA as G,Z as f,b1 as h,a6 as g,H as te,b3 as V,bn as z,_ as $,au as pe,ap as ke,w as ge}from"./@vue-4a3654e3.js";import{N as Ce,E as se,L as oe,H as ye}from"./getAssetsFile-9c9ffaf3.js";import{_ as Z,B as A,F as ae,u as $e,M as Ee,J as Fe,L as X}from"./index-f2ab0033.js";import{E as le,L as we}from"./Loading-d3c78180.js";import{T as be,d as De,c as Y}from"./UpgradeNft-89455159.js";import{B as Ae}from"./Border-16110d38.js";import{b as xe,h as ee}from"./index-fb104491.js";import{u as q}from"./vue-i18n-e0b4ebde.js";/* empty css                                                          */import{u as Be}from"./vue-router-9c8b6c7f.js";import{M as He}from"./MaskLoading-8d68cfd4.js";import{a as Se}from"./index-a39be7cb.js";import{g as Ie,a as Le}from"./NFT-69d0182c.js";import"./pinia-117a262d.js";import"./vue-demi-7aca303d.js";import"./@metamask-5fe78728.js";import"./@ethersproject-af74bb15.js";import"./js-sha3-1704859c.js";import"./hash.js-adcfb37a.js";import"./minimalistic-assert-770ac730.js";import"./inherits-878ccdf9.js";import"./bech32-20d6ea16.js";import"./@walletconnect-a7c9cb01.js";import"./is-typedarray-816496c7.js";import"./query-string-863c9c8a.js";import"./strict-uri-encode-39743d5a.js";import"./decode-uri-component-96b74898.js";import"./split-on-first-dea6fdb0.js";import"./typedarray-to-buffer-512de52f.js";import"./detect-browser-84fc1d8c.js";import"./qrcode-f7c04bee.js";import"./isarray-0a73c961.js";import"./buffer-8016aac3.js";import"./base64-js-c17a52db.js";import"./ieee754-480627a8.js";import"./dijkstrajs-322a599c.js";import"./copy-to-clipboard-53658741.js";import"./toggle-selection-dd807a76.js";import"./preact-c2ca5e76.js";import"./process-85dbfe57.js";import"./@intlify-79ae61b4.js";import"./vue-896067e7.js";/* empty css                                                            */import"./lottie-web-5da13280.js";/* empty css                                                         */import"./public-dcfc16e7.js";import"./axios-5aeb6a83.js";/* empty css                                                                */import"./qs-a1059fb7.js";import"./side-channel-0320a11a.js";import"./get-intrinsic-376f1f3c.js";import"./has-symbols-eb4acc8a.js";import"./function-bind-3c0fdd0c.js";import"./has-6f12dd3c.js";import"./call-bind-9097bd02.js";import"./object-inspect-39034d5e.js";const ue=t=>(j("data-v-cbf4221a"),t=t(),G(),t),Te={class:"hero-card-container"},Ne={class:"hero-info"},Me={class:"base-flex base-height"},Re={class:"hero-name"},Ue={class:"hero-type"},Ve={class:"base-flex base-height"},ze={class:"base-flex"},Pe={class:"star"},je={class:"grade"},Ge=ue(()=>e("div",{class:"dot"},null,-1)),Ze={class:"base-flex base-height"},qe={class:"base-font"},Je={class:"base-flex"},Ke=ue(()=>e("div",{class:"ques-icon"},null,-1)),Oe={class:"base-flex base-height"},We={class:"base-font"},Qe=P({__name:"HeroCard",props:{data:{default:()=>({})}},setup(t){const u=t,{t:r}=q(),k=c(0);return me(()=>{if(k.value=0,u.data.attributes)for(let _ in u.data.attributes)k.value+=u.data.attributes[_]}),(_,m)=>(s(),n("div",Te,[e("div",null,[y(Ae,{border:!1,img:t.data.image,"rarity-img":i(xe)[t.data.rarity]},null,8,["img","rarity-img"])]),e("div",Ne,[e("div",Me,[e("span",Re,l(t.data.name),1),e("span",Ue,l(i(r)(t.data.classes)),1)]),e("div",Ve,[e("div",ze,[(s(!0),n(D,null,x(t.data.starRate,E=>(s(),n("div",Pe))),256))]),e("span",je,[Ge,e("div",null,"LV"+l(t.data.level),1)])]),e("div",Ze,[e("div",qe,l(i(r)("\u603B\u5C5E\u6027")),1),e("div",Je,[e("div",null,l(k.value),1),Ke])]),e("div",Oe,[e("span",We,l(i(r)(i(ee)[t.data.classes])),1),e("span",null,l(t.data.attributes&&t.data.attributes[i(ee)[t.data.classes]]),1)])]),fe(_.$slots,"default",{},void 0,!0)]))}});var ie=Z(Qe,[["__scopeId","data-v-cbf4221a"]]);const Xe=t=>(j("data-v-352aff1b"),t=t(),G(),t),Ye={class:"content"},et={class:"desc"},tt=Xe(()=>e("div",{class:"pic"},[e("img",{src:Ce})],-1)),st={class:"light-height"},ot={class:"flex"},at=P({__name:"DecomposeDialog",props:{show:{type:Boolean,default:!1},count:{default:0}},emits:["close"],setup(t,{emit:u}){const{t:r}=q(),k=()=>{u("close")},_=Be(),m=()=>{_.push("/user/wallet")};return(E,p)=>(s(),f(ae,{title:i(r)("\u5206\u89E3\u6210\u529F"),show:t.show,onClose:k},{default:h(()=>[e("div",Ye,[e("div",et,l(i(r)("\u606D\u559C\u60A8\u83B7\u5F97")),1),tt,e("div",st,l(t.count)+" "+l(i(r)("\u5347\u661F\u788E\u7247")),1),e("div",ot,[e("div",null,l(i(r)("\u788E\u7247\u5DF2\u81EA\u52A8\u8F6C\u5165\u4F60\u7684\u94B1\u5305")),1),e("div",{class:"share",onClick:m})]),y(A,{onClick:k},{default:h(()=>[g(l(i(r)("\u6211\u77E5\u9053\u4E86")),1)]),_:1})])]),_:1},8,["title","show"]))}});var lt=Z(at,[["__scopeId","data-v-352aff1b"]]);const ce=t=>(j("data-v-08a7269c"),t=t(),G(),t),ut={class:"content"},it={class:"top"},ct={class:"star-list"},nt=["onClick"],rt=ce(()=>e("img",{src:se},null,-1)),dt=[rt],vt=["onClick"],_t=ce(()=>e("img",{src:oe},null,-1)),ht=[_t],mt={key:0,class:"hero-scroll"},ft={class:"hero-list"},pt={class:"select-icon-mark"},kt={key:2,class:"btn-blcok"},gt=P({__name:"SelectHeroDialogForPhone",props:{list:{default:()=>[]}},emits:["close","confirm","selectAll","starClick"],setup(t,{emit:u}){const{t:r}=q(),k=()=>{u("close")},_=c({}),m=F=>{_.value=F},E=()=>{u("confirm",_)},p=c(0),I=F=>{p.value=F,u("starClick",F)},C=()=>{p.value=0,u("selectAll")};return(F,L)=>(s(),f(ae,{show:"",title:i(r)("\u9009\u62E9\u82F1\u96C4"),onClose:k},{default:h(()=>[e("div",ut,[e("div",it,[e("div",{class:"desc",onClick:C},l(i(r)("\u5168\u90E8")),1),e("div",ct,[(s(!0),n(D,null,x(p.value,a=>(s(),n("div",{class:"star-icon",key:a,onClick:w=>I(a)},dt,8,nt))),128)),(s(!0),n(D,null,x(5-p.value,a=>(s(),n("div",{class:"star-icon",key:a,onClick:w=>I(a+p.value)},ht,8,vt))),128))])]),t.list.length?(s(),n("div",mt,[e("div",ft,[(s(!0),n(D,null,x(t.list,(a,w)=>(s(),f(ie,{class:te([a.token_id==_.value.token_id?"active-class":"","card-item"]),key:w,data:a,onClick:J=>m(a)},{default:h(()=>[V(e("div",pt,null,512),[[z,a.token_id==_.value.token_id]])]),_:2},1032,["class","data","onClick"]))),128))])])):$("",!0),t.list.length?$("",!0):(s(),f(le,{key:1},{default:h(()=>[g(l(i(r)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4"))+"\uFF01",1)]),_:1})),t.list.length?(s(),n("div",kt,[y(A,{onClick:E},{default:h(()=>[g(l(i(r)("\u786E\u5B9A")),1)]),_:1})])):$("",!0)])]),_:1},8,["title"]))}});var Ct=Z(gt,[["__scopeId","data-v-08a7269c"]]);const B=t=>(j("data-v-bd3bc49c"),t=t(),G(),t),yt={class:"fragment-box"},$t={class:"top"},Et={class:"pic-container"},Ft=["src"],wt={class:"select-icon"},bt=B(()=>e("img",{src:ye},null,-1)),Dt=[bt],At={key:0,class:"text"},xt={key:1,class:"text"},Bt=g(" \u5206\u89E3\u6210\u529F\u540E\uFF0C\u4F60\u5C06\u5931\u53BB\u6B64\u82F1\u96C4\uFF0C\u5E76\u83B7\u5F97"),Ht={style:{color:"#e1c392"}},St=g("\u788E\u7247,\u8BF7\u8C28\u614E\u64CD\u4F5C "),It=g("\u5206\u89E3"),Lt=g("\u6388\u6743"),Tt={style:{display:"flex","align-items":"center","justify-content":"center"}},Nt={style:{"margin-left":"5px",color:"#e1c392"}},Mt={style:{display:"flex","align-items":"center","justify-content":"center"}},Rt={style:{"margin-left":"5px",color:"#e1c392"}},Ut={class:"bottom"},Vt={style:{display:"flex"}},zt={class:"star-list"},Pt=["onClick"],jt=B(()=>e("img",{src:se},null,-1)),Gt=[jt],Zt=["onClick"],qt=B(()=>e("img",{src:oe},null,-1)),Jt=[qt],Kt={key:1},Ot={key:0,class:"hero-list"},Wt={class:"select"},Qt=B(()=>e("div",{class:"card-item"},null,-1)),Xt=B(()=>e("div",{class:"card-item"},null,-1)),Yt=B(()=>e("div",{class:"card-item"},null,-1)),es=B(()=>e("div",{class:"card-item"},null,-1)),ts=P({__name:"Index",setup(t){const{t:u}=q(),r=c(!1),k=()=>{r.value=document.documentElement.clientWidth<750};pe(()=>{k(),window.addEventListener("resize",k,!1)});const _=$e(),m=c([]),E=c([]),p=c(!1),I=async()=>{try{if(_.address.length){p.value=!0;const o=await Se({account:_.address});o.length?(m.value=o,E.value=o,p.value=!1):(m.value=[],E.value=[],p.value=!1)}}catch(o){p.value=!1,console.log("\u53D1\u751F\u4E86\u672A\u77E5\u9519\u8BEF",o)}},C=c(!1),F=async()=>{const o=await Ie(_.address);C.value=o};ke(()=>{I(),F()});const L=c(""),a=c({}),w=c(0),J=c(!1),ne=async o=>{try{J.value=!0,L.value=o.token_id,a.value=o;let d=await Y(o.token_id);d&&(J.value=!1,w.value=Number(d.toString()))}catch(d){console.log("\u672A\u77E5\u9519\u8BEF",d)}},T=c(!1),N=c(""),H=c(""),M=c("success"),re=()=>{window.open(`${Fe}${H.value}`)};ge(T,o=>{setTimeout(()=>{o&&(T.value=!1)},3e3)});const S=c(!1),de=async()=>{try{S.value=!0;const o=await Le();o.from?(await o.wait(2),N.value="\u6388\u6743\u6210\u529F",H.value=o.hash,M.value="success",S.value=!1,F()):S.value=!1}catch(o){S.value=!1,N.value="\u6388\u6743\u5931\u8D25",H.value="\u7528\u6237\u53D6\u6D88\u4E86\u6388\u6743",M.value="error",console.log("\u6388\u6743\u5931\u8D25",o)}},K=c(!1),b=c(!1),ve=async()=>{try{if(C.value){b.value=!0;let o=await De([a.value.token_id]);o.from&&(N.value=u("\u5206\u89E3\u6210\u529F"),H.value=o.hash,M.value="success",(await o.wait(1)).from&&(b.value=!1,a.value={},L.value="",K.value=!0,setTimeout(async()=>{await I()},1e3)))}}catch(o){b.value=!1,N.value=u("\u5206\u89E3\u5931\u8D25"),H.value=u("\u7528\u6237\u53D6\u6D88\u4E86\u5206\u89E3"),M.value=u("error"),console.log("\u5206\u89E3\u5931\u8D25",o)}T.value=!0},U=c(!1),_e=()=>{r.value&&!b.value&&(U.value=!0)},he=o=>{m.value.map(async d=>{if(o.value.token_id==d.token_id){let v=await Y(o.value.token_id);v&&(w.value=Number(v.toString())),a.value=d,U.value=!1}})},R=c(0),O=o=>{R.value=o,m.value=E.value.filter(d=>d.starRate==o)},W=()=>{m.value=E.value,R.value=0};return(o,d)=>(s(),n(D,null,[y(be,null,{default:h(()=>[g(l(i(u)("\u5206\u89E3\u788E\u7247\u63D0\u793A")),1)]),_:1}),e("div",yt,[e("div",$t,[e("div",{class:"base-border",onClick:_e},[V(e("div",Et,[e("img",{src:a.value.image},null,8,Ft)],512),[[z,a.value.token_id]]),V(e("div",wt,Dt,512),[[z,!a.value.token_id]])]),a.value.heroid?(s(),n("div",xt,[Bt,e("span",Ht,l(w.value),1),St])):(s(),n("div",At,l(i(u)("\u4E0D\u540C\u7A00\u6709\u5EA6\u7684\u82F1\u96C4\u53EF\u4EE5\u83B7\u5F97\u4E0D\u540C\u6570\u91CF\u7684\u788E\u7247")),1)),e("div",null,[a.value.heroid&&!b.value&&C.value?(s(),f(A,{key:0,onClick:ve},{default:h(()=>[It]),_:1})):$("",!0),!S.value&&!C.value?(s(),f(A,{key:1,onClick:de},{default:h(()=>[Lt]),_:1})):$("",!0),S.value&&!C.value?(s(),f(A,{key:2,style:{cursor:"not-allowed"}},{default:h(()=>[e("div",Tt,[y(X),e("div",Nt,l(i(u)("\u6388\u6743\u4E2D"))+"...",1)])]),_:1})):$("",!0),!a.value.heroid&&!b.value&&C.value?(s(),f(A,{key:3,active:"","current-type":"disabled",style:{color:"#676C73",cursor:"not-allowed"}},{default:h(()=>[g(l(i(u)("\u5206\u89E3")),1)]),_:1})):$("",!0),a.value.heroid&&b.value&&C.value?(s(),f(A,{key:4,style:{cursor:"not-allowed"}},{default:h(()=>[e("div",Mt,[y(X),e("div",Rt,l(i(u)("\u5206\u89E3\u4E2D"))+"...",1)])]),_:1})):$("",!0)])]),e("div",Ut,[e("div",Vt,[e("div",{style:{cursor:"pointer"},onClick:W},l(i(u)("\u5168\u90E8")),1),e("div",zt,[(s(!0),n(D,null,x(R.value,v=>(s(),n("div",{class:"star-icon",key:v,onClick:Q=>O(v)},Gt,8,Pt))),128)),(s(!0),n(D,null,x(5-R.value,v=>(s(),n("div",{class:"star-icon un-active",key:v,onClick:Q=>O(v+R.value)},Jt,8,Zt))),128))])]),p.value?(s(),f(we,{key:0})):(s(),n("div",Kt,[m.value.length?(s(),n("div",Ot,[(s(!0),n(D,null,x(m.value,v=>(s(),f(ie,{key:v.token_id,class:te([v.token_id==L.value?"active-class":"","card-item"]),onClick:Q=>ne(v),data:v},{default:h(()=>[V(e("div",Wt,null,512),[[z,v.token_id==L.value]])]),_:2},1032,["class","onClick","data"]))),128)),Qt,Xt,Yt,es])):(s(),f(le,{key:1},{default:h(()=>[g(l(i(u)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4")),1)]),_:1}))])),a.value.heroid&&b.value?(s(),f(He,{key:2})):$("",!0)]),y(lt,{count:w.value,show:K.value,onClose:d[0]||(d[0]=v=>K.value=!1)},null,8,["count","show"]),y(Ct,{show:U.value,list:m.value,onClose:d[1]||(d[1]=v=>U.value=!1),onConfirm:he,onStarClick:O,onSelectAll:W},null,8,["show","list"]),y(Ee,{show:T.value,title:N.value,desc:H.value,type:M.value,onClose:d[2]||(d[2]=v=>T.value=!1),onDescClick:re},null,8,["show","title","desc","type"])])],64))}});var ao=Z(ts,[["__scopeId","data-v-bd3bc49c"]]);export{ao as default};
