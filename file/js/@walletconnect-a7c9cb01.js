import"./is-typedarray-816496c7.js";import{a as Xn}from"./js-sha3-1704859c.js";import{q as tn}from"./query-string-863c9c8a.js";import{c as Et,g as tr}from"./@ethersproject-af74bb15.js";import{t as er}from"./typedarray-to-buffer-512de52f.js";import{d as nr}from"./detect-browser-84fc1d8c.js";import{b as rr}from"./qrcode-f7c04bee.js";import{c as ir}from"./copy-to-clipboard-53658741.js";import{r as or}from"./preact-c2ca5e76.js";var xe={},T={};Object.defineProperty(T,"__esModule",{value:!0});var en=T.getLocalStorage=dn=T.getLocalStorageOrThrow=un=T.getCrypto=fn=T.getCryptoOrThrow=cn=T.getLocation=hn=T.getLocationOrThrow=ln=T.getNavigator=an=T.getNavigatorOrThrow=sn=T.getDocument=on=T.getDocumentOrThrow=rn=T.getFromWindowOrThrow=nn=T.getFromWindow=void 0;function At(i){let n;return typeof window!="undefined"&&typeof window[i]!="undefined"&&(n=window[i]),n}var nn=T.getFromWindow=At;function Wt(i){const n=At(i);if(!n)throw new Error(`${i} is not defined in Window`);return n}var rn=T.getFromWindowOrThrow=Wt;function sr(){return Wt("document")}var on=T.getDocumentOrThrow=sr;function ar(){return At("document")}var sn=T.getDocument=ar;function lr(){return Wt("navigator")}var an=T.getNavigatorOrThrow=lr;function hr(){return At("navigator")}var ln=T.getNavigator=hr;function cr(){return Wt("location")}var hn=T.getLocationOrThrow=cr;function fr(){return At("location")}var cn=T.getLocation=fr;function ur(){return Wt("crypto")}var fn=T.getCryptoOrThrow=ur;function dr(){return At("crypto")}var un=T.getCrypto=dr;function pr(){return Wt("localStorage")}var dn=T.getLocalStorageOrThrow=pr;function mr(){return At("localStorage")}en=T.getLocalStorage=mr;Object.defineProperty(xe,"__esModule",{value:!0});var pn=xe.getWindowMetadata=void 0;const Ze=T;function gr(){let i,n;try{i=Ze.getDocumentOrThrow(),n=Ze.getLocationOrThrow()}catch{return null}function s(){const x=i.getElementsByTagName("link"),q=[];for(let L=0;L<x.length;L++){const yt=x[L],xt=yt.getAttribute("rel");if(xt&&xt.toLowerCase().indexOf("icon")>-1){const k=yt.getAttribute("href");if(k)if(k.toLowerCase().indexOf("https:")===-1&&k.toLowerCase().indexOf("http:")===-1&&k.indexOf("//")!==0){let A=n.protocol+"//"+n.host;if(k.indexOf("/")===0)A+=k;else{const kt=n.pathname.split("/");kt.pop(),A+=kt.join("/")+"/"+k}q.push(A)}else if(k.indexOf("//")===0){const A=n.protocol+k;q.push(A)}else q.push(k)}}return q}function d(...x){const q=i.getElementsByTagName("meta");for(let L=0;L<q.length;L++){const yt=q[L],xt=["itemprop","property","name"].map(k=>yt.getAttribute(k)).filter(k=>k?x.includes(k):!1);if(xt.length&&xt){const k=yt.getAttribute("content");if(k)return k}}return""}function g(){let x=d("name","og:site_name","og:title","twitter:title");return x||(x=i.title),x}function f(){return d("description","og:description","twitter:description","keywords")}const M=g(),O=f(),R=n.origin,vt=s();return{description:O,url:R,icons:vt,name:M}}pn=xe.getWindowMetadata=gr;function Qt(i){return nr(i)}function Zt(){const i=Qt();return i&&i.os?i.os:void 0}function mn(){const i=Zt();return i?i.toLowerCase().includes("android"):!1}function gn(){const i=Zt();return i?i.toLowerCase().includes("ios")||i.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function vn(){return Zt()?mn()||gn():!1}function _n(){const i=Qt();return i&&i.name?i.name.toLowerCase()==="node":!1}function wn(){return!_n()&&!!yn()}const vr=nn,_r=rn,wr=on,yr=sn,Mr=an,yn=ln,br=hn,Mn=cn,xr=fn,Sr=un,kr=dn,Jt=en;function ye(){return pn()}function Rr(i){if(typeof i!="string")throw new Error(`Cannot safe json parse value of type ${typeof i}`);try{return JSON.parse(i)}catch{return i}}function Er(i){return typeof i=="string"?i:JSON.stringify(i)}const bn=Rr,xn=Er;function Se(i,n){const s=xn(n),d=Jt();d&&d.setItem(i,s)}function ke(i){let n=null,s=null;const d=Jt();return d&&(s=d.getItem(i)),n=s&&bn(s),n}function Re(i){const n=Jt();n&&n.removeItem(i)}const jt="WALLETCONNECT_DEEPLINK_CHOICE";function Ir(i,n){const s=encodeURIComponent(i);return n.universalLink?`${n.universalLink}/wc?uri=${s}`:n.deepLink?`${n.deepLink}${n.deepLink.endsWith(":")?"//":"/"}wc?uri=${s}`:""}function Cr(i){const n=i.href.split("?")[0];Se(jt,Object.assign(Object.assign({},i),{href:n}))}function Sn(i,n){return i.filter(s=>s.name.toLowerCase().includes(n.toLowerCase()))[0]}function Tr(i,n){let s=i;return n&&(s=n.map(d=>Sn(i,d)).filter(Boolean)),s}const kn="https://registry.walletconnect.com";function Or(){return kn+"/api/v2/wallets"}function qr(){return kn+"/api/v2/dapps"}function Rn(i,n="mobile"){var s;return{name:i.name||"",shortName:i.metadata.shortName||"",color:i.metadata.colors.primary||"",logo:(s=i.image_url.sm)!==null&&s!==void 0?s:"",universalLink:i[n].universal||"",deepLink:i[n].native||""}}function Nr(i,n="mobile"){return Object.values(i).filter(s=>!!s[n].universal||!!s[n].native).map(s=>Rn(s,n))}var Lr=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Qt,detectOS:Zt,isAndroid:mn,isIOS:gn,isMobile:vn,isNode:_n,isBrowser:wn,getFromWindow:vr,getFromWindowOrThrow:_r,getDocumentOrThrow:wr,getDocument:yr,getNavigatorOrThrow:Mr,getNavigator:yn,getLocationOrThrow:br,getLocation:Mn,getCryptoOrThrow:xr,getCrypto:Sr,getLocalStorageOrThrow:kr,getLocalStorage:Jt,getClientMeta:ye,safeJsonParse:bn,safeJsonStringify:xn,setLocal:Se,getLocal:ke,removeLocal:Re,mobileLinkChoiceKey:jt,formatIOSMobile:Ir,saveMobileLinkInfo:Cr,getMobileRegistryEntry:Sn,getMobileLinkRegistry:Tr,getWalletRegistryUrl:Or,getDappRegistryUrl:qr,formatMobileRegistryEntry:Rn,formatMobileRegistry:Nr},Symbol.toStringTag,{value:"Module"}));const Ar=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],En=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var In={exports:{}};(function(i){(function(n,s){function d(u,t){if(!u)throw new Error(t||"Assertion failed")}function g(u,t){u.super_=t;var r=function(){};r.prototype=t.prototype,u.prototype=new r,u.prototype.constructor=u}function f(u,t,r){if(f.isBN(u))return u;this.negative=0,this.words=null,this.length=0,this.red=null,u!==null&&((t==="le"||t==="be")&&(r=t,t=10),this._init(u||0,t||10,r||"be"))}typeof n=="object"?n.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var M;try{M=require("buffer").Buffer}catch{}f.isBN=function(t){return t instanceof f?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===f.wordSize&&Array.isArray(t.words)},f.max=function(t,r){return t.cmp(r)>0?t:r},f.min=function(t,r){return t.cmp(r)<0?t:r},f.prototype._init=function(t,r,o){if(typeof t=="number")return this._initNumber(t,r,o);if(typeof t=="object")return this._initArray(t,r,o);r==="hex"&&(r=16),d(r===(r|0)&&r>=2&&r<=36),t=t.toString().replace(/\s+/g,"");var a=0;t[0]==="-"&&a++,r===16?this._parseHex(t,a):this._parseBase(t,r,a),t[0]==="-"&&(this.negative=1),this.strip(),o==="le"&&this._initArray(this.toArray(),r,o)},f.prototype._initNumber=function(t,r,o){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(d(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),r,o)},f.prototype._initArray=function(t,r,o){if(d(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var a=0;a<this.length;a++)this.words[a]=0;var c,p,m=0;if(o==="be")for(a=t.length-1,c=0;a>=0;a-=3)p=t[a]|t[a-1]<<8|t[a-2]<<16,this.words[c]|=p<<m&67108863,this.words[c+1]=p>>>26-m&67108863,m+=24,m>=26&&(m-=26,c++);else if(o==="le")for(a=0,c=0;a<t.length;a+=3)p=t[a]|t[a+1]<<8|t[a+2]<<16,this.words[c]|=p<<m&67108863,this.words[c+1]=p>>>26-m&67108863,m+=24,m>=26&&(m-=26,c++);return this.strip()};function O(u,t,r){for(var o=0,a=Math.min(u.length,r),c=t;c<a;c++){var p=u.charCodeAt(c)-48;o<<=4,p>=49&&p<=54?o|=p-49+10:p>=17&&p<=22?o|=p-17+10:o|=p&15}return o}f.prototype._parseHex=function(t,r){this.length=Math.ceil((t.length-r)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var a,c,p=0;for(o=t.length-6,a=0;o>=r;o-=6)c=O(t,o,o+6),this.words[a]|=c<<p&67108863,this.words[a+1]|=c>>>26-p&4194303,p+=24,p>=26&&(p-=26,a++);o+6!==r&&(c=O(t,r,o+6),this.words[a]|=c<<p&67108863,this.words[a+1]|=c>>>26-p&4194303),this.strip()};function R(u,t,r,o){for(var a=0,c=Math.min(u.length,r),p=t;p<c;p++){var m=u.charCodeAt(p)-48;a*=o,m>=49?a+=m-49+10:m>=17?a+=m-17+10:a+=m}return a}f.prototype._parseBase=function(t,r,o){this.words=[0],this.length=1;for(var a=0,c=1;c<=67108863;c*=r)a++;a--,c=c/r|0;for(var p=t.length-o,m=p%a,l=Math.min(p,p-m)+o,e=0,h=o;h<l;h+=a)e=R(t,h,h+a,r),this.imuln(c),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(m!==0){var _=1;for(e=R(t,h,t.length,r),h=0;h<m;h++)_*=r;this.imuln(_),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},f.prototype.copy=function(t){t.words=new Array(this.length);for(var r=0;r<this.length;r++)t.words[r]=this.words[r];t.length=this.length,t.negative=this.negative,t.red=this.red},f.prototype.clone=function(){var t=new f(null);return this.copy(t),t},f.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var vt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],St=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(t,r){t=t||10,r=r|0||1;var o;if(t===16||t==="hex"){o="";for(var a=0,c=0,p=0;p<this.length;p++){var m=this.words[p],l=((m<<a|c)&16777215).toString(16);c=m>>>24-a&16777215,c!==0||p!==this.length-1?o=vt[6-l.length]+l+o:o=l+o,a+=2,a>=26&&(a-=26,p--)}for(c!==0&&(o=c.toString(16)+o);o.length%r!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(t===(t|0)&&t>=2&&t<=36){var e=St[t],h=x[t];o="";var _=this.clone();for(_.negative=0;!_.isZero();){var w=_.modn(h).toString(t);_=_.idivn(h),_.isZero()?o=w+o:o=vt[e-w.length]+w+o}for(this.isZero()&&(o="0"+o);o.length%r!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(t,r){return d(typeof M!="undefined"),this.toArrayLike(M,t,r)},f.prototype.toArray=function(t,r){return this.toArrayLike(Array,t,r)},f.prototype.toArrayLike=function(t,r,o){var a=this.byteLength(),c=o||Math.max(1,a);d(a<=c,"byte array longer than desired length"),d(c>0,"Requested array length <= 0"),this.strip();var p=r==="le",m=new t(c),l,e,h=this.clone();if(p){for(e=0;!h.isZero();e++)l=h.andln(255),h.iushrn(8),m[e]=l;for(;e<c;e++)m[e]=0}else{for(e=0;e<c-a;e++)m[e]=0;for(e=0;!h.isZero();e++)l=h.andln(255),h.iushrn(8),m[c-e-1]=l}return m},Math.clz32?f.prototype._countBits=function(t){return 32-Math.clz32(t)}:f.prototype._countBits=function(t){var r=t,o=0;return r>=4096&&(o+=13,r>>>=13),r>=64&&(o+=7,r>>>=7),r>=8&&(o+=4,r>>>=4),r>=2&&(o+=2,r>>>=2),o+r},f.prototype._zeroBits=function(t){if(t===0)return 26;var r=t,o=0;return(r&8191)===0&&(o+=13,r>>>=13),(r&127)===0&&(o+=7,r>>>=7),(r&15)===0&&(o+=4,r>>>=4),(r&3)===0&&(o+=2,r>>>=2),(r&1)===0&&o++,o},f.prototype.bitLength=function(){var t=this.words[this.length-1],r=this._countBits(t);return(this.length-1)*26+r};function q(u){for(var t=new Array(u.bitLength()),r=0;r<t.length;r++){var o=r/26|0,a=r%26;t[r]=(u.words[o]&1<<a)>>>a}return t}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,r=0;r<this.length;r++){var o=this._zeroBits(this.words[r]);if(t+=o,o!==26)break}return t},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},f.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]|t.words[r];return this.strip()},f.prototype.ior=function(t){return d((this.negative|t.negative)===0),this.iuor(t)},f.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},f.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},f.prototype.iuand=function(t){var r;this.length>t.length?r=t:r=this;for(var o=0;o<r.length;o++)this.words[o]=this.words[o]&t.words[o];return this.length=r.length,this.strip()},f.prototype.iand=function(t){return d((this.negative|t.negative)===0),this.iuand(t)},f.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},f.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},f.prototype.iuxor=function(t){var r,o;this.length>t.length?(r=this,o=t):(r=t,o=this);for(var a=0;a<o.length;a++)this.words[a]=r.words[a]^o.words[a];if(this!==r)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=r.length,this.strip()},f.prototype.ixor=function(t){return d((this.negative|t.negative)===0),this.iuxor(t)},f.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},f.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},f.prototype.inotn=function(t){d(typeof t=="number"&&t>=0);var r=Math.ceil(t/26)|0,o=t%26;this._expand(r),o>0&&r--;for(var a=0;a<r;a++)this.words[a]=~this.words[a]&67108863;return o>0&&(this.words[a]=~this.words[a]&67108863>>26-o),this.strip()},f.prototype.notn=function(t){return this.clone().inotn(t)},f.prototype.setn=function(t,r){d(typeof t=="number"&&t>=0);var o=t/26|0,a=t%26;return this._expand(o+1),r?this.words[o]=this.words[o]|1<<a:this.words[o]=this.words[o]&~(1<<a),this.strip()},f.prototype.iadd=function(t){var r;if(this.negative!==0&&t.negative===0)return this.negative=0,r=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,r=this.isub(t),t.negative=1,r._normSign();var o,a;this.length>t.length?(o=this,a=t):(o=t,a=this);for(var c=0,p=0;p<a.length;p++)r=(o.words[p]|0)+(a.words[p]|0)+c,this.words[p]=r&67108863,c=r>>>26;for(;c!==0&&p<o.length;p++)r=(o.words[p]|0)+c,this.words[p]=r&67108863,c=r>>>26;if(this.length=o.length,c!==0)this.words[this.length]=c,this.length++;else if(o!==this)for(;p<o.length;p++)this.words[p]=o.words[p];return this},f.prototype.add=function(t){var r;return t.negative!==0&&this.negative===0?(t.negative=0,r=this.sub(t),t.negative^=1,r):t.negative===0&&this.negative!==0?(this.negative=0,r=t.sub(this),this.negative=1,r):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},f.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var r=this.iadd(t);return t.negative=1,r._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var o=this.cmp(t);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var a,c;o>0?(a=this,c=t):(a=t,c=this);for(var p=0,m=0;m<c.length;m++)r=(a.words[m]|0)-(c.words[m]|0)+p,p=r>>26,this.words[m]=r&67108863;for(;p!==0&&m<a.length;m++)r=(a.words[m]|0)+p,p=r>>26,this.words[m]=r&67108863;if(p===0&&m<a.length&&a!==this)for(;m<a.length;m++)this.words[m]=a.words[m];return this.length=Math.max(this.length,m),a!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(t){return this.clone().isub(t)};function L(u,t,r){r.negative=t.negative^u.negative;var o=u.length+t.length|0;r.length=o,o=o-1|0;var a=u.words[0]|0,c=t.words[0]|0,p=a*c,m=p&67108863,l=p/67108864|0;r.words[0]=m;for(var e=1;e<o;e++){for(var h=l>>>26,_=l&67108863,w=Math.min(e,t.length-1),y=Math.max(0,e-u.length+1);y<=w;y++){var b=e-y|0;a=u.words[b]|0,c=t.words[y]|0,p=a*c+_,h+=p/67108864|0,_=p&67108863}r.words[e]=_|0,l=h|0}return l!==0?r.words[e]=l|0:r.length--,r.strip()}var yt=function(t,r,o){var a=t.words,c=r.words,p=o.words,m=0,l,e,h,_=a[0]|0,w=_&8191,y=_>>>13,b=a[1]|0,S=b&8191,I=b>>>13,Ct=a[2]|0,C=Ct&8191,N=Ct>>>13,Te=a[3]|0,P=Te&8191,U=Te>>>13,Oe=a[4]|0,W=Oe&8191,z=Oe>>>13,qe=a[5]|0,$=qe&8191,D=qe>>>13,Ne=a[6]|0,H=Ne&8191,j=Ne>>>13,Le=a[7]|0,F=Le&8191,Q=Le>>>13,Ae=a[8]|0,Z=Ae&8191,J=Ae>>>13,Be=a[9]|0,K=Be&8191,G=Be>>>13,Pe=c[0]|0,V=Pe&8191,Y=Pe>>>13,Ue=c[1]|0,X=Ue&8191,tt=Ue>>>13,We=c[2]|0,et=We&8191,nt=We>>>13,ze=c[3]|0,rt=ze&8191,it=ze>>>13,$e=c[4]|0,ot=$e&8191,st=$e>>>13,De=c[5]|0,at=De&8191,lt=De>>>13,He=c[6]|0,ht=He&8191,ct=He>>>13,je=c[7]|0,ft=je&8191,ut=je>>>13,Fe=c[8]|0,dt=Fe&8191,pt=Fe>>>13,Qe=c[9]|0,mt=Qe&8191,gt=Qe>>>13;o.negative=t.negative^r.negative,o.length=19,l=Math.imul(w,V),e=Math.imul(w,Y),e=e+Math.imul(y,V)|0,h=Math.imul(y,Y);var Vt=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,l=Math.imul(S,V),e=Math.imul(S,Y),e=e+Math.imul(I,V)|0,h=Math.imul(I,Y),l=l+Math.imul(w,X)|0,e=e+Math.imul(w,tt)|0,e=e+Math.imul(y,X)|0,h=h+Math.imul(y,tt)|0;var Yt=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,l=Math.imul(C,V),e=Math.imul(C,Y),e=e+Math.imul(N,V)|0,h=Math.imul(N,Y),l=l+Math.imul(S,X)|0,e=e+Math.imul(S,tt)|0,e=e+Math.imul(I,X)|0,h=h+Math.imul(I,tt)|0,l=l+Math.imul(w,et)|0,e=e+Math.imul(w,nt)|0,e=e+Math.imul(y,et)|0,h=h+Math.imul(y,nt)|0;var Xt=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,l=Math.imul(P,V),e=Math.imul(P,Y),e=e+Math.imul(U,V)|0,h=Math.imul(U,Y),l=l+Math.imul(C,X)|0,e=e+Math.imul(C,tt)|0,e=e+Math.imul(N,X)|0,h=h+Math.imul(N,tt)|0,l=l+Math.imul(S,et)|0,e=e+Math.imul(S,nt)|0,e=e+Math.imul(I,et)|0,h=h+Math.imul(I,nt)|0,l=l+Math.imul(w,rt)|0,e=e+Math.imul(w,it)|0,e=e+Math.imul(y,rt)|0,h=h+Math.imul(y,it)|0;var te=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(te>>>26)|0,te&=67108863,l=Math.imul(W,V),e=Math.imul(W,Y),e=e+Math.imul(z,V)|0,h=Math.imul(z,Y),l=l+Math.imul(P,X)|0,e=e+Math.imul(P,tt)|0,e=e+Math.imul(U,X)|0,h=h+Math.imul(U,tt)|0,l=l+Math.imul(C,et)|0,e=e+Math.imul(C,nt)|0,e=e+Math.imul(N,et)|0,h=h+Math.imul(N,nt)|0,l=l+Math.imul(S,rt)|0,e=e+Math.imul(S,it)|0,e=e+Math.imul(I,rt)|0,h=h+Math.imul(I,it)|0,l=l+Math.imul(w,ot)|0,e=e+Math.imul(w,st)|0,e=e+Math.imul(y,ot)|0,h=h+Math.imul(y,st)|0;var ee=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,l=Math.imul($,V),e=Math.imul($,Y),e=e+Math.imul(D,V)|0,h=Math.imul(D,Y),l=l+Math.imul(W,X)|0,e=e+Math.imul(W,tt)|0,e=e+Math.imul(z,X)|0,h=h+Math.imul(z,tt)|0,l=l+Math.imul(P,et)|0,e=e+Math.imul(P,nt)|0,e=e+Math.imul(U,et)|0,h=h+Math.imul(U,nt)|0,l=l+Math.imul(C,rt)|0,e=e+Math.imul(C,it)|0,e=e+Math.imul(N,rt)|0,h=h+Math.imul(N,it)|0,l=l+Math.imul(S,ot)|0,e=e+Math.imul(S,st)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(I,st)|0,l=l+Math.imul(w,at)|0,e=e+Math.imul(w,lt)|0,e=e+Math.imul(y,at)|0,h=h+Math.imul(y,lt)|0;var ne=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ne>>>26)|0,ne&=67108863,l=Math.imul(H,V),e=Math.imul(H,Y),e=e+Math.imul(j,V)|0,h=Math.imul(j,Y),l=l+Math.imul($,X)|0,e=e+Math.imul($,tt)|0,e=e+Math.imul(D,X)|0,h=h+Math.imul(D,tt)|0,l=l+Math.imul(W,et)|0,e=e+Math.imul(W,nt)|0,e=e+Math.imul(z,et)|0,h=h+Math.imul(z,nt)|0,l=l+Math.imul(P,rt)|0,e=e+Math.imul(P,it)|0,e=e+Math.imul(U,rt)|0,h=h+Math.imul(U,it)|0,l=l+Math.imul(C,ot)|0,e=e+Math.imul(C,st)|0,e=e+Math.imul(N,ot)|0,h=h+Math.imul(N,st)|0,l=l+Math.imul(S,at)|0,e=e+Math.imul(S,lt)|0,e=e+Math.imul(I,at)|0,h=h+Math.imul(I,lt)|0,l=l+Math.imul(w,ht)|0,e=e+Math.imul(w,ct)|0,e=e+Math.imul(y,ht)|0,h=h+Math.imul(y,ct)|0;var re=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(re>>>26)|0,re&=67108863,l=Math.imul(F,V),e=Math.imul(F,Y),e=e+Math.imul(Q,V)|0,h=Math.imul(Q,Y),l=l+Math.imul(H,X)|0,e=e+Math.imul(H,tt)|0,e=e+Math.imul(j,X)|0,h=h+Math.imul(j,tt)|0,l=l+Math.imul($,et)|0,e=e+Math.imul($,nt)|0,e=e+Math.imul(D,et)|0,h=h+Math.imul(D,nt)|0,l=l+Math.imul(W,rt)|0,e=e+Math.imul(W,it)|0,e=e+Math.imul(z,rt)|0,h=h+Math.imul(z,it)|0,l=l+Math.imul(P,ot)|0,e=e+Math.imul(P,st)|0,e=e+Math.imul(U,ot)|0,h=h+Math.imul(U,st)|0,l=l+Math.imul(C,at)|0,e=e+Math.imul(C,lt)|0,e=e+Math.imul(N,at)|0,h=h+Math.imul(N,lt)|0,l=l+Math.imul(S,ht)|0,e=e+Math.imul(S,ct)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(I,ct)|0,l=l+Math.imul(w,ft)|0,e=e+Math.imul(w,ut)|0,e=e+Math.imul(y,ft)|0,h=h+Math.imul(y,ut)|0;var ie=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ie>>>26)|0,ie&=67108863,l=Math.imul(Z,V),e=Math.imul(Z,Y),e=e+Math.imul(J,V)|0,h=Math.imul(J,Y),l=l+Math.imul(F,X)|0,e=e+Math.imul(F,tt)|0,e=e+Math.imul(Q,X)|0,h=h+Math.imul(Q,tt)|0,l=l+Math.imul(H,et)|0,e=e+Math.imul(H,nt)|0,e=e+Math.imul(j,et)|0,h=h+Math.imul(j,nt)|0,l=l+Math.imul($,rt)|0,e=e+Math.imul($,it)|0,e=e+Math.imul(D,rt)|0,h=h+Math.imul(D,it)|0,l=l+Math.imul(W,ot)|0,e=e+Math.imul(W,st)|0,e=e+Math.imul(z,ot)|0,h=h+Math.imul(z,st)|0,l=l+Math.imul(P,at)|0,e=e+Math.imul(P,lt)|0,e=e+Math.imul(U,at)|0,h=h+Math.imul(U,lt)|0,l=l+Math.imul(C,ht)|0,e=e+Math.imul(C,ct)|0,e=e+Math.imul(N,ht)|0,h=h+Math.imul(N,ct)|0,l=l+Math.imul(S,ft)|0,e=e+Math.imul(S,ut)|0,e=e+Math.imul(I,ft)|0,h=h+Math.imul(I,ut)|0,l=l+Math.imul(w,dt)|0,e=e+Math.imul(w,pt)|0,e=e+Math.imul(y,dt)|0,h=h+Math.imul(y,pt)|0;var oe=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(oe>>>26)|0,oe&=67108863,l=Math.imul(K,V),e=Math.imul(K,Y),e=e+Math.imul(G,V)|0,h=Math.imul(G,Y),l=l+Math.imul(Z,X)|0,e=e+Math.imul(Z,tt)|0,e=e+Math.imul(J,X)|0,h=h+Math.imul(J,tt)|0,l=l+Math.imul(F,et)|0,e=e+Math.imul(F,nt)|0,e=e+Math.imul(Q,et)|0,h=h+Math.imul(Q,nt)|0,l=l+Math.imul(H,rt)|0,e=e+Math.imul(H,it)|0,e=e+Math.imul(j,rt)|0,h=h+Math.imul(j,it)|0,l=l+Math.imul($,ot)|0,e=e+Math.imul($,st)|0,e=e+Math.imul(D,ot)|0,h=h+Math.imul(D,st)|0,l=l+Math.imul(W,at)|0,e=e+Math.imul(W,lt)|0,e=e+Math.imul(z,at)|0,h=h+Math.imul(z,lt)|0,l=l+Math.imul(P,ht)|0,e=e+Math.imul(P,ct)|0,e=e+Math.imul(U,ht)|0,h=h+Math.imul(U,ct)|0,l=l+Math.imul(C,ft)|0,e=e+Math.imul(C,ut)|0,e=e+Math.imul(N,ft)|0,h=h+Math.imul(N,ut)|0,l=l+Math.imul(S,dt)|0,e=e+Math.imul(S,pt)|0,e=e+Math.imul(I,dt)|0,h=h+Math.imul(I,pt)|0,l=l+Math.imul(w,mt)|0,e=e+Math.imul(w,gt)|0,e=e+Math.imul(y,mt)|0,h=h+Math.imul(y,gt)|0;var se=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(se>>>26)|0,se&=67108863,l=Math.imul(K,X),e=Math.imul(K,tt),e=e+Math.imul(G,X)|0,h=Math.imul(G,tt),l=l+Math.imul(Z,et)|0,e=e+Math.imul(Z,nt)|0,e=e+Math.imul(J,et)|0,h=h+Math.imul(J,nt)|0,l=l+Math.imul(F,rt)|0,e=e+Math.imul(F,it)|0,e=e+Math.imul(Q,rt)|0,h=h+Math.imul(Q,it)|0,l=l+Math.imul(H,ot)|0,e=e+Math.imul(H,st)|0,e=e+Math.imul(j,ot)|0,h=h+Math.imul(j,st)|0,l=l+Math.imul($,at)|0,e=e+Math.imul($,lt)|0,e=e+Math.imul(D,at)|0,h=h+Math.imul(D,lt)|0,l=l+Math.imul(W,ht)|0,e=e+Math.imul(W,ct)|0,e=e+Math.imul(z,ht)|0,h=h+Math.imul(z,ct)|0,l=l+Math.imul(P,ft)|0,e=e+Math.imul(P,ut)|0,e=e+Math.imul(U,ft)|0,h=h+Math.imul(U,ut)|0,l=l+Math.imul(C,dt)|0,e=e+Math.imul(C,pt)|0,e=e+Math.imul(N,dt)|0,h=h+Math.imul(N,pt)|0,l=l+Math.imul(S,mt)|0,e=e+Math.imul(S,gt)|0,e=e+Math.imul(I,mt)|0,h=h+Math.imul(I,gt)|0;var ae=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ae>>>26)|0,ae&=67108863,l=Math.imul(K,et),e=Math.imul(K,nt),e=e+Math.imul(G,et)|0,h=Math.imul(G,nt),l=l+Math.imul(Z,rt)|0,e=e+Math.imul(Z,it)|0,e=e+Math.imul(J,rt)|0,h=h+Math.imul(J,it)|0,l=l+Math.imul(F,ot)|0,e=e+Math.imul(F,st)|0,e=e+Math.imul(Q,ot)|0,h=h+Math.imul(Q,st)|0,l=l+Math.imul(H,at)|0,e=e+Math.imul(H,lt)|0,e=e+Math.imul(j,at)|0,h=h+Math.imul(j,lt)|0,l=l+Math.imul($,ht)|0,e=e+Math.imul($,ct)|0,e=e+Math.imul(D,ht)|0,h=h+Math.imul(D,ct)|0,l=l+Math.imul(W,ft)|0,e=e+Math.imul(W,ut)|0,e=e+Math.imul(z,ft)|0,h=h+Math.imul(z,ut)|0,l=l+Math.imul(P,dt)|0,e=e+Math.imul(P,pt)|0,e=e+Math.imul(U,dt)|0,h=h+Math.imul(U,pt)|0,l=l+Math.imul(C,mt)|0,e=e+Math.imul(C,gt)|0,e=e+Math.imul(N,mt)|0,h=h+Math.imul(N,gt)|0;var le=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(le>>>26)|0,le&=67108863,l=Math.imul(K,rt),e=Math.imul(K,it),e=e+Math.imul(G,rt)|0,h=Math.imul(G,it),l=l+Math.imul(Z,ot)|0,e=e+Math.imul(Z,st)|0,e=e+Math.imul(J,ot)|0,h=h+Math.imul(J,st)|0,l=l+Math.imul(F,at)|0,e=e+Math.imul(F,lt)|0,e=e+Math.imul(Q,at)|0,h=h+Math.imul(Q,lt)|0,l=l+Math.imul(H,ht)|0,e=e+Math.imul(H,ct)|0,e=e+Math.imul(j,ht)|0,h=h+Math.imul(j,ct)|0,l=l+Math.imul($,ft)|0,e=e+Math.imul($,ut)|0,e=e+Math.imul(D,ft)|0,h=h+Math.imul(D,ut)|0,l=l+Math.imul(W,dt)|0,e=e+Math.imul(W,pt)|0,e=e+Math.imul(z,dt)|0,h=h+Math.imul(z,pt)|0,l=l+Math.imul(P,mt)|0,e=e+Math.imul(P,gt)|0,e=e+Math.imul(U,mt)|0,h=h+Math.imul(U,gt)|0;var he=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(he>>>26)|0,he&=67108863,l=Math.imul(K,ot),e=Math.imul(K,st),e=e+Math.imul(G,ot)|0,h=Math.imul(G,st),l=l+Math.imul(Z,at)|0,e=e+Math.imul(Z,lt)|0,e=e+Math.imul(J,at)|0,h=h+Math.imul(J,lt)|0,l=l+Math.imul(F,ht)|0,e=e+Math.imul(F,ct)|0,e=e+Math.imul(Q,ht)|0,h=h+Math.imul(Q,ct)|0,l=l+Math.imul(H,ft)|0,e=e+Math.imul(H,ut)|0,e=e+Math.imul(j,ft)|0,h=h+Math.imul(j,ut)|0,l=l+Math.imul($,dt)|0,e=e+Math.imul($,pt)|0,e=e+Math.imul(D,dt)|0,h=h+Math.imul(D,pt)|0,l=l+Math.imul(W,mt)|0,e=e+Math.imul(W,gt)|0,e=e+Math.imul(z,mt)|0,h=h+Math.imul(z,gt)|0;var ce=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ce>>>26)|0,ce&=67108863,l=Math.imul(K,at),e=Math.imul(K,lt),e=e+Math.imul(G,at)|0,h=Math.imul(G,lt),l=l+Math.imul(Z,ht)|0,e=e+Math.imul(Z,ct)|0,e=e+Math.imul(J,ht)|0,h=h+Math.imul(J,ct)|0,l=l+Math.imul(F,ft)|0,e=e+Math.imul(F,ut)|0,e=e+Math.imul(Q,ft)|0,h=h+Math.imul(Q,ut)|0,l=l+Math.imul(H,dt)|0,e=e+Math.imul(H,pt)|0,e=e+Math.imul(j,dt)|0,h=h+Math.imul(j,pt)|0,l=l+Math.imul($,mt)|0,e=e+Math.imul($,gt)|0,e=e+Math.imul(D,mt)|0,h=h+Math.imul(D,gt)|0;var fe=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(fe>>>26)|0,fe&=67108863,l=Math.imul(K,ht),e=Math.imul(K,ct),e=e+Math.imul(G,ht)|0,h=Math.imul(G,ct),l=l+Math.imul(Z,ft)|0,e=e+Math.imul(Z,ut)|0,e=e+Math.imul(J,ft)|0,h=h+Math.imul(J,ut)|0,l=l+Math.imul(F,dt)|0,e=e+Math.imul(F,pt)|0,e=e+Math.imul(Q,dt)|0,h=h+Math.imul(Q,pt)|0,l=l+Math.imul(H,mt)|0,e=e+Math.imul(H,gt)|0,e=e+Math.imul(j,mt)|0,h=h+Math.imul(j,gt)|0;var ue=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(ue>>>26)|0,ue&=67108863,l=Math.imul(K,ft),e=Math.imul(K,ut),e=e+Math.imul(G,ft)|0,h=Math.imul(G,ut),l=l+Math.imul(Z,dt)|0,e=e+Math.imul(Z,pt)|0,e=e+Math.imul(J,dt)|0,h=h+Math.imul(J,pt)|0,l=l+Math.imul(F,mt)|0,e=e+Math.imul(F,gt)|0,e=e+Math.imul(Q,mt)|0,h=h+Math.imul(Q,gt)|0;var de=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(de>>>26)|0,de&=67108863,l=Math.imul(K,dt),e=Math.imul(K,pt),e=e+Math.imul(G,dt)|0,h=Math.imul(G,pt),l=l+Math.imul(Z,mt)|0,e=e+Math.imul(Z,gt)|0,e=e+Math.imul(J,mt)|0,h=h+Math.imul(J,gt)|0;var pe=(m+l|0)+((e&8191)<<13)|0;m=(h+(e>>>13)|0)+(pe>>>26)|0,pe&=67108863,l=Math.imul(K,mt),e=Math.imul(K,gt),e=e+Math.imul(G,mt)|0,h=Math.imul(G,gt);var me=(m+l|0)+((e&8191)<<13)|0;return m=(h+(e>>>13)|0)+(me>>>26)|0,me&=67108863,p[0]=Vt,p[1]=Yt,p[2]=Xt,p[3]=te,p[4]=ee,p[5]=ne,p[6]=re,p[7]=ie,p[8]=oe,p[9]=se,p[10]=ae,p[11]=le,p[12]=he,p[13]=ce,p[14]=fe,p[15]=ue,p[16]=de,p[17]=pe,p[18]=me,m!==0&&(p[19]=m,o.length++),o};Math.imul||(yt=L);function xt(u,t,r){r.negative=t.negative^u.negative,r.length=u.length+t.length;for(var o=0,a=0,c=0;c<r.length-1;c++){var p=a;a=0;for(var m=o&67108863,l=Math.min(c,t.length-1),e=Math.max(0,c-u.length+1);e<=l;e++){var h=c-e,_=u.words[h]|0,w=t.words[e]|0,y=_*w,b=y&67108863;p=p+(y/67108864|0)|0,b=b+m|0,m=b&67108863,p=p+(b>>>26)|0,a+=p>>>26,p&=67108863}r.words[c]=m,o=p,p=a}return o!==0?r.words[c]=o:r.length--,r.strip()}function k(u,t,r){var o=new A;return o.mulp(u,t,r)}f.prototype.mulTo=function(t,r){var o,a=this.length+t.length;return this.length===10&&t.length===10?o=yt(this,t,r):a<63?o=L(this,t,r):a<1024?o=xt(this,t,r):o=k(this,t,r),o};function A(u,t){this.x=u,this.y=t}A.prototype.makeRBT=function(t){for(var r=new Array(t),o=f.prototype._countBits(t)-1,a=0;a<t;a++)r[a]=this.revBin(a,o,t);return r},A.prototype.revBin=function(t,r,o){if(t===0||t===o-1)return t;for(var a=0,c=0;c<r;c++)a|=(t&1)<<r-c-1,t>>=1;return a},A.prototype.permute=function(t,r,o,a,c,p){for(var m=0;m<p;m++)a[m]=r[t[m]],c[m]=o[t[m]]},A.prototype.transform=function(t,r,o,a,c,p){this.permute(p,t,r,o,a,c);for(var m=1;m<c;m<<=1)for(var l=m<<1,e=Math.cos(2*Math.PI/l),h=Math.sin(2*Math.PI/l),_=0;_<c;_+=l)for(var w=e,y=h,b=0;b<m;b++){var S=o[_+b],I=a[_+b],Ct=o[_+b+m],C=a[_+b+m],N=w*Ct-y*C;C=w*C+y*Ct,Ct=N,o[_+b]=S+Ct,a[_+b]=I+C,o[_+b+m]=S-Ct,a[_+b+m]=I-C,b!==l&&(N=e*w-h*y,y=e*y+h*w,w=N)}},A.prototype.guessLen13b=function(t,r){var o=Math.max(r,t)|1,a=o&1,c=0;for(o=o/2|0;o;o=o>>>1)c++;return 1<<c+1+a},A.prototype.conjugate=function(t,r,o){if(!(o<=1))for(var a=0;a<o/2;a++){var c=t[a];t[a]=t[o-a-1],t[o-a-1]=c,c=r[a],r[a]=-r[o-a-1],r[o-a-1]=-c}},A.prototype.normalize13b=function(t,r){for(var o=0,a=0;a<r/2;a++){var c=Math.round(t[2*a+1]/r)*8192+Math.round(t[2*a]/r)+o;t[a]=c&67108863,c<67108864?o=0:o=c/67108864|0}return t},A.prototype.convert13b=function(t,r,o,a){for(var c=0,p=0;p<r;p++)c=c+(t[p]|0),o[2*p]=c&8191,c=c>>>13,o[2*p+1]=c&8191,c=c>>>13;for(p=2*r;p<a;++p)o[p]=0;d(c===0),d((c&-8192)===0)},A.prototype.stub=function(t){for(var r=new Array(t),o=0;o<t;o++)r[o]=0;return r},A.prototype.mulp=function(t,r,o){var a=2*this.guessLen13b(t.length,r.length),c=this.makeRBT(a),p=this.stub(a),m=new Array(a),l=new Array(a),e=new Array(a),h=new Array(a),_=new Array(a),w=new Array(a),y=o.words;y.length=a,this.convert13b(t.words,t.length,m,a),this.convert13b(r.words,r.length,h,a),this.transform(m,p,l,e,a,c),this.transform(h,p,_,w,a,c);for(var b=0;b<a;b++){var S=l[b]*_[b]-e[b]*w[b];e[b]=l[b]*w[b]+e[b]*_[b],l[b]=S}return this.conjugate(l,e,a),this.transform(l,e,y,p,a,c),this.conjugate(y,p,a),this.normalize13b(y,a),o.negative=t.negative^r.negative,o.length=t.length+r.length,o.strip()},f.prototype.mul=function(t){var r=new f(null);return r.words=new Array(this.length+t.length),this.mulTo(t,r)},f.prototype.mulf=function(t){var r=new f(null);return r.words=new Array(this.length+t.length),k(this,t,r)},f.prototype.imul=function(t){return this.clone().mulTo(t,this)},f.prototype.imuln=function(t){d(typeof t=="number"),d(t<67108864);for(var r=0,o=0;o<this.length;o++){var a=(this.words[o]|0)*t,c=(a&67108863)+(r&67108863);r>>=26,r+=a/67108864|0,r+=c>>>26,this.words[o]=c&67108863}return r!==0&&(this.words[o]=r,this.length++),this},f.prototype.muln=function(t){return this.clone().imuln(t)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(t){var r=q(t);if(r.length===0)return new f(1);for(var o=this,a=0;a<r.length&&r[a]===0;a++,o=o.sqr());if(++a<r.length)for(var c=o.sqr();a<r.length;a++,c=c.sqr())r[a]!==0&&(o=o.mul(c));return o},f.prototype.iushln=function(t){d(typeof t=="number"&&t>=0);var r=t%26,o=(t-r)/26,a=67108863>>>26-r<<26-r,c;if(r!==0){var p=0;for(c=0;c<this.length;c++){var m=this.words[c]&a,l=(this.words[c]|0)-m<<r;this.words[c]=l|p,p=m>>>26-r}p&&(this.words[c]=p,this.length++)}if(o!==0){for(c=this.length-1;c>=0;c--)this.words[c+o]=this.words[c];for(c=0;c<o;c++)this.words[c]=0;this.length+=o}return this.strip()},f.prototype.ishln=function(t){return d(this.negative===0),this.iushln(t)},f.prototype.iushrn=function(t,r,o){d(typeof t=="number"&&t>=0);var a;r?a=(r-r%26)/26:a=0;var c=t%26,p=Math.min((t-c)/26,this.length),m=67108863^67108863>>>c<<c,l=o;if(a-=p,a=Math.max(0,a),l){for(var e=0;e<p;e++)l.words[e]=this.words[e];l.length=p}if(p!==0)if(this.length>p)for(this.length-=p,e=0;e<this.length;e++)this.words[e]=this.words[e+p];else this.words[0]=0,this.length=1;var h=0;for(e=this.length-1;e>=0&&(h!==0||e>=a);e--){var _=this.words[e]|0;this.words[e]=h<<26-c|_>>>c,h=_&m}return l&&h!==0&&(l.words[l.length++]=h),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(t,r,o){return d(this.negative===0),this.iushrn(t,r,o)},f.prototype.shln=function(t){return this.clone().ishln(t)},f.prototype.ushln=function(t){return this.clone().iushln(t)},f.prototype.shrn=function(t){return this.clone().ishrn(t)},f.prototype.ushrn=function(t){return this.clone().iushrn(t)},f.prototype.testn=function(t){d(typeof t=="number"&&t>=0);var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return!1;var c=this.words[o];return!!(c&a)},f.prototype.imaskn=function(t){d(typeof t=="number"&&t>=0);var r=t%26,o=(t-r)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(r!==0&&o++,this.length=Math.min(o,this.length),r!==0){var a=67108863^67108863>>>r<<r;this.words[this.length-1]&=a}return this.strip()},f.prototype.maskn=function(t){return this.clone().imaskn(t)},f.prototype.iaddn=function(t){return d(typeof t=="number"),d(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},f.prototype._iaddn=function(t){this.words[0]+=t;for(var r=0;r<this.length&&this.words[r]>=67108864;r++)this.words[r]-=67108864,r===this.length-1?this.words[r+1]=1:this.words[r+1]++;return this.length=Math.max(this.length,r+1),this},f.prototype.isubn=function(t){if(d(typeof t=="number"),d(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var r=0;r<this.length&&this.words[r]<0;r++)this.words[r]+=67108864,this.words[r+1]-=1;return this.strip()},f.prototype.addn=function(t){return this.clone().iaddn(t)},f.prototype.subn=function(t){return this.clone().isubn(t)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(t,r,o){var a=t.length+o,c;this._expand(a);var p,m=0;for(c=0;c<t.length;c++){p=(this.words[c+o]|0)+m;var l=(t.words[c]|0)*r;p-=l&67108863,m=(p>>26)-(l/67108864|0),this.words[c+o]=p&67108863}for(;c<this.length-o;c++)p=(this.words[c+o]|0)+m,m=p>>26,this.words[c+o]=p&67108863;if(m===0)return this.strip();for(d(m===-1),m=0,c=0;c<this.length;c++)p=-(this.words[c]|0)+m,m=p>>26,this.words[c]=p&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(t,r){var o=this.length-t.length,a=this.clone(),c=t,p=c.words[c.length-1]|0,m=this._countBits(p);o=26-m,o!==0&&(c=c.ushln(o),a.iushln(o),p=c.words[c.length-1]|0);var l=a.length-c.length,e;if(r!=="mod"){e=new f(null),e.length=l+1,e.words=new Array(e.length);for(var h=0;h<e.length;h++)e.words[h]=0}var _=a.clone()._ishlnsubmul(c,1,l);_.negative===0&&(a=_,e&&(e.words[l]=1));for(var w=l-1;w>=0;w--){var y=(a.words[c.length+w]|0)*67108864+(a.words[c.length+w-1]|0);for(y=Math.min(y/p|0,67108863),a._ishlnsubmul(c,y,w);a.negative!==0;)y--,a.negative=0,a._ishlnsubmul(c,1,w),a.isZero()||(a.negative^=1);e&&(e.words[w]=y)}return e&&e.strip(),a.strip(),r!=="div"&&o!==0&&a.iushrn(o),{div:e||null,mod:a}},f.prototype.divmod=function(t,r,o){if(d(!t.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var a,c,p;return this.negative!==0&&t.negative===0?(p=this.neg().divmod(t,r),r!=="mod"&&(a=p.div.neg()),r!=="div"&&(c=p.mod.neg(),o&&c.negative!==0&&c.iadd(t)),{div:a,mod:c}):this.negative===0&&t.negative!==0?(p=this.divmod(t.neg(),r),r!=="mod"&&(a=p.div.neg()),{div:a,mod:p.mod}):(this.negative&t.negative)!==0?(p=this.neg().divmod(t.neg(),r),r!=="div"&&(c=p.mod.neg(),o&&c.negative!==0&&c.isub(t)),{div:p.div,mod:c}):t.length>this.length||this.cmp(t)<0?{div:new f(0),mod:this}:t.length===1?r==="div"?{div:this.divn(t.words[0]),mod:null}:r==="mod"?{div:null,mod:new f(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new f(this.modn(t.words[0]))}:this._wordDiv(t,r)},f.prototype.div=function(t){return this.divmod(t,"div",!1).div},f.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},f.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},f.prototype.divRound=function(t){var r=this.divmod(t);if(r.mod.isZero())return r.div;var o=r.div.negative!==0?r.mod.isub(t):r.mod,a=t.ushrn(1),c=t.andln(1),p=o.cmp(a);return p<0||c===1&&p===0?r.div:r.div.negative!==0?r.div.isubn(1):r.div.iaddn(1)},f.prototype.modn=function(t){d(t<=67108863);for(var r=(1<<26)%t,o=0,a=this.length-1;a>=0;a--)o=(r*o+(this.words[a]|0))%t;return o},f.prototype.idivn=function(t){d(t<=67108863);for(var r=0,o=this.length-1;o>=0;o--){var a=(this.words[o]|0)+r*67108864;this.words[o]=a/t|0,r=a%t}return this.strip()},f.prototype.divn=function(t){return this.clone().idivn(t)},f.prototype.egcd=function(t){d(t.negative===0),d(!t.isZero());var r=this,o=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new f(1),c=new f(0),p=new f(0),m=new f(1),l=0;r.isEven()&&o.isEven();)r.iushrn(1),o.iushrn(1),++l;for(var e=o.clone(),h=r.clone();!r.isZero();){for(var _=0,w=1;(r.words[0]&w)===0&&_<26;++_,w<<=1);if(_>0)for(r.iushrn(_);_-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(e),c.isub(h)),a.iushrn(1),c.iushrn(1);for(var y=0,b=1;(o.words[0]&b)===0&&y<26;++y,b<<=1);if(y>0)for(o.iushrn(y);y-- >0;)(p.isOdd()||m.isOdd())&&(p.iadd(e),m.isub(h)),p.iushrn(1),m.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(p),c.isub(m)):(o.isub(r),p.isub(a),m.isub(c))}return{a:p,b:m,gcd:o.iushln(l)}},f.prototype._invmp=function(t){d(t.negative===0),d(!t.isZero());var r=this,o=t.clone();r.negative!==0?r=r.umod(t):r=r.clone();for(var a=new f(1),c=new f(0),p=o.clone();r.cmpn(1)>0&&o.cmpn(1)>0;){for(var m=0,l=1;(r.words[0]&l)===0&&m<26;++m,l<<=1);if(m>0)for(r.iushrn(m);m-- >0;)a.isOdd()&&a.iadd(p),a.iushrn(1);for(var e=0,h=1;(o.words[0]&h)===0&&e<26;++e,h<<=1);if(e>0)for(o.iushrn(e);e-- >0;)c.isOdd()&&c.iadd(p),c.iushrn(1);r.cmp(o)>=0?(r.isub(o),a.isub(c)):(o.isub(r),c.isub(a))}var _;return r.cmpn(1)===0?_=a:_=c,_.cmpn(0)<0&&_.iadd(t),_},f.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var r=this.clone(),o=t.clone();r.negative=0,o.negative=0;for(var a=0;r.isEven()&&o.isEven();a++)r.iushrn(1),o.iushrn(1);do{for(;r.isEven();)r.iushrn(1);for(;o.isEven();)o.iushrn(1);var c=r.cmp(o);if(c<0){var p=r;r=o,o=p}else if(c===0||o.cmpn(1)===0)break;r.isub(o)}while(!0);return o.iushln(a)},f.prototype.invm=function(t){return this.egcd(t).a.umod(t)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(t){return this.words[0]&t},f.prototype.bincn=function(t){d(typeof t=="number");var r=t%26,o=(t-r)/26,a=1<<r;if(this.length<=o)return this._expand(o+1),this.words[o]|=a,this;for(var c=a,p=o;c!==0&&p<this.length;p++){var m=this.words[p]|0;m+=c,c=m>>>26,m&=67108863,this.words[p]=m}return c!==0&&(this.words[p]=c,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(t){var r=t<0;if(this.negative!==0&&!r)return-1;if(this.negative===0&&r)return 1;this.strip();var o;if(this.length>1)o=1;else{r&&(t=-t),d(t<=67108863,"Number is too big");var a=this.words[0]|0;o=a===t?0:a<t?-1:1}return this.negative!==0?-o|0:o},f.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var r=this.ucmp(t);return this.negative!==0?-r|0:r},f.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var r=0,o=this.length-1;o>=0;o--){var a=this.words[o]|0,c=t.words[o]|0;if(a!==c){a<c?r=-1:a>c&&(r=1);break}}return r},f.prototype.gtn=function(t){return this.cmpn(t)===1},f.prototype.gt=function(t){return this.cmp(t)===1},f.prototype.gten=function(t){return this.cmpn(t)>=0},f.prototype.gte=function(t){return this.cmp(t)>=0},f.prototype.ltn=function(t){return this.cmpn(t)===-1},f.prototype.lt=function(t){return this.cmp(t)===-1},f.prototype.lten=function(t){return this.cmpn(t)<=0},f.prototype.lte=function(t){return this.cmp(t)<=0},f.prototype.eqn=function(t){return this.cmpn(t)===0},f.prototype.eq=function(t){return this.cmp(t)===0},f.red=function(t){return new E(t)},f.prototype.toRed=function(t){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(t){return this.red=t,this},f.prototype.forceRed=function(t){return d(!this.red,"Already a number in reduction context"),this._forceRed(t)},f.prototype.redAdd=function(t){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},f.prototype.redIAdd=function(t){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},f.prototype.redSub=function(t){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},f.prototype.redISub=function(t){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},f.prototype.redShl=function(t){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},f.prototype.redMul=function(t){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},f.prototype.redIMul=function(t){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(t){return d(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var kt={k256:null,p224:null,p192:null,p25519:null};function _t(u,t){this.name=u,this.p=new f(t,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_t.prototype._tmp=function(){var t=new f(null);return t.words=new Array(Math.ceil(this.n/13)),t},_t.prototype.ireduce=function(t){var r=t,o;do this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),o=r.bitLength();while(o>this.n);var a=o<this.n?-1:r.ucmp(this.p);return a===0?(r.words[0]=0,r.length=1):a>0?r.isub(this.p):r.strip(),r},_t.prototype.split=function(t,r){t.iushrn(this.n,0,r)},_t.prototype.imulK=function(t){return t.imul(this.k)};function B(){_t.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}g(B,_t),B.prototype.split=function(t,r){for(var o=4194303,a=Math.min(t.length,9),c=0;c<a;c++)r.words[c]=t.words[c];if(r.length=a,t.length<=9){t.words[0]=0,t.length=1;return}var p=t.words[9];for(r.words[r.length++]=p&o,c=10;c<t.length;c++){var m=t.words[c]|0;t.words[c-10]=(m&o)<<4|p>>>22,p=m}p>>>=22,t.words[c-10]=p,p===0&&t.length>10?t.length-=10:t.length-=9},B.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var r=0,o=0;o<t.length;o++){var a=t.words[o]|0;r+=a*977,t.words[o]=r&67108863,r=a*64+(r/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function wt(){_t.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}g(wt,_t);function Rt(){_t.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}g(Rt,_t);function It(){_t.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}g(It,_t),It.prototype.imulK=function(t){for(var r=0,o=0;o<t.length;o++){var a=(t.words[o]|0)*19+r,c=a&67108863;a>>>=26,t.words[o]=c,r=a}return r!==0&&(t.words[t.length++]=r),t},f._prime=function(t){if(kt[t])return kt[t];var r;if(t==="k256")r=new B;else if(t==="p224")r=new wt;else if(t==="p192")r=new Rt;else if(t==="p25519")r=new It;else throw new Error("Unknown prime "+t);return kt[t]=r,r};function E(u){if(typeof u=="string"){var t=f._prime(u);this.m=t.p,this.prime=t}else d(u.gtn(1),"modulus must be greater than 1"),this.m=u,this.prime=null}E.prototype._verify1=function(t){d(t.negative===0,"red works only with positives"),d(t.red,"red works only with red numbers")},E.prototype._verify2=function(t,r){d((t.negative|r.negative)===0,"red works only with positives"),d(t.red&&t.red===r.red,"red works only with red numbers")},E.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},E.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},E.prototype.add=function(t,r){this._verify2(t,r);var o=t.add(r);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},E.prototype.iadd=function(t,r){this._verify2(t,r);var o=t.iadd(r);return o.cmp(this.m)>=0&&o.isub(this.m),o},E.prototype.sub=function(t,r){this._verify2(t,r);var o=t.sub(r);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},E.prototype.isub=function(t,r){this._verify2(t,r);var o=t.isub(r);return o.cmpn(0)<0&&o.iadd(this.m),o},E.prototype.shl=function(t,r){return this._verify1(t),this.imod(t.ushln(r))},E.prototype.imul=function(t,r){return this._verify2(t,r),this.imod(t.imul(r))},E.prototype.mul=function(t,r){return this._verify2(t,r),this.imod(t.mul(r))},E.prototype.isqr=function(t){return this.imul(t,t.clone())},E.prototype.sqr=function(t){return this.mul(t,t)},E.prototype.sqrt=function(t){if(t.isZero())return t.clone();var r=this.m.andln(3);if(d(r%2===1),r===3){var o=this.m.add(new f(1)).iushrn(2);return this.pow(t,o)}for(var a=this.m.subn(1),c=0;!a.isZero()&&a.andln(1)===0;)c++,a.iushrn(1);d(!a.isZero());var p=new f(1).toRed(this),m=p.redNeg(),l=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new f(2*e*e).toRed(this);this.pow(e,l).cmp(m)!==0;)e.redIAdd(m);for(var h=this.pow(e,a),_=this.pow(t,a.addn(1).iushrn(1)),w=this.pow(t,a),y=c;w.cmp(p)!==0;){for(var b=w,S=0;b.cmp(p)!==0;S++)b=b.redSqr();d(S<y);var I=this.pow(h,new f(1).iushln(y-S-1));_=_.redMul(I),h=I.redSqr(),w=w.redMul(h),y=S}return _},E.prototype.invm=function(t){var r=t._invmp(this.m);return r.negative!==0?(r.negative=0,this.imod(r).redNeg()):this.imod(r)},E.prototype.pow=function(t,r){if(r.isZero())return new f(1).toRed(this);if(r.cmpn(1)===0)return t.clone();var o=4,a=new Array(1<<o);a[0]=new f(1).toRed(this),a[1]=t;for(var c=2;c<a.length;c++)a[c]=this.mul(a[c-1],t);var p=a[0],m=0,l=0,e=r.bitLength()%26;for(e===0&&(e=26),c=r.length-1;c>=0;c--){for(var h=r.words[c],_=e-1;_>=0;_--){var w=h>>_&1;if(p!==a[0]&&(p=this.sqr(p)),w===0&&m===0){l=0;continue}m<<=1,m|=w,l++,!(l!==o&&(c!==0||_!==0))&&(p=this.mul(p,a[m]),l=0,m=0)}e=26}return p},E.prototype.convertTo=function(t){var r=t.umod(this.m);return r===t?r.clone():r},E.prototype.convertFrom=function(t){var r=t.clone();return r.red=null,r},f.mont=function(t){return new bt(t)};function bt(u){E.call(this,u),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g(bt,E),bt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},bt.prototype.convertFrom=function(t){var r=this.imod(t.mul(this.rinv));return r.red=null,r},bt.prototype.imul=function(t,r){if(t.isZero()||r.isZero())return t.words[0]=0,t.length=1,t;var o=t.imul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=o.isub(a).iushrn(this.shift),p=c;return c.cmp(this.m)>=0?p=c.isub(this.m):c.cmpn(0)<0&&(p=c.iadd(this.m)),p._forceRed(this)},bt.prototype.mul=function(t,r){if(t.isZero()||r.isZero())return new f(0)._forceRed(this);var o=t.mul(r),a=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),c=o.isub(a).iushrn(this.shift),p=c;return c.cmp(this.m)>=0?p=c.isub(this.m):c.cmpn(0)<0&&(p=c.iadd(this.m)),p._forceRed(this)},bt.prototype.invm=function(t){var r=this.imod(t._invmp(this.m).mul(this.r2));return r._forceRed(this)}})(i,Et)})(In);var Br=In.exports;const Cn="hex",Tn="utf8",Kt="0";function Ut(i){return new Uint8Array(i)}function On(i,n=!1){const s=i.toString(Cn);return n?zt(s):s}function Pr(i){return i.toString(Tn)}function Gt(i){return er(i)}function Bt(i,n=!1){return On(Gt(i),n)}function Ur(i){return Pr(Gt(i))}function Wr(i){return Buffer.from(qt(i),Cn)}function Pt(i){return Ut(Wr(i))}function Ee(i){return Buffer.from(i,Tn)}function zr(i){return Ut(Ee(i))}function $r(i,n=!1){return On(Ee(i),n)}function Dr(i,n){return!(typeof i!="string"||!i.match(/^0x[0-9A-Fa-f]*$/)||n&&i.length!==2+2*n)}function qn(...i){let n=[];return i.forEach(s=>n=n.concat(Array.from(s))),new Uint8Array([...n])}function Hr(i,n=8){const s=i%n;return s?(i-s)/n*n+n:i}function jr(i,n=8,s=Kt){return Fr(i,Hr(i.length,n),s)}function Fr(i,n,s=Kt){return Zr(i,n,!0,s)}function qt(i){return i.replace(/^0x/,"")}function zt(i){return i.startsWith("0x")?i:`0x${i}`}function Nn(i){return i=qt(i),i=jr(i,2),i&&(i=zt(i)),i}function Qr(i){const n=i.startsWith("0x");return i=qt(i),i=i.startsWith(Kt)?i.substring(1):i,n?zt(i):i}function Zr(i,n,s,d=Kt){const g=n-i.length;let f=i;if(g>0){const M=d.repeat(g);f=s?M+i:i+M}return f}function Me(i){return Gt(new Uint8Array(i))}function Jr(i,n){return Bt(new Uint8Array(i),!n)}function Kr(i){return Ut(i).buffer}function Gr(i){return Ee(i)}function Vr(i,n){return $r(i,!n)}function Yr(i){return Pt(i).buffer}function Ln(i,n){const s=qt(Nn(new Br(i).toString(16)));return n?s:zt(s)}var $t={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.isBrowserCryptoAvailable=Tt.getSubtleCrypto=Tt.getBrowerCrypto=void 0;function Ie(){return(Et===null||Et===void 0?void 0:Et.crypto)||(Et===null||Et===void 0?void 0:Et.msCrypto)||{}}Tt.getBrowerCrypto=Ie;function An(){const i=Ie();return i.subtle||i.webkitSubtle}Tt.getSubtleCrypto=An;function Xr(){return!!Ie()&&!!An()}Tt.isBrowserCryptoAvailable=Xr;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.isBrowser=Ot.isNode=Ot.isReactNative=void 0;function Bn(){return typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"}Ot.isReactNative=Bn;function Pn(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"}Ot.isNode=Pn;function ti(){return!Bn()&&!Pn()}Ot.isBrowser=ti;(function(i){var n=Et&&Et.__createBinding||(Object.create?function(d,g,f,M){M===void 0&&(M=f),Object.defineProperty(d,M,{enumerable:!0,get:function(){return g[f]}})}:function(d,g,f,M){M===void 0&&(M=f),d[M]=g[f]}),s=Et&&Et.__exportStar||function(d,g){for(var f in d)f!=="default"&&!g.hasOwnProperty(f)&&n(g,d,f)};Object.defineProperty(i,"__esModule",{value:!0}),s(Tt,i),s(Ot,i)})($t);function ei(){const i=Date.now()*Math.pow(10,3),n=Math.floor(Math.random()*Math.pow(10,3));return i+n}function Ht(i){return Nn(i)}function ni(i){return Qr(zt(i))}const ri=ei;function ge(){return((n,s)=>{for(s=n="";n++<36;s+=n*51&52?(n^15?8^Math.random()*(n^20?16:4):4).toString(16):"-");return s})()}function ii(i){return i===""||typeof i=="string"&&i.trim()===""}function oi(i){return!(i&&i.length)}function Un(i,n){return Dr(i,n)}function si(i){return typeof i.method!="undefined"}function Dt(i){return typeof i.result!="undefined"}function Ft(i){return typeof i.error!="undefined"}function Je(i){return typeof i.event!="undefined"}function ai(i){return Ar.includes(i)||i.startsWith("wc_")}function li(i){return i.method.startsWith("wc_")?!0:!En.includes(i.method)}function hi(i){i=qt(i.toLowerCase());const n=qt(Xn.exports.keccak_256(Gr(i)));let s="";for(let d=0;d<i.length;d++)parseInt(n[d],16)>7?s+=i[d].toUpperCase():s+=i[d];return zt(s)}const ci=i=>i?i.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(i)?/^(0x)?[0-9a-f]{40}$/.test(i)||/^(0x)?[0-9A-F]{40}$/.test(i)?!0:i===hi(i):!1:!1;function Ke(i){return!oi(i)&&!Un(i[0])&&(i[0]=Vr(i[0])),i}function ve(i){if(typeof i.type!="undefined"&&i.type!=="0")return i;if(typeof i.from=="undefined"||!ci(i.from))throw new Error("Transaction object must include a valid 'from' value.");function n(g){let f=g;return(typeof g=="number"||typeof g=="string"&&!ii(g))&&(Un(g)?typeof g=="string"&&(f=Ht(g)):f=Ln(g)),typeof f=="string"&&(f=ni(f)),f}const s={from:Ht(i.from),to:typeof i.to=="undefined"?void 0:Ht(i.to),gasPrice:typeof i.gasPrice=="undefined"?"":n(i.gasPrice),gas:typeof i.gas=="undefined"?typeof i.gasLimit=="undefined"?"":n(i.gasLimit):n(i.gas),value:typeof i.value=="undefined"?"":n(i.value),nonce:typeof i.nonce=="undefined"?"":n(i.nonce),data:typeof i.data=="undefined"?"":Ht(i.data)||"0x"},d=["gasPrice","gas","value","nonce"];return Object.keys(s).forEach(g=>{(typeof s[g]=="undefined"||typeof s[g]=="string"&&!s[g].trim().length)&&d.includes(g)&&delete s[g]}),s}function fi(i){const n=i.message||"Failed or Rejected Request";let s=-32e3;if(i&&!i.code)switch(n){case"Parse error":s=-32700;break;case"Invalid request":s=-32600;break;case"Method not found":s=-32601;break;case"Invalid params":s=-32602;break;case"Internal error":s=-32603;break;default:s=-32e3;break}const d={code:s,message:n};return i.data&&(d.data=i.data),d}function ui(i){const n=i.indexOf("?")!==-1?i.indexOf("?"):void 0;return typeof n!="undefined"?i.substr(n):""}function di(i,n){let s=Wn(i);return s=Object.assign(Object.assign({},s),n),i=pi(s),i}function Wn(i){return tn.parse(i)}function pi(i){return tn.stringify(i)}function mi(i){return typeof i.bridge!="undefined"}function gi(i){const n=i.indexOf(":"),s=i.indexOf("?")!==-1?i.indexOf("?"):void 0,d=i.substring(0,n),g=i.substring(n+1,s);function f(x){const q="@",L=x.split(q);return{handshakeTopic:L[0],version:parseInt(L[1],10)}}const M=f(g),O=typeof s!="undefined"?i.substr(s):"";function R(x){const q=Wn(x);return{key:q.key||"",bridge:q.bridge||""}}const vt=R(O);return Object.assign(Object.assign({protocol:d},M),vt)}class vi{constructor(){this._eventEmitters=[],typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(n,s){this._eventEmitters.push({event:n,callback:s})}trigger(n){let s=[];n&&(s=this._eventEmitters.filter(d=>d.event===n)),s.forEach(d=>{d.callback()})}}const _i=typeof global.WebSocket!="undefined"?global.WebSocket:require("ws");class wi{constructor(n){if(this.opts=n,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=n.protocol,this._version=n.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=n.subscriptions||[],this._netMonitor=n.netMonitor||new vi,!n.url||typeof n.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=n.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(n){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(n){}get connecting(){return this.readyState===0}set connected(n){}get connected(){return this.readyState===1}set closing(n){}get closing(){return this.readyState===2}set closed(n){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(n,s,d){if(!s||typeof s!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:s,type:"pub",payload:n,silent:!!d})}subscribe(n){this._socketSend({topic:n,type:"sub",payload:"",silent:!0})}on(n,s){this._events.push({event:n,callback:s})}_socketCreate(){if(this._nextSocket)return;const n=yi(this._url,this._protocol,this._version);if(this._nextSocket=new _i(n),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=s=>this._socketReceive(s),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=s=>this._socketError(s),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(n){const s=JSON.stringify(n);this._socket&&this._socket.readyState===1?this._socket.send(s):(this._setToQueue(n),this._socketCreate())}async _socketReceive(n){let s;try{s=JSON.parse(n.data)}catch{return}if(this._socketSend({topic:s.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const d=this._events.filter(g=>g.event==="message");d&&d.length&&d.forEach(g=>g.callback(s))}}_socketError(n){const s=this._events.filter(d=>d.event==="error");s&&s.length&&s.forEach(d=>d.callback(n))}_queueSubscriptions(){this._subscriptions.forEach(s=>this._queue.push({topic:s,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(n){this._queue.push(n)}_pushQueue(){this._queue.forEach(s=>this._socketSend(s)),this._queue=[]}}function yi(i,n,s){var d,g;const M=(i.startsWith("https")?i.replace("https","wss"):i.startsWith("http")?i.replace("http","ws"):i).split("?"),O=wn()?{protocol:n,version:s,env:"browser",host:((d=Mn())===null||d===void 0?void 0:d.host)||""}:{protocol:n,version:s,env:((g=Qt())===null||g===void 0?void 0:g.name)||""},R=di(ui(M[1]||""),O);return M[0]+"?"+R}const _e="Session currently connected",Lt="Session currently disconnected",Mi="Session Rejected",bi="Missing JSON RPC response",xi='JSON-RPC success response must include "result" field',Si='JSON-RPC error response must include "error" field',ki='JSON RPC request must have valid "method" value',Ri='JSON RPC request must have valid "id" value',Ei="Missing one of the required parameters: bridge / uri / session",Ge="JSON RPC response format is invalid",Ii="URI format is invalid",Ci="QRCode Modal not provided",Ve="User close QRCode Modal";class Ti{constructor(){this._eventEmitters=[]}subscribe(n){this._eventEmitters.push(n)}unsubscribe(n){this._eventEmitters=this._eventEmitters.filter(s=>s.event!==n)}trigger(n){let s=[],d;si(n)?d=n.method:Dt(n)||Ft(n)?d=`response:${n.id}`:Je(n)?d=n.event:d="",d&&(s=this._eventEmitters.filter(g=>g.event===d)),(!s||!s.length)&&!ai(d)&&!Je(d)&&(s=this._eventEmitters.filter(g=>g.event==="call_request")),s.forEach(g=>{if(Ft(n)){const f=new Error(n.error.message);g.callback(f,null)}else g.callback(null,n)})}}class Oi{constructor(n="walletconnect"){this.storageId=n}getSession(){let n=null;const s=ke(this.storageId);return s&&mi(s)&&(n=s),n}setSession(n){return Se(this.storageId,n),n}removeSession(){Re(this.storageId)}}const qi="walletconnect.org",Ni="abcdefghijklmnopqrstuvwxyz0123456789",zn=Ni.split("").map(i=>`https://${i}.bridge.walletconnect.org`);function Li(i){let n=i.indexOf("//")>-1?i.split("/")[2]:i.split("/")[0];return n=n.split(":")[0],n=n.split("?")[0],n}function Ai(i){return Li(i).split(".").slice(-2).join(".")}function Bi(){return Math.floor(Math.random()*zn.length)}function Pi(){return zn[Bi()]}function Ui(i){return Ai(i)===qi}function Wi(i){return Ui(i)?Pi():i}class zi{constructor(n){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Ti,this._clientMeta=ye()||n.connectorOpts.clientMeta||null,this._cryptoLib=n.cryptoLib,this._sessionStorage=n.sessionStorage||new Oi(n.connectorOpts.storageId),this._qrcodeModal=n.connectorOpts.qrcodeModal,this._qrcodeModalOptions=n.connectorOpts.qrcodeModalOptions,this._signingMethods=[...En,...n.connectorOpts.signingMethods||[]],!n.connectorOpts.bridge&&!n.connectorOpts.uri&&!n.connectorOpts.session)throw new Error(Ei);n.connectorOpts.bridge&&(this.bridge=Wi(n.connectorOpts.bridge)),n.connectorOpts.uri&&(this.uri=n.connectorOpts.uri);const s=n.connectorOpts.session||this._getStorageSession();s&&(this.session=s),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=n.transport||new wi({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),n.connectorOpts.uri&&this._subscribeToSessionRequest(),n.pushServerOpts&&this._registerPushServer(n.pushServerOpts)}set bridge(n){!n||(this._bridge=n)}get bridge(){return this._bridge}set key(n){if(!n)return;const s=Yr(n);this._key=s}get key(){return this._key?Jr(this._key,!0):""}set clientId(n){!n||(this._clientId=n)}get clientId(){let n=this._clientId;return n||(n=this._clientId=ge()),this._clientId}set peerId(n){!n||(this._peerId=n)}get peerId(){return this._peerId}set clientMeta(n){}get clientMeta(){let n=this._clientMeta;return n||(n=this._clientMeta=ye()),n}set peerMeta(n){this._peerMeta=n}get peerMeta(){return this._peerMeta}set handshakeTopic(n){!n||(this._handshakeTopic=n)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(n){!n||(this._handshakeId=n)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(n){if(!n)return;const{handshakeTopic:s,bridge:d,key:g}=this._parseUri(n);this.handshakeTopic=s,this.bridge=d,this.key=g}set chainId(n){this._chainId=n}get chainId(){return this._chainId}set networkId(n){this._networkId=n}get networkId(){return this._networkId}set accounts(n){this._accounts=n}get accounts(){return this._accounts}set rpcUrl(n){this._rpcUrl=n}get rpcUrl(){return this._rpcUrl}set connected(n){}get connected(){return this._connected}set pending(n){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(n){!n||(this._connected=n.connected,this.accounts=n.accounts,this.chainId=n.chainId,this.bridge=n.bridge,this.key=n.key,this.clientId=n.clientId,this.clientMeta=n.clientMeta,this.peerId=n.peerId,this.peerMeta=n.peerMeta,this.handshakeId=n.handshakeId,this.handshakeTopic=n.handshakeTopic)}on(n,s){const d={event:n,callback:s};this._eventManager.subscribe(d)}off(n){this._eventManager.unsubscribe(n)}async createInstantRequest(n){this._key=await this._generateKey();const s=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(n)}]});this.handshakeId=s.id,this.handshakeTopic=ge(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Ve)});const d=()=>{this.killSession()};try{const g=await this._sendCallRequest(s);return g&&d(),g}catch(g){throw d(),g}}async connect(n){if(!this._qrcodeModal)throw new Error(Ci);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(n),new Promise(async(s,d)=>{this.on("modal_closed",()=>d(new Error(Ve))),this.on("connect",(g,f)=>{if(g)return d(g);s(f.params[0])})}))}async createSession(n){if(this._connected)throw new Error(_e);if(this.pending)return;this._key=await this._generateKey();const s=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:n&&n.chainId?n.chainId:null}]});this.handshakeId=s.id,this.handshakeTopic=ge(),this._sendSessionRequest(s,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(n){if(this._connected)throw new Error(_e);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"";const s={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},d={id:this.handshakeId,jsonrpc:"2.0",result:s};this._sendResponse(d),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(n){if(this._connected)throw new Error(_e);const s=n&&n.message?n.message:Mi,d=this._formatResponse({id:this.handshakeId,error:{message:s}});this._sendResponse(d),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:s}]}),this._removeStorageSession()}updateSession(n){if(!this._connected)throw new Error(Lt);this.chainId=n.chainId,this.accounts=n.accounts,this.networkId=n.networkId||0,this.rpcUrl=n.rpcUrl||"";const s={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},d=this._formatRequest({method:"wc_sessionUpdate",params:[s]});this._sendSessionRequest(d,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(n){const s=n?n.message:"Session Disconnected",d={approved:!1,chainId:null,networkId:null,accounts:null},g=this._formatRequest({method:"wc_sessionUpdate",params:[d]});await this._sendRequest(g),this._handleSessionDisconnect(s)}async sendTransaction(n){if(!this._connected)throw new Error(Lt);const s=ve(n),d=this._formatRequest({method:"eth_sendTransaction",params:[s]});return await this._sendCallRequest(d)}async signTransaction(n){if(!this._connected)throw new Error(Lt);const s=ve(n),d=this._formatRequest({method:"eth_signTransaction",params:[s]});return await this._sendCallRequest(d)}async signMessage(n){if(!this._connected)throw new Error(Lt);const s=this._formatRequest({method:"eth_sign",params:n});return await this._sendCallRequest(s)}async signPersonalMessage(n){if(!this._connected)throw new Error(Lt);n=Ke(n);const s=this._formatRequest({method:"personal_sign",params:n});return await this._sendCallRequest(s)}async signTypedData(n){if(!this._connected)throw new Error(Lt);const s=this._formatRequest({method:"eth_signTypedData",params:n});return await this._sendCallRequest(s)}async updateChain(n){if(!this._connected)throw new Error("Session currently disconnected");const s=this._formatRequest({method:"wallet_updateChain",params:[n]});return await this._sendCallRequest(s)}unsafeSend(n,s){return this._sendRequest(n,s),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:s}]}),new Promise((d,g)=>{this._subscribeToResponse(n.id,(f,M)=>{if(f){g(f);return}if(!M)throw new Error(bi);d(M)})})}async sendCustomRequest(n,s){if(!this._connected)throw new Error(Lt);switch(n.method){case"eth_accounts":return this.accounts;case"eth_chainId":return Ln(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":n.params&&(n.params[0]=ve(n.params[0]));break;case"personal_sign":n.params&&(n.params=Ke(n.params));break}const d=this._formatRequest(n);return await this._sendCallRequest(d,s)}approveRequest(n){if(Dt(n)){const s=this._formatResponse(n);this._sendResponse(s)}else throw new Error(xi)}rejectRequest(n){if(Ft(n)){const s=this._formatResponse(n);this._sendResponse(s)}else throw new Error(Si)}transportClose(){this._transport.close()}async _sendRequest(n,s){const d=this._formatRequest(n),g=await this._encrypt(d),f=typeof(s==null?void 0:s.topic)!="undefined"?s.topic:this.peerId,M=JSON.stringify(g),O=typeof(s==null?void 0:s.forcePushNotification)!="undefined"?!s.forcePushNotification:li(d);this._transport.send(M,f,O)}async _sendResponse(n){const s=await this._encrypt(n),d=this.peerId,g=JSON.stringify(s),f=!0;this._transport.send(g,d,f)}async _sendSessionRequest(n,s,d){this._sendRequest(n,d),this._subscribeToSessionResponse(n.id,s)}_sendCallRequest(n,s){return this._sendRequest(n,s),this._eventManager.trigger({event:"call_request_sent",params:[{request:n,options:s}]}),this._subscribeToCallResponse(n.id)}_formatRequest(n){if(typeof n.method=="undefined")throw new Error(ki);return{id:typeof n.id=="undefined"?ri():n.id,jsonrpc:"2.0",method:n.method,params:typeof n.params=="undefined"?[]:n.params}}_formatResponse(n){if(typeof n.id=="undefined")throw new Error(Ri);const s={id:n.id,jsonrpc:"2.0"};if(Ft(n)){const d=fi(n.error);return Object.assign(Object.assign(Object.assign({},s),n),{error:d})}else if(Dt(n))return Object.assign(Object.assign({},s),n);throw new Error(Ge)}_handleSessionDisconnect(n){const s=n||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),Re(jt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:s}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(n,s){s?s.approved?(this._connected?(s.chainId&&(this.chainId=s.chainId),s.accounts&&(this.accounts=s.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,s.chainId&&(this.chainId=s.chainId),s.accounts&&(this.accounts=s.accounts),s.peerId&&!this.peerId&&(this.peerId=s.peerId),s.peerMeta&&!this.peerMeta&&(this.peerMeta=s.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(n):this._handleSessionDisconnect(n)}async _handleIncomingMessages(n){if(![this.clientId,this.handshakeTopic].includes(n.topic))return;let d;try{d=JSON.parse(n.payload)}catch{return}const g=await this._decrypt(d);g&&this._eventManager.trigger(g)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(n,s){this.on(`response:${n}`,s)}_subscribeToSessionResponse(n,s){this._subscribeToResponse(n,(d,g)=>{if(d){this._handleSessionResponse(d.message);return}Dt(g)?this._handleSessionResponse(s,g.result):g.error&&g.error.message?this._handleSessionResponse(g.error.message):this._handleSessionResponse(s)})}_subscribeToCallResponse(n){return new Promise((s,d)=>{this._subscribeToResponse(n,(g,f)=>{if(g){d(g);return}Dt(f)?s(f.result):f.error&&f.error.message?d(f.error):d(new Error(Ge))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(n,s)=>{const{request:d}=s.params[0];if(vn()&&this._signingMethods.includes(d.method)){const g=ke(jt);g&&(window.location.href=g.href)}}),this.on("wc_sessionRequest",(n,s)=>{n&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:n.toString()}]}),this.handshakeId=s.id,this.peerId=s.params[0].peerId,this.peerMeta=s.params[0].peerMeta;const d=Object.assign(Object.assign({},s),{method:"session_request"});this._eventManager.trigger(d)}),this.on("wc_sessionUpdate",(n,s)=>{n&&this._handleSessionResponse(n.message),this._handleSessionResponse("Session disconnected",s.params[0])})}_initTransport(){this._transport.on("message",n=>this._handleIncomingMessages(n)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const n=this.protocol,s=this.handshakeTopic,d=this.version,g=encodeURIComponent(this.bridge),f=this.key;return`${n}:${s}@${d}?bridge=${g}&key=${f}`}_parseUri(n){const s=gi(n);if(s.protocol===this.protocol){if(!s.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const d=s.handshakeTopic;if(!s.bridge)throw Error("Invalid or missing bridge url parameter value");const g=decodeURIComponent(s.bridge);if(!s.key)throw Error("Invalid or missing key parameter value");const f=s.key;return{handshakeTopic:d,bridge:g,key:f}}else throw new Error(Ii)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(n){const s=this._key;return this._cryptoLib&&s?await this._cryptoLib.encrypt(n,s):null}async _decrypt(n){const s=this._key;return this._cryptoLib&&s?await this._cryptoLib.decrypt(n,s):null}_getStorageSession(){let n=null;return this._sessionStorage&&(n=this._sessionStorage.getSession()),n}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(n){if(!n.url||typeof n.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!n.type||typeof n.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!n.token||typeof n.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const s={bridge:this.bridge,topic:this.clientId,type:n.type,token:n.token,peerName:"",language:n.language||""};this.on("connect",async(d,g)=>{if(d)throw d;if(n.peerMeta){const f=g.params[0].peerMeta.name;s.peerName=f}try{if(!(await(await fetch(`${n.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function $i(i){return $t.getBrowerCrypto().getRandomValues(new Uint8Array(i))}const $n=256,Dn=$n,Di=$n,Nt="AES-CBC",Hi=`SHA-${Dn}`,be="HMAC",ji="encrypt",Fi="decrypt",Qi="sign",Zi="verify";function Ji(i){return i===Nt?{length:Dn,name:Nt}:{hash:{name:Hi},name:be}}function Ki(i){return i===Nt?[ji,Fi]:[Qi,Zi]}async function Ce(i,n=Nt){return $t.getSubtleCrypto().importKey("raw",i,Ji(n),!0,Ki(n))}async function Gi(i,n,s){const d=$t.getSubtleCrypto(),g=await Ce(n,Nt),f=await d.encrypt({iv:i,name:Nt},g,s);return new Uint8Array(f)}async function Vi(i,n,s){const d=$t.getSubtleCrypto(),g=await Ce(n,Nt),f=await d.decrypt({iv:i,name:Nt},g,s);return new Uint8Array(f)}async function Yi(i,n){const s=$t.getSubtleCrypto(),d=await Ce(i,be),g=await s.sign({length:Di,name:be},d,n);return new Uint8Array(g)}function Xi(i,n,s){return Gi(i,n,s)}function to(i,n,s){return Vi(i,n,s)}async function Hn(i,n){return await Yi(i,n)}async function jn(i){const n=(i||256)/8,s=$i(n);return Kr(Gt(s))}async function Fn(i,n){const s=Pt(i.data),d=Pt(i.iv),g=Pt(i.hmac),f=Bt(g,!1),M=qn(s,d),O=await Hn(n,M),R=Bt(O,!1);return qt(f)===qt(R)}async function eo(i,n,s){const d=Ut(Me(n)),g=s||await jn(128),f=Ut(Me(g)),M=Bt(f,!1),O=JSON.stringify(i),R=zr(O),vt=await Xi(f,d,R),St=Bt(vt,!1),x=qn(vt,f),q=await Hn(d,x),L=Bt(q,!1);return{data:St,hmac:L,iv:M}}async function no(i,n){const s=Ut(Me(n));if(!s)throw new Error("Missing key: required for decryption");if(!await Fn(i,s))return null;const g=Pt(i.data),f=Pt(i.iv),M=await to(f,s,g),O=Ur(M);let R;try{R=JSON.parse(O)}catch{return null}return R}var ro=Object.freeze(Object.defineProperty({__proto__:null,generateKey:jn,verifyHmac:Fn,encrypt:eo,decrypt:no},Symbol.toStringTag,{value:"Module"}));class Xo extends zi{constructor(n,s){super({cryptoLib:ro,connectorOpts:n,pushServerOpts:s})}}var io=tr(Lr);function Qn(i){return i&&typeof i=="object"&&"default"in i?i.default:i}var Mt=io,Zn=Qn(rr),oo=Qn(ir),v=or;function so(i){Zn.toString(i,{type:"terminal"}).then(console.log)}var ao=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol!="undefined"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol!="undefined"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function lo(i,n){try{var s=i()}catch(d){return n(d)}return s&&s.then?s.then(void 0,n):s}var ho="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",co="WalletConnect",fo=300,uo="rgb(64, 153, 255)",Jn="walletconnect-wrapper",Ye="walletconnect-style-sheet",Kn="walletconnect-qrcode-modal",po="walletconnect-qrcode-close",Gn="walletconnect-qrcode-text",mo="walletconnect-connect-button";function go(i){return v.createElement("div",{className:"walletconnect-modal__header"},v.createElement("img",{src:ho,className:"walletconnect-modal__headerLogo"}),v.createElement("p",null,co),v.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:i.onClose},v.createElement("div",{id:po,className:"walletconnect-modal__close__icon"},v.createElement("div",{className:"walletconnect-modal__close__line1"}),v.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function vo(i){return v.createElement("a",{className:"walletconnect-connect__button",href:i.href,id:mo+"-"+i.name,onClick:i.onClick,rel:"noopener noreferrer",style:{backgroundColor:i.color},target:"_blank"},i.name)}var _o="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function wo(i){var n=i.color,s=i.href,d=i.name,g=i.logo,f=i.onClick;return v.createElement("a",{className:"walletconnect-modal__base__row",href:s,onClick:f,rel:"noopener noreferrer",target:"_blank"},v.createElement("h3",{className:"walletconnect-modal__base__row__h3"},d),v.createElement("div",{className:"walletconnect-modal__base__row__right"},v.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+g+"') "+n,backgroundSize:"100%"}}),v.createElement("img",{src:_o,className:"walletconnect-modal__base__row__right__caret"})))}function yo(i){var n=i.color,s=i.href,d=i.name,g=i.logo,f=i.onClick,M=window.innerWidth<768?(d.length>8?2.5:2.7)+"vw":"inherit";return v.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:s,onClick:f,rel:"noopener noreferrer",target:"_blank"},v.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+g+"') "+n,backgroundSize:"100%"}}),v.createElement("div",{style:{fontSize:M},className:"walletconnect-connect__button__text"},d))}var Mo=5,we=12;function bo(i){var n=Mt.isAndroid(),s=v.useState(""),d=s[0],g=s[1],f=v.useState(""),M=f[0],O=f[1],R=v.useState(1),vt=R[0],St=R[1],x=M?i.links.filter(function(B){return B.name.toLowerCase().includes(M.toLowerCase())}):i.links,q=i.errorMessage,L=M||x.length>Mo,yt=Math.ceil(x.length/we),xt=[(vt-1)*we+1,vt*we],k=x.length?x.filter(function(B,wt){return wt+1>=xt[0]&&wt+1<=xt[1]}):[],A=!n&&yt>1,kt=void 0;function _t(B){g(B.target.value),clearTimeout(kt),B.target.value?kt=setTimeout(function(){O(B.target.value),St(1)},1e3):(g(""),O(""),St(1))}return v.createElement("div",null,v.createElement("p",{id:Gn,className:"walletconnect-qrcode__text"},n?i.text.connect_mobile_wallet:i.text.choose_preferred_wallet),!n&&v.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:d,onChange:_t}),v.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(n?"__android":L&&x.length?"__wrap":"")},n?v.createElement(vo,{name:i.text.connect,color:uo,href:i.uri,onClick:v.useCallback(function(){Mt.saveMobileLinkInfo({name:"Unknown",href:i.uri})},[])}):k.length?k.map(function(B){var wt=B.color,Rt=B.name,It=B.shortName,E=B.logo,bt=Mt.formatIOSMobile(i.uri,B),u=v.useCallback(function(){Mt.saveMobileLinkInfo({name:Rt,href:bt})},[k]);return L?v.createElement(yo,{color:wt,href:bt,name:It||Rt,logo:E,onClick:u}):v.createElement(wo,{color:wt,href:bt,name:Rt,logo:E,onClick:u})}):v.createElement(v.Fragment,null,v.createElement("p",null,q.length?i.errorMessage:!!i.links.length&&!x.length?i.text.no_wallets_found:i.text.loading))),A&&v.createElement("div",{className:"walletconnect-modal__footer"},Array(yt).fill(0).map(function(B,wt){var Rt=wt+1,It=vt===Rt;return v.createElement("a",{style:{margin:"auto 10px",fontWeight:It?"bold":"normal"},onClick:function(){return St(Rt)}},Rt)})))}function xo(i){var n=!!i.message.trim();return v.createElement("div",{className:"walletconnect-qrcode__notification"+(n?" notification__show":"")},i.message)}var So=function(i){try{var n="";return Promise.resolve(Zn.toString(i,{margin:0,type:"svg"})).then(function(s){return typeof s=="string"&&(n=s.replace("<svg",'<svg class="walletconnect-qrcode__image"')),n})}catch(s){return Promise.reject(s)}};function ko(i){var n=v.useState(""),s=n[0],d=n[1],g=v.useState(""),f=g[0],M=g[1];v.useEffect(function(){try{return Promise.resolve(So(i.uri)).then(function(R){M(R)})}catch(R){Promise.reject(R)}},[]);var O=function(){var R=oo(i.uri);R?(d(i.text.copied_to_clipboard),setInterval(function(){return d("")},1200)):(d("Error"),setInterval(function(){return d("")},1200))};return v.createElement("div",null,v.createElement("p",{id:Gn,className:"walletconnect-qrcode__text"},i.text.scan_qrcode_with_wallet),v.createElement("div",{dangerouslySetInnerHTML:{__html:f}}),v.createElement("div",{className:"walletconnect-modal__footer"},v.createElement("a",{onClick:O},i.text.copy_to_clipboard)),v.createElement(xo,{message:s}))}function Ro(i){var n=Mt.isAndroid(),s=Mt.isMobile(),d=s?i.qrcodeModalOptions&&i.qrcodeModalOptions.mobileLinks?i.qrcodeModalOptions.mobileLinks:void 0:i.qrcodeModalOptions&&i.qrcodeModalOptions.desktopLinks?i.qrcodeModalOptions.desktopLinks:void 0,g=v.useState(!1),f=g[0],M=g[1],O=v.useState(!1),R=O[0],vt=O[1],St=v.useState(!s),x=St[0],q=St[1],L={mobile:s,text:i.text,uri:i.uri,qrcodeModalOptions:i.qrcodeModalOptions},yt=v.useState(""),xt=yt[0],k=yt[1],A=v.useState(!1),kt=A[0],_t=A[1],B=v.useState([]),wt=B[0],Rt=B[1],It=v.useState(""),E=It[0],bt=It[1],u=function(){R||f||d&&!d.length||wt.length>0||v.useEffect(function(){var r=function(){try{if(n)return Promise.resolve();M(!0);var o=lo(function(){var a=i.qrcodeModalOptions&&i.qrcodeModalOptions.registryUrl?i.qrcodeModalOptions.registryUrl:Mt.getWalletRegistryUrl();return Promise.resolve(fetch(a)).then(function(c){return Promise.resolve(c.json()).then(function(p){var m=p.listings,l=s?"mobile":"desktop",e=Mt.getMobileLinkRegistry(Mt.formatMobileRegistry(m,l),d);M(!1),vt(!0),bt(e.length?"":i.text.no_supported_wallets),Rt(e);var h=e.length===1;h&&(k(Mt.formatIOSMobile(i.uri,e[0])),q(!0)),_t(h)})})},function(a){M(!1),vt(!0),bt(i.text.something_went_wrong),console.error(a)});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(a){return Promise.reject(a)}};r()})};u();var t=s?x:!x;return v.createElement("div",{id:Kn,className:"walletconnect-qrcode__base animated fadeIn"},v.createElement("div",{className:"walletconnect-modal__base"},v.createElement(go,{onClose:i.onClose}),kt&&x?v.createElement("div",{className:"walletconnect-modal__single_wallet"},v.createElement("a",{onClick:function(){return Mt.saveMobileLinkInfo({name:wt[0].name,href:xt})},href:xt,rel:"noopener noreferrer",target:"_blank"},i.text.connect_with+" "+(kt?wt[0].name:"")+" \u203A")):n||f||!f&&wt.length?v.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(t?" right__selected":"")},v.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),s?v.createElement(v.Fragment,null,v.createElement("a",{onClick:function(){return q(!1),u()}},i.text.mobile),v.createElement("a",{onClick:function(){return q(!0)}},i.text.qrcode)):v.createElement(v.Fragment,null,v.createElement("a",{onClick:function(){return q(!0)}},i.text.qrcode),v.createElement("a",{onClick:function(){return q(!1),u()}},i.text.desktop))):null,v.createElement("div",null,x||!n&&!f&&!wt.length?v.createElement(ko,Object.assign({},L)):v.createElement(bo,Object.assign({},L,{links:wt,errorMessage:E})))))}var Eo={choose_preferred_wallet:"W\xE4hle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterst\xFCtzten Wallet",no_wallets_found:"keine Wallet gefunden"},Io={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},Co={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera m\xF3vil",scan_qrcode_with_wallet:"Escanea el c\xF3digo QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo sali\xF3 mal",no_supported_wallets:"Todav\xEDa no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},To={choose_preferred_wallet:"Choisissez votre portefeuille pr\xE9f\xE9r\xE9",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copi\xE9!",connect_with:"Connectez-vous \xE0 l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourn\xE9",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouv\xE9"},Oo={choose_preferred_wallet:"\uC6D0\uD558\uB294 \uC9C0\uAC11\uC744 \uC120\uD0DD\uD558\uC138\uC694",connect_mobile_wallet:"\uBAA8\uBC14\uC77C \uC9C0\uAC11\uACFC \uC5F0\uACB0",scan_qrcode_with_wallet:"WalletConnect \uC9C0\uC6D0 \uC9C0\uAC11\uC5D0\uC11C QR\uCF54\uB4DC\uB97C \uC2A4\uCE94\uD558\uC138\uC694",connect:"\uC5F0\uACB0",qrcode:"QR \uCF54\uB4DC",mobile:"\uBAA8\uBC14\uC77C",desktop:"\uB370\uC2A4\uD06C\uD0D1",copy_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC",copied_to_clipboard:"\uD074\uB9BD\uBCF4\uB4DC\uC5D0 \uBCF5\uC0AC\uB418\uC5C8\uC2B5\uB2C8\uB2E4!",connect_with:"\uC640 \uC5F0\uACB0\uD558\uB2E4",loading:"\uB85C\uB4DC \uC911...",something_went_wrong:"\uBB38\uC81C\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.",no_supported_wallets:"\uC544\uC9C1 \uC9C0\uC6D0\uB418\uB294 \uC9C0\uAC11\uC774 \uC5C6\uC2B5\uB2C8\uB2E4",no_wallets_found:"\uC9C0\uAC11\uC744 \uCC3E\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4"},qo={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se \xE0 carteira m\xF3vel",scan_qrcode_with_wallet:"Ler o c\xF3digo QR com uma carteira compat\xEDvel com WalletConnect",connect:"Conectar",qrcode:"C\xF3digo QR",mobile:"M\xF3vel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda n\xE3o h\xE1 carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},No={choose_preferred_wallet:"\u9009\u62E9\u4F60\u7684\u94B1\u5305",connect_mobile_wallet:"\u8FDE\u63A5\u81F3\u79FB\u52A8\u7AEF\u94B1\u5305",scan_qrcode_with_wallet:"\u4F7F\u7528\u517C\u5BB9 WalletConnect \u7684\u94B1\u5305\u626B\u63CF\u4E8C\u7EF4\u7801",connect:"\u8FDE\u63A5",qrcode:"\u4E8C\u7EF4\u7801",mobile:"\u79FB\u52A8",desktop:"\u684C\u9762",copy_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F",copied_to_clipboard:"\u590D\u5236\u5230\u526A\u8D34\u677F\u6210\u529F\uFF01",connect_with:"\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u8FDE\u63A5",loading:"\u6B63\u5728\u52A0\u8F7D...",something_went_wrong:"\u51FA\u4E86\u95EE\u9898",no_supported_wallets:"\u76EE\u524D\u8FD8\u6CA1\u6709\u652F\u6301\u7684\u94B1\u5305",no_wallets_found:"\u6CA1\u6709\u627E\u5230\u94B1\u5305"},Lo={choose_preferred_wallet:"\u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",connect_mobile_wallet:"\u0628\u0647 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0645\u0648\u0628\u0627\u06CC\u0644 \u0648\u0635\u0644 \u0634\u0648\u06CC\u062F",scan_qrcode_with_wallet:"\u06A9\u062F QR \u0631\u0627 \u0628\u0627 \u06CC\u06A9 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u0633\u0627\u0632\u06AF\u0627\u0631 \u0628\u0627 WalletConnect \u0627\u0633\u06A9\u0646 \u06A9\u0646\u06CC\u062F",connect:"\u0627\u062A\u0635\u0627\u0644",qrcode:"\u06A9\u062F QR",mobile:"\u0633\u06CC\u0627\u0631",desktop:"\u062F\u0633\u06A9\u062A\u0627\u067E",copy_to_clipboard:"\u06A9\u067E\u06CC \u0628\u0647 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F",copied_to_clipboard:"\u062F\u0631 \u06A9\u0644\u06CC\u067E \u0628\u0648\u0631\u062F \u06A9\u067E\u06CC \u0634\u062F!",connect_with:"\u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627",loading:"...\u0628\u0627\u0631\u06AF\u0630\u0627\u0631\u06CC",something_went_wrong:"\u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F",no_supported_wallets:"\u0647\u0646\u0648\u0632 \u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644 \u067E\u0634\u062A\u06CC\u0628\u0627\u0646\u06CC \u0634\u062F\u0647 \u0627\u06CC \u0648\u062C\u0648\u062F \u0646\u062F\u0627\u0631\u062F",no_wallets_found:"\u0647\u06CC\u0686 \u06A9\u06CC\u0641 \u067E\u0648\u0644\u06CC \u067E\u06CC\u062F\u0627 \u0646\u0634\u062F"},Xe={de:Eo,en:Io,es:Co,fr:To,ko:Oo,pt:qo,zh:No,fa:Lo};function Ao(){var i=Mt.getDocumentOrThrow(),n=i.getElementById(Ye);n&&i.head.removeChild(n);var s=i.createElement("style");s.setAttribute("id",Ye),s.innerText=ao,i.head.appendChild(s)}function Bo(){var i=Mt.getDocumentOrThrow(),n=i.createElement("div");return n.setAttribute("id",Jn),i.body.appendChild(n),n}function Vn(){var i=Mt.getDocumentOrThrow(),n=i.getElementById(Kn);n&&(n.className=n.className.replace("fadeIn","fadeOut"),setTimeout(function(){var s=i.getElementById(Jn);s&&i.body.removeChild(s)},fo))}function Po(i){return function(){Vn(),i&&i()}}function Uo(){var i=Mt.getNavigatorOrThrow().language.split("-")[0]||"en";return Xe[i]||Xe.en}function Wo(i,n,s){Ao();var d=Bo();v.render(v.createElement(Ro,{text:Uo(),uri:i,onClose:Po(n),qrcodeModalOptions:s}),d)}function zo(){Vn()}var Yn=function(){return typeof process!="undefined"&&typeof process.versions!="undefined"&&typeof process.versions.node!="undefined"};function $o(i,n,s){console.log(i),Yn()?so(i):Wo(i,n,s)}function Do(){Yn()||zo()}var Ho={open:$o,close:Do},ts=Ho;export{Xo as W,ts as c};
