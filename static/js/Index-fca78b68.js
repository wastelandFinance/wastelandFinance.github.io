import{af as V,r as d,aZ as _t,aA as s,a5 as i,a6 as t,ad as b,K as c,Q as l,V as w,aF as A,aG as vt,aC as M,aB as z,a3 as f,b1 as h,ac as k,N as Y,b3 as R,bn as U,a4 as y,l as ht,au as mt}from"./@vue-e2e59b29.js";import{$ as ft,Q as tt,X as et,T as pt}from"./getAssetsFile-567d3cf0.js";import{_ as P,B as x,E as st,u as gt,L as Z}from"./index-3ca9b6c8.js";import{E as ot,L as kt}from"./Loading-02693aaf.js";import{T as Ct,d as yt,c as J}from"./UpgradeNft-086030ed.js";import{B as Ft}from"./Border-43cc6893.js";import{b as $t,h as O}from"./index-23a64008.js";import{u as j}from"./vue-i18n-9e09b457.js";/* empty css                                                          */import{u as Et}from"./vue-router-dc311353.js";import{M as bt}from"./MaskLoading-01c2b0d5.js";import{a as wt}from"./index-a83cd729.js";import{g as Bt,a as xt}from"./NFT-95034713.js";import{g as At}from"./stakingNft-33fcc005.js";import"./pinia-c5b88873.js";import"./vue-demi-5b9a0fa5.js";import"./@metamask-0322580d.js";import"./@ethersproject-baa9d35e.js";import"./js-sha3-24137471.js";import"./hash.js-a20011ef.js";import"./minimalistic-assert-c1ce1705.js";import"./inherits-1fe83bc7.js";import"./bech32-9a81277b.js";import"./@walletconnect-6b5bf47d.js";import"./is-typedarray-4f40b03b.js";import"./query-string-2015e57d.js";import"./strict-uri-encode-ecbf5106.js";import"./decode-uri-component-fb3850ff.js";import"./split-on-first-6a113853.js";import"./typedarray-to-buffer-3049f596.js";import"./detect-browser-d6d27bfa.js";import"./qrcode-8475bf43.js";import"./isarray-dd297434.js";import"./buffer-42a74e2f.js";import"./base64-js-f5f6d31b.js";import"./ieee754-b34e253f.js";import"./dijkstrajs-5cebdf0c.js";import"./copy-to-clipboard-792b0d71.js";import"./toggle-selection-eefc0dc5.js";import"./preact-c6b9a0a0.js";import"./process-79043346.js";import"./@intlify-22bbbbdc.js";import"./vue-81a98a43.js";/* empty css                                                            */import"./lottie-web-96c2a85a.js";/* empty css                                                         */import"./public-1ae1eec4.js";import"./axios-f45f83e3.js";/* empty css                                                                */import"./qs-899482d5.js";import"./side-channel-c89d4eb5.js";import"./get-intrinsic-13ed3457.js";import"./has-symbols-39607a5b.js";import"./function-bind-f4350d04.js";import"./has-c67be6c1.js";import"./call-bind-60ebbe96.js";import"./object-inspect-cc1301a1.js";const at=e=>(M("data-v-cbf4221a"),e=e(),z(),e),Dt={class:"hero-card-container"},St={class:"hero-info"},Ht={class:"base-flex base-height"},It={class:"hero-name"},Lt={class:"hero-type"},Nt={class:"base-flex base-height"},Tt={class:"base-flex"},Rt={class:"star"},Ut={class:"grade"},Vt=at(()=>t("div",{class:"dot"},null,-1)),Mt={class:"base-flex base-height"},zt={class:"base-font"},Pt={class:"base-flex"},jt=at(()=>t("div",{class:"ques-icon"},null,-1)),Gt={class:"base-flex base-height"},Qt={class:"base-font"},qt=V({__name:"HeroCard",props:{data:{default:()=>({})}},setup(e){const n=e,{t:_}=j(),g=d(0);return _t(()=>{if(g.value=0,n.data.attributes)for(let v in n.data.attributes)g.value+=n.data.attributes[v]}),(v,m)=>(s(),i("div",Dt,[t("div",null,[b(Ft,{border:!1,img:e.data.image,"rarity-img":c($t)[e.data.rarity]},null,8,["img","rarity-img"])]),t("div",St,[t("div",Ht,[t("span",It,l(e.data.name),1),t("span",Lt,l(c(_)(e.data.classes)),1)]),t("div",Nt,[t("div",Tt,[(s(!0),i(w,null,A(e.data.starRate,B=>(s(),i("div",Rt))),256))]),t("span",Ut,[Vt,t("div",null,"LV"+l(e.data.level),1)])]),t("div",Mt,[t("div",zt,l(c(_)("\u603B\u5C5E\u6027")),1),t("div",Pt,[t("div",null,l(g.value),1),jt])]),t("div",Gt,[t("span",Qt,l(c(_)(c(O)[e.data.classes])),1),t("span",null,l(e.data.attributes&&e.data.attributes[c(O)[e.data.classes]]),1)])]),vt(v.$slots,"default",{},void 0,!0)]))}});var lt=P(qt,[["__scopeId","data-v-cbf4221a"]]);const Kt=e=>(M("data-v-1a1c28b4"),e=e(),z(),e),Wt={class:"content"},Xt={class:"desc"},Zt=Kt(()=>t("div",{class:"pic"},[t("img",{src:ft})],-1)),Jt={class:"light-height"},Ot={class:"flex"},Yt=V({__name:"DecomposeDialog",props:{show:{type:Boolean,default:!1},count:{default:0}},emits:["close"],setup(e,{emit:n}){const{t:_}=j(),g=()=>{n("close")},v=Et(),m=()=>{v.push("/user/wallet")};return(B,p)=>(s(),f(st,{title:"\u5206\u89E3\u6210\u529F",show:e.show,onClose:g},{default:h(()=>[t("div",Wt,[t("div",Xt,l(c(_)("\u606D\u559C\u60A8\u83B7\u5F97")),1),Zt,t("div",Jt,l(e.count)+" "+l(c(_)("\u5347\u661F\u788E\u7247")),1),t("div",Ot,[t("div",null,l(c(_)("\u788E\u7247\u5DF2\u81EA\u52A8\u8F6C\u5165\u4F60\u7684\u94B1\u5305")),1),t("div",{class:"share",onClick:m})]),b(x,{onClick:g},{default:h(()=>[k(l(c(_)("\u6211\u77E5\u9053\u4E86")),1)]),_:1})])]),_:1},8,["show"]))}});var te=P(Yt,[["__scopeId","data-v-1a1c28b4"]]);const ut=e=>(M("data-v-756f50b1"),e=e(),z(),e),ee={class:"content"},se={class:"top"},oe={class:"star-list"},ae=["onClick"],le=ut(()=>t("img",{src:tt},null,-1)),ue=[le],ie=["onClick"],ce=ut(()=>t("img",{src:et},null,-1)),ne=[ce],re={key:0,class:"hero-scroll"},de={class:"hero-list"},_e={class:"select-icon-mark"},ve={key:2,class:"btn-blcok"},he=V({__name:"SelectHeroDialogForPhone",props:{list:{default:()=>[]}},emits:["close","confirm","selectAll","starClick"],setup(e,{emit:n}){const{t:_}=j(),g=()=>{n("close")},v=d({}),m=F=>{v.value=F},B=()=>{n("confirm",v)},p=d(0),I=F=>{p.value=F,n("starClick",F)},C=()=>{p.value=0,n("selectAll")};return(F,L)=>(s(),f(st,{show:"",title:"\u9009\u62E9\u82F1\u96C4",onClose:g},{default:h(()=>[t("div",ee,[t("div",se,[t("div",{class:"desc",onClick:C},l(c(_)("\u5168\u90E8")),1),t("div",oe,[(s(!0),i(w,null,A(p.value,a=>(s(),i("div",{class:"star-icon",key:a,onClick:$=>I(a)},ue,8,ae))),128)),(s(!0),i(w,null,A(5-p.value,a=>(s(),i("div",{class:"star-icon",key:a,onClick:$=>I(a+p.value)},ne,8,ie))),128))])]),e.list.length?(s(),i("div",re,[t("div",de,[(s(!0),i(w,null,A(e.list,(a,$)=>(s(),f(lt,{class:Y([a.token_id==v.value.token_id?"active-class":"","card-item"]),key:$,data:a,onClick:G=>m(a)},{default:h(()=>[R(t("div",_e,null,512),[[U,a.token_id==v.value.token_id]])]),_:2},1032,["class","data","onClick"]))),128))])])):y("",!0),e.list.length?y("",!0):(s(),f(ot,{key:1},{default:h(()=>[k(l(c(_)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4"))+"\uFF01",1)]),_:1})),e.list.length?(s(),i("div",ve,[b(x,{onClick:B},{default:h(()=>[k(l(c(_)("\u786E\u5B9A")),1)]),_:1})])):y("",!0)])]),_:1}))}});var me=P(he,[["__scopeId","data-v-756f50b1"]]);const D=e=>(M("data-v-4cc8958a"),e=e(),z(),e),fe=k("\u4F60\u53EF\u4EE5\u901A\u8FC7\u5206\u89E3\u82F1\u96C4\u6765\u83B7\u5F97\u788E\u7247\uFF0C\u788E\u7247\u662F\u82F1\u96C4\u5347\u661F\u7684\u5FC5\u8981\u539F\u6599"),pe={class:"fragment-box"},ge={class:"top"},ke={class:"pic-container"},Ce=["src"],ye={class:"select-icon"},Fe=D(()=>t("img",{src:pt},null,-1)),$e=[Fe],Ee={key:0,class:"text"},be={key:1,class:"text"},we=k(" \u5206\u89E3\u6210\u529F\u540E\uFF0C\u4F60\u5C06\u5931\u53BB\u6B64\u82F1\u96C4\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C \u5E76\u83B7\u5F97"),Be={style:{color:"#e1c392"}},xe=k("\u788E\u7247 "),Ae=k("\u5206\u89E3"),De=k("\u6388\u6743"),Se={style:{display:"flex","align-items":"center","justify-content":"center"}},He={style:{"margin-left":"5px",color:"#e1c392"}},Ie={style:{display:"flex","align-items":"center","justify-content":"center"}},Le={style:{"margin-left":"5px",color:"#e1c392"}},Ne={class:"bottom"},Te={style:{display:"flex"}},Re={class:"star-list"},Ue=["onClick"],Ve=D(()=>t("img",{src:tt},null,-1)),Me=[Ve],ze=["onClick"],Pe=D(()=>t("img",{src:et},null,-1)),je=[Pe],Ge={key:1},Qe={key:0,class:"hero-list"},qe={class:"select"},Ke=D(()=>t("div",{class:"card-item"},null,-1)),We=D(()=>t("div",{class:"card-item"},null,-1)),Xe=D(()=>t("div",{class:"card-item"},null,-1)),Ze=D(()=>t("div",{class:"card-item"},null,-1)),Je=V({__name:"Index",setup(e){const{t:n}=j(),_=d(!1),g=()=>{_.value=document.documentElement.clientWidth<750};ht(()=>{g(),window.addEventListener("resize",g,!1)});const v=gt(),m=d([]),B=d([]),p=d(!1),I=async()=>{try{if(v.address.length){p.value=!0;const o=await wt({account:v.address});console.log(o);const r=[];console.log(23);const u=await At(v.address);if(console.log(u),console.log(66),u.length){u.map(K=>{r.push(K.toString())});const H=[];r.map(K=>{o.map(X=>{K==X.token_id&&H.push(X)})}),m.value=H,B.value=H,p.value=!1}else p.value=!1}}catch(o){p.value=!1,console.log("\u53D1\u751F\u4E86\u672A\u77E5\u9519\u8BEF",o)}},C=d(!1),F=async()=>{const o=await Bt(v.address);C.value=o};mt(()=>{I(),F()});const L=d(""),a=d({}),$=d(0),G=d(!1),it=async o=>{G.value=!0,L.value=o.token_id,a.value=o;let r=await J(o.token_id);r&&(G.value=!1,$.value=Number(r.toString()))},S=d(!1),ct=async()=>{try{S.value=!0;const o=await xt();o.from?(await o.wait(2),S.value=!1,F()):S.value=!1}catch(o){S.value=!1,console.log("\u6388\u6743\u5931\u8D25",o)}},Q=d(!1),E=d(!1),nt=async()=>{try{if(C.value){E.value=!0;let o=await yt([a.value.token_id]);o.from&&(await o.wait(1)).from&&(E.value=!1,a.value={},L.value="",Q.value=!0,setTimeout(async()=>{await I()},1e3))}}catch(o){E.value=!1,console.log("\u5206\u89E3\u5931\u8D25",o)}},T=d(!1),rt=()=>{_.value&&!E.value&&(T.value=!0)},dt=o=>{m.value.map(async r=>{if(o.value.token_id==r.token_id){let u=await J(o.value.token_id);u&&($.value=Number(u.toString())),a.value=r,T.value=!1}})},N=d(0),q=o=>{N.value=o,m.value=[],B.value.map(r=>{r.starRate==o&&m.value.push(r)})},W=()=>{m.value=B.value,N.value=0};return(o,r)=>(s(),i(w,null,[b(Ct,null,{default:h(()=>[fe]),_:1}),t("div",pe,[t("div",ge,[t("div",{class:"base-border",onClick:rt},[R(t("div",ke,[t("img",{src:a.value.image},null,8,Ce)],512),[[U,a.value.token_id]]),R(t("div",ye,$e,512),[[U,!a.value.token_id]])]),a.value.heroid?(s(),i("div",be,[we,t("span",Be,l($.value),1),xe])):(s(),i("div",Ee,l(c(n)("\u4E0D\u540C\u7A00\u6709\u5EA6\u7684\u82F1\u96C4\u53EF\u4EE5\u83B7\u5F97\u4E0D\u540C\u6570\u91CF\u7684\u788E\u7247")),1)),t("div",null,[a.value.heroid&&!E.value&&C.value?(s(),f(x,{key:0,onClick:nt},{default:h(()=>[Ae]),_:1})):y("",!0),!S.value&&!C.value?(s(),f(x,{key:1,onClick:ct},{default:h(()=>[De]),_:1})):y("",!0),S.value&&!C.value?(s(),f(x,{key:2,style:{cursor:"not-allowed"}},{default:h(()=>[t("div",Se,[b(Z),t("div",He,l(c(n)("\u6388\u6743\u4E2D"))+"...",1)])]),_:1})):y("",!0),!a.value.heroid&&!E.value&&C.value?(s(),f(x,{key:3,active:"","current-type":"disabled",style:{color:"#676C73",cursor:"not-allowed"}},{default:h(()=>[k(l(c(n)("\u5206\u89E3")),1)]),_:1})):y("",!0),a.value.heroid&&E.value&&C.value?(s(),f(x,{key:4,style:{cursor:"not-allowed"}},{default:h(()=>[t("div",Ie,[b(Z),t("div",Le,l(c(n)("\u5206\u89E3\u4E2D"))+"...",1)])]),_:1})):y("",!0)])]),t("div",Ne,[t("div",Te,[t("div",{style:{cursor:"pointer"},onClick:W},l(c(n)("\u5168\u90E8")),1),t("div",Re,[(s(!0),i(w,null,A(N.value,u=>(s(),i("div",{class:"star-icon",key:u,onClick:H=>q(u)},Me,8,Ue))),128)),(s(!0),i(w,null,A(5-N.value,u=>(s(),i("div",{class:"star-icon un-active",key:u,onClick:H=>q(u+N.value)},je,8,ze))),128))])]),p.value?(s(),f(kt,{key:0})):(s(),i("div",Ge,[m.value.length?(s(),i("div",Qe,[(s(!0),i(w,null,A(m.value,u=>(s(),f(lt,{key:u.token_id,class:Y([u.token_id==L.value?"active-class":"","card-item"]),onClick:H=>it(u),data:u},{default:h(()=>[R(t("div",qe,null,512),[[U,u.token_id==L.value]])]),_:2},1032,["class","onClick","data"]))),128)),Ke,We,Xe,Ze])):(s(),f(ot,{key:1},{default:h(()=>[k(l(c(n)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4")),1)]),_:1}))])),a.value.heroid&&E.value?(s(),f(bt,{key:2})):y("",!0)]),b(te,{count:$.value,show:Q.value,onClose:r[0]||(r[0]=u=>Q.value=!1)},null,8,["count","show"]),b(me,{show:T.value,list:m.value,onClose:r[1]||(r[1]=u=>T.value=!1),onConfirm:dt,onStarClick:q,onSelectAll:W},null,8,["show","list"])])],64))}});var eo=P(Je,[["__scopeId","data-v-4cc8958a"]]);export{eo as default};
