import{N as Nt,H as qt,F as Ut}from"./Header-4933f8d0.js";import{a as it,T as xt,E as Dt}from"./EasyButton-4b148ba6.js";import{g as Y,a0 as Rt,a1 as zt,Q as jt,a2 as Qt}from"./getAssetsFile-ae324329.js";import{u as tt,P as Ot,T as Vt,B as P,U as Zt,_ as V,L as st,D as ft,M as $t,V as At}from"./index-6f4f0ab1.js";import{s as rt}from"./pinia-d7eeac71.js";import{u as Z}from"./vue-i18n-5b28fcda.js";import{a9 as G,r as o,ap as dt,aZ as ot,$ as S,a0 as t,K as s,D as a,_ as I,Z as E,b1 as k,O as Q,aF as O,az as u,a6 as z,aC as ut,aA as lt,J as Gt,H as Jt,a7 as B,b3 as Kt,bn as Xt,w as wt,a4 as Yt,au as St,f as te,aq as ee,aB as ae}from"./@vue-823c75d3.js";import{B as It}from"./Border-f6a27657.js";import{E as Wt,L as se}from"./Loading-947ee26b.js";import{c as pt,g as oe}from"./public-e184fbaf.js";import{d as ue,g as le,a as ne,p as ie,b as ce,c as re,e as de,w as ve,f as _e,h as pe,i as fe,j as he,k as ge}from"./stakingNft-15b4f91b.js";import{b as Ht,F as me}from"./index-c00ba586.js";import{i as ke,a as ye,j as Fe}from"./index-a4c22f9f.js";import{a as ct,d as we}from"./format-7642b802.js";import{g as Ee,c as Ce,d as De}from"./GoldCoin-467deda9.js";import"./vue-router-4d4637a0.js";/* empty css                                                               */import"./isMobile-b4d2a8d3.js";import"./@metamask-0322580d.js";import"./@ethersproject-baa9d35e.js";import"./js-sha3-24137471.js";import"./hash.js-a20011ef.js";import"./minimalistic-assert-c1ce1705.js";import"./inherits-1fe83bc7.js";import"./bech32-9a81277b.js";import"./@walletconnect-6b5bf47d.js";import"./is-typedarray-4f40b03b.js";import"./query-string-2015e57d.js";import"./strict-uri-encode-ecbf5106.js";import"./decode-uri-component-fb3850ff.js";import"./split-on-first-6a113853.js";import"./typedarray-to-buffer-3049f596.js";import"./detect-browser-d6d27bfa.js";import"./qrcode-8475bf43.js";import"./isarray-dd297434.js";import"./buffer-42a74e2f.js";import"./base64-js-f5f6d31b.js";import"./ieee754-b34e253f.js";import"./dijkstrajs-5cebdf0c.js";import"./copy-to-clipboard-792b0d71.js";import"./toggle-selection-eefc0dc5.js";import"./preact-c6b9a0a0.js";import"./process-79043346.js";import"./vue-demi-5b9a0fa5.js";import"./@intlify-22bbbbdc.js";import"./vue-b8cbd5d3.js";/* empty css                                                            */import"./lottie-web-96c2a85a.js";import"./axios-f45f83e3.js";import"./qs-899482d5.js";import"./side-channel-c89d4eb5.js";import"./get-intrinsic-13ed3457.js";import"./has-symbols-39607a5b.js";import"./function-bind-f4350d04.js";import"./has-c67be6c1.js";import"./call-bind-60ebbe96.js";import"./object-inspect-cc1301a1.js";import"./dayjs-3b7406d5.js";const Tt=e=>(ut("data-v-bd736d52"),e=e(),lt(),e),Ae={class:"field-card-container"},Be={class:"pic-box"},be=["src"],xe={class:"working"},$e=Tt(()=>t("img",{src:Rt},null,-1)),Se={key:0,class:"working-text"},Ie={class:"scence"},We={class:"attr-list"},He={class:"attr-item align-left"},Te={class:"title"},Me={class:"answer"},Pe={class:"attr-item"},Le={class:"title"},Ne={class:"answer"},qe={class:"attr-item align-right"},Ue={class:"title"},Re={class:"answer"},ze={class:"flex"},je={class:"icon"},Qe=Tt(()=>t("img",{src:zt},null,-1)),Oe=[Qe],Ve=G({__name:"FieldCard",props:{path:{default:Y("pc/work/sky.png")},config:{default:()=>({})},state:{type:Boolean,default:!1},workIng:{type:Boolean,default:!1}},emits:["working"],setup(e,{emit:v}){const{t:i}=Z(),l=()=>{v("working")},r=tt(),{loginState:h}=rt(r),y=()=>{r.setConnectWalletShow(!0)},_=o(!1),F=o(!1);dt(async()=>{r.loginState&&D()});const D=async()=>{await Ot()==Vt?_.value=!0:_.value=!1};ot(()=>{F.value=h.value,h.value&&D()});const f=async()=>{await Zt()&&(_.value=!0)};return(b,x)=>(u(),S("div",Ae,[t("div",Be,[t("img",{src:e.path},null,8,be),t("div",xe,[$e,e.workIng?(u(),S("div",Se,s(a(i)("\u5DE5\u4F5C\u4E2D")),1)):I("",!0)]),t("div",Ie,s(a(i)(e.config.name)),1)]),F.value&&_.value&&e.state?(u(),E(P,{key:0,style:{"justify-content":"center"},onClick:l},{default:k(()=>[z(s(a(i)("\u5DE5\u4F5C")),1)]),_:1})):I("",!0),F.value?I("",!0):(u(),E(P,{key:1,style:{"justify-content":"center"},onClick:y},{default:k(()=>[z(s(a(i)("\u8FDE\u63A5\u94B1\u5305")),1)]),_:1})),F.value&&!_.value&&!e.state?(u(),E(P,{key:2,"current-type":"err",style:{"justify-content":"center",color:"#fff"},onClick:f},{default:k(()=>[z(s(a(i)("\u5207\u6362\u4E3ABSC\u7F51\u7EDC")),1)]),_:1})):I("",!0),F.value&&_.value&&!e.state?(u(),E(P,{key:3,active:"","current-type":"disabled",style:{"justify-content":"center",color:"#676C73"}},{default:k(()=>[z(s(a(i)("\u6CA1\u6709\u7B26\u5408\u6761\u4EF6\u7684\u82F1\u96C4")),1)]),_:1})):I("",!0),t("div",We,[t("div",He,[t("div",Te,s(a(i)(e.config.text)),1),t("div",Me,s(a(i)(e.config.threshold)),1)]),t("div",Pe,[t("div",Le,s(a(i)("\u5EFA\u8BAE")),1),t("div",Ne,s(e.config.proposal),1)]),t("div",qe,[t("div",Ue,s(a(i)("\u5956\u52B1")),1),t("div",Re,[t("div",ze,[(u(!0),S(Q,null,O(e.config.reward,q=>(u(),S("div",je,Oe))),256))])])])])]))}});var yt=V(Ve,[["__scopeId","data-v-bd736d52"]]);const Mt=async()=>await oe(pt.nft.address,pt.nft.abi),Ze=async()=>await(await Mt()).setApprovalForAll(pt.stakingNft.address,!0),Ge=async e=>await(await Mt()).isApprovedForAll(e,pt.stakingNft.address);const Je=e=>(ut("data-v-7a70fe06"),e=e(),lt(),e),Ke={class:"content"},Xe={class:"hero-select"},Ye={class:"view-win"},ta={class:"scroll-list"},ea=["onClick"],aa={key:0,class:"hero-win"},sa={class:"hero-list"},oa=["onClick"],ua={class:"pic-container"},la={class:"item-info"},na={class:"base-flex"},ia={class:"base-flex"},ca={class:"base-flex"},ra={class:"star-icon"},da=Je(()=>t("img",{src:jt},null,-1)),va=[da],_a={class:"select-active"},pa={class:"handler"},fa={class:"custom-btn"},ha={class:"btn-text"},ga={class:"custom-btn"},ma={class:"btn-text"},ka=G({__name:"SelectHeroDialog",props:{list:{default:()=>[]},selectHeroDialogShow:{type:Boolean,default:!1},poolId:{default:0},info:{default:()=>({})}},emits:["close","confirmClose","heroTypeSelect","onWork","getWork"],setup(e,{emit:v}){const i=e,{t:l}=Z(),r=tt(),{address:h}=rt(r);let y=[{id:0,type:"all",text:"\u5168\u90E8"},{id:1,type:"Warrior",text:"\u6218\u58EB"},{id:2,type:"Assassin",text:"\u523A\u5BA2"},{id:3,type:"Archer",text:"\u5C04\u624B"},{id:4,type:"Mage",text:"\u6CD5\u5E08"},{id:5,type:"Support",text:"\u8F85\u52A9"}];const _=()=>{f.value=[],v("close")},F=o(0),D=d=>{F.value=d.id,v("heroTypeSelect",d.type)},f=o([]),b=d=>{let N=f.value.indexOf(d.token_id);N==-1?f.value.push(d.token_id):f.value.splice(N,1)},x=o(!1),q=async()=>{try{x.value=!0;const d={staking_data:[],pool_id:i.poolId};f.value.map(p=>{let T=0,L={userAddress:"",tokenId:0,attackPower:0,mana:0,agility:0,totalAttributes:0};i.list.map(M=>{if(p==M.token_id){for(let et in M.attributes)T+=M.attributes[et];L={userAddress:r.address,tokenId:M.token_id,attackPower:M.attributes.attack,mana:M.attributes.magic,agility:M.attributes.agile,totalAttributes:T}}}),d.staking_data.push(L)});const N=await ke(d);if(N.data){let p=await ue(d.staking_data,i.poolId,N.data);p.from?(await p.wait(2),x.value=!1,v("onWork",!0)):(x.value=!1,v("onWork",!1))}}catch{x.value=!1,v("onWork",!1)}},R=o(!1),g=async()=>{try{R.value=!0;let d=await Ze();d.from&&(await d.wait(1),R.value=!1,W())}catch(d){R.value=!1,console.log("\u6388\u6743\u5931\u8D25",d)}},j=o(!1),W=async()=>{if(h.value.length){const d=await Ge(h.value);j.value=d}};dt(()=>{W()});const H=o({});return ot(()=>{const d={},N=i.list;i.info.poolId==0||i.info.poolId==4?N.map(p=>{if(!d[p.token_id]){let T=0;for(let L in p.attributes)T+=p.attributes[L];d[p.token_id]={text:"\u603B\u5C5E\u6027",value:T}}}):N.map(p=>{d[p.token_id]||(d[p.token_id]={text:i.info.attr,value:p.attributes[i.info.attr]})}),H.value=d}),(d,N)=>(u(),E(ft,{show:"",title:a(l)("\u9009\u62E9\u82F1\u96C4"),onClose:_},{default:k(()=>[t("div",Ke,[t("div",Xe,[t("div",Ye,[t("div",ta,[(u(!0),S(Q,null,O(a(y),p=>(u(),S("span",{class:"item-type",key:p.id,style:Gt({color:F.value==p.id?"#E1C392":""}),onClick:T=>D(p)},s(a(l)(p.text)),13,ea))),128))])]),I("",!0)]),e.list.length?(u(),S("div",aa,[t("div",sa,[(u(!0),S(Q,null,O(e.list,p=>(u(),S("div",{class:Jt(["hero-item",f.value.indexOf(p.token_id)!=-1?"select-hero":""]),key:p.token_id,onClick:T=>b(p)},[t("div",ua,[B(It,{img:p.image,"rarity-img":a(Ht)[p.rarity]},null,8,["img","rarity-img"])]),t("div",la,[t("div",na,[t("span",null,s(p.name),1),t("span",null,s(H.value[p.token_id].text),1)]),t("div",ia,[t("div",ca,[(u(!0),S(Q,null,O(p.starRate,T=>(u(),S("div",ra,va))),256))]),t("span",null,s(H.value[p.token_id].value),1)])]),Kt(t("div",_a,null,512),[[Xt,f.value.indexOf(p.token_id)!=-1]])],10,oa))),128))])])):(u(),E(Wt,{key:1},{default:k(()=>[z(s(a(l)("\u60A8\u8FD8\u6CA1\u6709\u53EF\u5DE5\u4F5C\u7684\u82F1\u96C4"))+"\uFF01",1)]),_:1}))]),t("div",pa,[!j.value&&!R.value?(u(),E(P,{key:0,onClick:g},{default:k(()=>[t("div",null,s(a(l)("\u6388\u6743")),1)]),_:1})):I("",!0),R.value?(u(),E(P,{key:1,active:""},{default:k(()=>[t("div",fa,[B(st),t("div",ha,s(a(l)("\u6388\u6743\u4E2D"))+"...",1)])]),_:1})):I("",!0),!x.value&&j.value&&f.value.length?(u(),E(P,{key:2,onClick:q},{default:k(()=>[t("div",null,s(a(l)("\u5F00\u59CB\u5DE5\u4F5C")),1)]),_:1})):I("",!0),j.value&&!f.value.length&&!x.value?(u(),E(P,{key:3,active:"","current-type":"disabled",class:"disabled-btn"},{default:k(()=>[t("div",null,s(a(l)("\u5F00\u59CB\u5DE5\u4F5C")),1)]),_:1})):I("",!0),x.value?(u(),E(P,{key:4,active:""},{default:k(()=>[t("div",ga,[B(st),t("div",ma,s(a(l)("\u786E\u8BA4\u4E2D"))+"...",1)])]),_:1})):I("",!0)])]),_:1},8,["title"]))}});var ya=V(ka,[["__scopeId","data-v-7a70fe06"]]);const Ft=[{name:"\u6697\u5F71\u79D8\u5883",text:"\u95E8\u69DB",pic:"src/assets/img/pc/work/sky.png",poolId:0,threshold:"\u65E0\u95E8\u69DB",proposal:"\u6240\u6709\u82F1\u96C4",reward:1,type:1}],Bt=[{name:"\u68A6\u5E7B\u79D8\u5883",text:"\u653B\u51FB",classes:"Archer",attr:"attack",pic:"src/assets/img/pc/work/menghuan.png",poolId:1,threshold:"60\u4EE5\u4E0A",value:60,proposal:"\u5C04\u624B",reward:2,type:1},{name:"\u68A6\u5E7B\u79D8\u5883",text:"\u9B54\u6CD5",attr:"magic",classes:"Mage",pic:"src/assets/img/pc/work/menghuan.png",poolId:2,threshold:"100\u4EE5\u4E0A",value:100,proposal:"\u6CD5\u5E08",reward:2,type:2},{name:"\u68A6\u5E7B\u79D8\u5883",text:"\u654F\u6377",attr:"agile",classes:"Assassin",pic:"src/assets/img/pc/work/menghuan.png",poolId:3,threshold:"80\u4EE5\u4E0A",value:80,proposal:"c\u523A\u5BA2",reward:2,type:3}],bt=[{name:"\u52C7\u8005\u79D8\u5883",text:"\u603B\u5C5E\u6027",pic:"src/assets/img/pc/work/yongzhe.png",poolId:4,threshold:"258\u4EE5\u4E0A",proposal:"\u6240\u6709\u82F1\u96C4",reward:3,type:1}];const ht=e=>(ut("data-v-10b11d40"),e=e(),lt(),e),Fa={class:"moyu"},wa={class:"moyu-desc"},Ea={class:"produce"},Ca=ht(()=>t("div",{class:"cloud"},null,-1)),Da={style:{color:"#fff"}},Aa={class:"field-card-list base-list"},Ba=ht(()=>t("span",null,null,-1)),ba={class:"field-card-list base-list"},xa=ht(()=>t("span",null,null,-1)),$a={class:"field-card-list base-list"},Sa=ht(()=>t("span",null,null,-1)),Ia=G({__name:"Moyu",setup(e){const{t:v}=Z(),i=tt(),l=o(50),r=o(37),h=o("center"),y=()=>{const n=document.documentElement.clientWidth<750;l.value=n?37:50,r.value=n?232:260,h.value=n?"letf":"center"};y(),window.addEventListener("resize",y,!1);const _=async n=>{W(n)},F=n=>{W(n)},D=n=>{W(n)},f=o(!1),b=o([]),x=o([]),q=o(0),R=o({}),g={1:60,2:100,3:80},j={1:1,2:2,3:3},W=n=>{q.value=n.poolId,R.value=n,n.poolId==0?b.value=M.value:n.poolId==j[n.poolId]?(b.value=[],M.value.map(m=>{m.classes==n.classes&&m.attributes[n.attr]>g[n.poolId]&&b.value.push(m)})):(b.value=[],M.value.map(m=>{let w=0;for(let U in m.attributes)w+=m.attributes[U];w>258&&b.value.push(m)})),b.value.length&&(x.value=[...b.value]),f.value=!0},H=o(""),d=o(""),N=o(!1),p=o(!1),T=n=>{N.value=n,f.value=!1,n?(H.value="\u8D28\u62BC\u6210\u529F",d.value="\u4F60\u7684\u82F1\u96C4\u5DF2\u7ECF\u5F00\u59CB\u4E3A\u60A8\u8D5A\u53D6\u6536\u76CA",setTimeout(()=>{kt(),et(),Ct()})):(H.value="\u8D28\u62BC\u5931\u8D25",d.value="\u4F60\u7684\u82F1\u96C4\u8D28\u62BC\u5931\u8D25"),p.value=!0};wt(p,n=>{setTimeout(()=>{n&&(p.value=!1)},2e3)});const L=n=>{x.value.length&&(b.value=[],n=="all"?b.value=[...x.value]:x.value.map(m=>{m.classes==n&&b.value.push(m)}))},M=o([]),et=async()=>{if(i.loginState){const n=await ye({account:i.address}),m=[],w=await le(i.address);w.length&&(w.map(U=>{let X=U.toString();n.map(_t=>{X==_t.token_id&&m.push(_t)})}),M.value=m)}},at=o([]),mt=()=>{const n=[];Ft.map(m=>{let w=!1;m.type==1&&M.value.length&&(w=!0,n.push(w))}),at.value=n},J=o([]),vt=()=>{const n=[];Bt.map(m=>{let w=!1;m.poolId==j[m.poolId]&&M.value.map(U=>{U.classes==m.classes&&U.attributes[m.attr]>g[m.poolId]&&(w=!0)}),n.push(w)}),J.value=n},c=o([]),A=()=>{const n=[];bt.map(m=>{if(m.type==1){let w=!1;M.value.map(U=>{let X=0;for(let _t in U.attributes)X+=U.attributes[_t];X>g[3]&&(w=!0,n.push(w))})}}),c.value=n},C=o(Ft),$=async()=>{if(i.loginState){const n={addition:"",perBlock:0,threshold:"",level:""},m=await ie(Ft[0].poolId);m.addition&&(n.addition=m.addition.toString(),n.perBlock=ct(m.perBlock.toString()),n.threshold=m.threshold.toString(),n.level=m.level.toString(),n.threshold=="0"&&(C.value[0].threshold="\u65E0\u95E8\u69DB",C.value[0].proposal="\u6240\u6709\u82F1\u96C4"))}},K=o(0),Pt=async()=>{if(i.loginState){const n=await ce();K.value=n.toString()/100}},nt=o({}),Ct=async()=>{try{if(i.loginState){const n={};(await ne(i.address)).map(w=>{n[w.pid.toString()]=w.state}),nt.value=n}}catch(n){console.log("\u62A5\u9519\u4E86",n)}},kt=async()=>{await et(),mt(),vt(),A(),Pt(),Ct(),$()},{loginState:Lt}=rt(i);return ot(()=>{Lt.value?kt():(nt.value={},K.value=0,c.value=[],J.value=[],at.value=[],M.value=[],x.value=[],b.value=[])}),dt(()=>{kt()}),(n,m)=>(u(),S(Q,null,[t("div",Fa,[t("div",wa,[t("div",Ea,[Ca,t("span",null,s(a(v)("\u4EA7\u51FA\u7387"))+"\uFF1A",1),t("span",Da,s(K.value)+" %",1)]),I("",!0)]),B(xt,{class:"tab-change",defaultTabIndex:"1",align:"between",border:!1,width:r.value},Yt({default:k(()=>[B(it,{tab:a(v)("\u521D\u7EA7"),key:"1"},{default:k(()=>[t("div",Aa,[(u(!0),S(Q,null,O(C.value,(w,U)=>(u(),E(yt,{state:at.value[U],workIng:nt.value[w.poolId],config:w,onWorking:X=>_(w)},null,8,["state","workIng","config","onWorking"]))),256)),Ba])]),_:1},8,["tab"]),B(it,{tab:a(v)("\u8FDB\u9636"),key:"2"},{default:k(()=>[t("div",ba,[(u(!0),S(Q,null,O(a(Bt),(w,U)=>(u(),E(yt,{path:a(Y)("pc/work/yongzhe.png"),config:w,workIng:nt.value[w.poolId],state:J.value[U],onWorking:X=>F(w)},null,8,["path","config","workIng","state","onWorking"]))),256)),xa])]),_:1},8,["tab"]),B(it,{tab:a(v)("\u5C01\u795E"),key:"3"},{default:k(()=>[t("div",$a,[(u(!0),S(Q,null,O(a(bt),(w,U)=>(u(),E(yt,{path:a(Y)("pc/work/menghuan.png"),config:w,workIng:nt.value[w.poolId],state:c.value[U],onWorking:X=>D(w)},null,8,["path","config","workIng","state","onWorking"]))),256)),Sa])]),_:1},8,["tab"])]),_:2},[void 0]),1032,["width"])]),f.value?(u(),E(ya,{key:0,list:b.value,poolId:q.value,info:R.value,onClose:m[0]||(m[0]=w=>f.value=!1),onHeroTypeSelect:L,onOnWork:T},null,8,["list","poolId","info"])):I("",!0),B($t,{show:p.value,title:H.value,desc:d.value},null,8,["show","title","desc"])],64))}});var Wa=V(Ia,[["__scopeId","data-v-10b11d40"]]);const gt=e=>(ut("data-v-1286d798"),e=e(),lt(),e),Ha={class:"hero-card-container"},Ta={class:"pic-container"},Ma={class:"hero-info-container"},Pa={class:"block-top"},La={class:"hero-name"},Na={class:"base-place-style"},qa={class:"block-center"},Ua={class:"info-item one"},Ra={class:"info-item-left"},za={style:{"padding-right":"4px"}},ja={class:"info-item-right"},Qa={class:"value"},Oa={class:"info-item two"},Va={class:"info-item-left"},Za={style:{"padding-right":"4px"}},Ga=gt(()=>t("div",null,null,-1)),Ja={class:"info-item-right"},Ka={class:"value"},Xa={class:"center-icon two-hover"},Ya={class:"base-icon"},ts=["src"],es={class:"item-two-hover bubble"},as={class:"info-item thr"},ss={class:"info-item-left"},os={style:{"padding-right":"4px"}},us={class:"center-icon thr-hover"},ls={class:"base-icon"},ns=["src"],is={class:"item-thr-hover bubble"},cs={class:"info-item-right"},rs={class:"value"},ds={class:"info-item four"},vs={class:"info-item-left"},_s={style:{"padding-right":"4px"}},ps=gt(()=>t("div",null,null,-1)),fs={class:"info-item-right",style:{display:"block"}},hs={class:"mdx-flex"},gs=gt(()=>t("div",{class:"mdx"},[t("img",{src:Qt})],-1)),ms={class:"value fw-en",style:{color:"#E1C392"}},ks=gt(()=>t("div",{class:"equal"}," $12.5 ",-1)),ys={class:"block-bottom"},Fs=G({__name:"HeroCard",props:{data:{default:()=>({})},map:{default:()=>({})},poolMapping:{default:()=>({})},block:null,zy:{default:0}},emits:["quitWork","pickUp","extractReward"],setup(e,{emit:v}){const i=e,{t:l}=Z(),r=[{id:1,text:"\u5E73\u5747\u6BCF\u533A\u5757\u6536\u76CA(DHT)",mapping:"revenuePerBlock",icon:Y("pc/work/question-circle.png")},{id:2,text:"\u5DE5\u4F5C\u65F6\u957F(\u533A\u5757)",mapping:"workingTime",icon:Y("pc/work/question-circle.png")},{id:3,text:"\u75B2\u52B3\u5EA6",mapping:"fatigue",icon:Y("pc/work/refresh.png")},{id:4,text:"\u6536\u76CA",mapping:"profit",icon:Y("pc/work/logo.png")}];let h=W=>{if(W){let H=we(W*3);return`${H.days} d ${H.hours} h ${H.minutes} m `}};const y=()=>{v("quitWork")},_=W=>{v("pickUp")},F=()=>{v("extractReward")},D=o(120),f=o(44),b=()=>{const W=document.documentElement.clientWidth<750;D.value=W?120:90,f.value=W?44:32};St(()=>{b(),window.addEventListener("resize",b,!1)});const x={0:"\u5F53\u524D\u6BCF\u533A\u5757\u6536\u76CA\u4E3A\uFF1A0.05   * \uFF081- \u75B2\u52B3\u5EA6\uFF09* \u901A\u80C0\u4EA7\u51FA\u7387",1:"\u5F53\u524D\u6BCF\u533A\u5757\u6536\u76CA\u4E3A\uFF1A[0.05+(\u7279\u5F81\u5C5E\u6027-\u5C5E\u6027\u95E8\u69DB)*0.025 ] * \uFF081- \u75B2\u52B3\u5EA6\uFF09* \u901A\u80C0\u4EA7\u51FA\u7387",2:"\u5F53\u524D\u6BCF\u533A\u5757\u6536\u76CA\u4E3A\uFF1A[0.05+(\u7279\u5F81\u5C5E\u6027-\u5C5E\u6027\u95E8\u69DB)*0.025 ] * \uFF081- \u75B2\u52B3\u5EA6\uFF09* \u901A\u80C0\u4EA7\u51FA\u7387",3:"\u5F53\u524D\u6BCF\u533A\u5757\u6536\u76CA\u4E3A\uFF1A[0.05+(\u7279\u5F81\u5C5E\u6027-\u5C5E\u6027\u95E8\u69DB)*0.025 ] * \uFF081- \u75B2\u52B3\u5EA6\uFF09* \u901A\u80C0\u4EA7\u51FA\u7387",4:"\u5F53\u524D\u6BCF\u533A\u5757\u6536\u76CA\u4E3A\uFF1A[0.02+\uFF08\u82F1\u96C4\u603B\u5C5E\u6027-258\uFF09x 0.002] * \uFF081- \u75B2\u52B3\u5EA6\uFF09* \u901A\u80C0\u4EA7\u51FA\u7387"},q=o("\u68A6\u5E7B\u79D8\u5883"),R=o(""),g={0:"\u6697\u5F71\u79D8\u5883",1:"\u68A6\u5E7B\u79D8\u5883",2:"\u68A6\u5E7B\u79D8\u5883",3:"\u68A6\u5E7B\u79D8\u5883",4:"\u52C7\u8005\u79D8\u5883"},j=()=>{const W=i.data,d=i.poolMapping[W.token_id];q.value=g[d],R.value=x[d]};return ot(()=>{i.poolMapping&&j()}),(W,H)=>(u(),S("div",Ha,[t("div",Ta,[B(It,{border:!1,img:e.data.image,"rarity-img":a(Ht)[e.data.rarity]},null,8,["img","rarity-img"])]),t("div",Ma,[t("div",Pa,[t("span",La,s(a(l)(e.data.name)),1),t("span",Na,s(q.value),1)]),t("div",qa,[t("div",Ua,[t("div",Ra,[t("div",za,s(a(l)(r[0].text)),1)]),t("div",ja,[t("div",Qa,s(e.map[e.data.token_id]&&e.map[e.data.token_id][r[0].mapping]),1),I("",!0)])]),t("div",Oa,[t("div",Va,[t("div",Za,s(a(l)(r[1].text)),1),Ga]),t("div",Ja,[t("div",Ka,s(e.map[e.data.token_id]&&e.map[e.data.token_id][r[1].mapping]),1),t("div",Xa,[t("div",Ya,[t("img",{src:r[1].icon},null,8,ts)]),t("div",es,s(a(l)("\u5DE5\u4F5C\u65F6\u957F\u533A\u5757\u9AD8\u5EA6"))+"\uFF1A"+s(e.map[e.data.token_id]&&a(h)(e.map[e.data.token_id][r[1].mapping])),1)])])]),t("div",as,[t("div",ss,[t("div",os,s(a(l)(r[2].text)),1),t("div",us,[t("div",ls,[t("img",{src:r[0].icon},null,8,ns)]),t("div",is,s(a(l)("\u5DE5\u4F5C\u957F\u75B2\u52B3\u9AD8")),1)])]),t("div",cs,[t("div",rs,s(e.map[e.data.token_id]&&e.map[e.data.token_id][r[2].mapping]),1),t("div",{class:"center-icon"},[t("div",{class:"recovery",onClick:_},"\u6062\u590D")])])]),t("div",ds,[t("div",vs,[t("div",_s,s(a(l)(r[3].text)),1),ps]),t("div",fs,[t("div",hs,[gs,t("div",ms,s(e.map[e.data.token_id]&&e.map[e.data.token_id][r[3].mapping])+" MDX ",1)]),ks])])]),t("div",ys,[B(Dt,{width:D.value,height:f.value,style:{"margin-right":"10px"},onClick:F},{default:k(()=>[z(s(a(l)("\u63D0\u53D6\u5956\u52B1")),1)]),_:1},8,["width","height"]),B(Dt,{width:D.value,height:f.value,type:"warning",onClick:y},{default:k(()=>[z(s(a(l)("\u9000\u51FA\u5DE5\u4F5C")),1)]),_:1},8,["width","height"])])])]))}});var ws=V(Fs,[["__scopeId","data-v-1286d798"]]);const Es=e=>(ut("data-v-17ff1cd4"),e=e(),lt(),e),Cs={class:"content"},Ds={class:"hero-info"},As={class:"hero-info-name base-color"},Bs=Es(()=>t("span",{class:"hero-info-state-tips"},"\u5F53\u524D\u75B2\u52B3\u5EA6\uFF1A",-1)),bs={class:"hero-info-state-value"},xs={class:"recovery-tips"},$s={class:"active-tips"},Ss={class:"table"},Is={class:"table-head"},Ws={class:"base-flex base-color"},Hs={class:"base-flex base-color"},Ts={class:"table-content"},Ms={class:"base-flex"},Ps={class:"base-flex"},Ls={class:"default-tips"},Ns={class:"btn-text"},qs={class:"btn-text"},Us=G({__name:"PickUpDialog",props:{show:{type:Boolean,default:!0},data:{default:()=>({})},map:{default:()=>({})}},emits:["close","payment"],setup(e,{emit:v}){const i=e,{t:l}=Z(),r=tt(),h=()=>{v("close")},y=o(!1),_=async()=>{try{y.value=!0;let g=await de(i.data.token_id);g.from?(await g.wait(2),y.value=!1,v("payment",!0)):(y.value=!1,v("payment",!1))}catch(g){v("payment",!1),y.value=!1,console.log("\u672A\u77E5\u9519\u8BEF",g)}},F=o(0);ot(async()=>{if(i.data.token_id){let g=await re(i.data.token_id);F.value=Number(ct(g.toString()).toFixed(4)),R()}});const D=o(!1),f=o(!1),b=async()=>{try{f.value=!0;let g=await Ce();g.from&&(await g.wait(1),f.value=!1,x())}catch(g){f.value=!1,console.log("\u672A\u77E5\u9519\u8BEF",g)}},x=async()=>{try{if(r.address){let g=await De(r.address);D.value=Number(g.toString())>0}}catch(g){console.log("\u672A\u77E5\u9519\u8BEF",g)}},q=o(0),R=async()=>{try{if(r.loginState){let g=await Ee(r.address);q.value=ct(g)||0,console.log(q.value)}}catch(g){console.log("\u83B7\u53D6dth\u4F59\u989D\u5931\u8D25",g)}};return dt(()=>{x()}),(g,j)=>(u(),E(ft,{show:e.show,onClose:h,title:a(l)("\u6062\u590D\u4F53\u529B")},{default:k(()=>[t("div",Cs,[t("div",Ds,[t("span",As,s(e.data.name),1),Bs,t("span",bs,s(e.map[e.data.token_id]&&e.map[e.data.token_id].fatigue),1)]),t("div",xs,[t("span",null,s(a(l)("\u6062\u590D\u4F53\u529B\u9700\u8981\u6D88\u8017\u7684\u4EE3\u5E01\u6570\u91CF"))+"\uFF0C"+s(a(l)("\u89C4\u5219")),1),t("span",$s,s(a(l)("\u8BF7\u53C2\u8003")),1)]),t("div",Ss,[t("div",Is,[t("div",Ws,s(a(l)("\u75B2\u52B3\u5EA6")),1),t("div",Hs,s(a(l)("\u6D88\u8017\u4EE3\u5E01")),1)]),t("div",Ts,[(u(!0),S(Q,null,O(a(me),(W,H)=>(u(),S("div",{class:"table-content-row",key:H},[t("div",Ms,s(W.fatigue),1),t("div",Ps,s(W.coin),1)]))),128))])]),t("div",Ls,"* "+s(a(l)("\u9700\u8981\u5148\u6062\u590D\u82F1\u96C4\u7684\u4F53\u529B\u624D\u80FD\u9000\u51FA\u5DE5\u4F5C")),1),!D.value&&!f.value?(u(),E(P,{key:0,onClick:b},{default:k(()=>[z(s(a(l)("\u6388\u6743")),1)]),_:1})):I("",!0),!D.value&&f.value?(u(),E(P,{key:1,style:{cursor:"not-allowed"},active:""},{default:k(()=>[B(st),t("div",Ns,s(a(l)("\u6388\u6743\u4E2D"))+"...",1)]),_:1})):I("",!0),!y.value&&D.value&&q.value>F.value?(u(),E(P,{key:2,onClick:_},{default:k(()=>[z(s(a(l)("\u652F\u4ED8"))+" "+s(F.value)+" DHT",1)]),_:1})):I("",!0),y.value&&D.value?(u(),E(P,{key:3,active:""},{default:k(()=>[B(st),t("div",qs,s(a(l)("\u652F\u4ED8\u4E2D"))+"...",1)]),_:1})):I("",!0),D.value&&!y.value&&q.value<F.value?(u(),E(P,{key:4,active:"",style:{color:"#676c73",cursor:"not-allowed"},"current-type":"disabled"},{default:k(()=>[z(s(a(l)("\u4F59\u989D\u4E0D\u8DB3")),1)]),_:1})):I("",!0)])]),_:1},8,["show","title"]))}});var Rs=V(Us,[["__scopeId","data-v-17ff1cd4"]]);const zs={class:"content"},js={class:"tips"},Qs={style:{display:"flex","align-items":"center"}},Os={style:{"margin-left":"5px",color:"#e1c392"}},Vs=G({__name:"QuitWorkDialog",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","quitWork"],setup(e,{emit:v}){const i=e,{t:l}=Z(),r=()=>{v("close")};tt();const h=o(!1),y=async()=>{try{h.value=!0;let _=await ve([i.data.token_id.toString()]);_.from?(await _.wait(2),h.value=!1,v("quitWork",!0)):(h.value=!1,v("quitWork",!1))}catch(_){h.value=!1,v("quitWork",!1),console.log("\u672A\u77E5\u9519\u8BEF",_)}};return(_,F)=>(u(),E(ft,{title:a(l)("\u9000\u51FA\u5DE5\u4F5C"),show:e.show,onClose:r},{default:k(()=>[t("div",zs,[t("div",js,s(a(l)("\u786E\u5B9A\u8981\u9000\u51FA\u5F53\u524D\u5DE5\u4F5C\u5417"))+"\uFF1F",1),h.value?I("",!0):(u(),E(P,{key:0,onClick:y},{default:k(()=>[z(s(a(l)("\u9000\u51FA\u5DE5\u4F5C")),1)]),_:1})),h.value?(u(),E(P,{key:1,style:{cursor:"not-allowed"}},{default:k(()=>[t("div",Qs,[B(st),t("div",Os,s(a(l)("\u9000\u51FA\u4E2D")),1)])]),_:1})):I("",!0)])]),_:1},8,["title","show"]))}});var Zs=V(Vs,[["__scopeId","data-v-4096b03a"]]);const Gs={class:"content"},Js={class:"tips"},Ks={style:{display:"flex","align-items":"center"}},Xs={style:{"margin-left":"5px",color:"#e1c392"}},Ys=G({__name:"ExtractDialog",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","extract"],setup(e,{emit:v}){const i=e,{t:l}=Z(),r=()=>{v("close")},h=o(!1),y=async()=>{try{h.value=!0;let _=await _e([i.data.token_id]);_.from?(await _.wait(1),h.value=!1,v("extract",!0)):(h.value=!1,v("extract",!1))}catch(_){h.value=!1,v("extract",!1),console.log("\u672A\u77E5\u9519\u8BEF",_)}};return(_,F)=>(u(),E(ft,{title:a(l)("\u63D0\u53D6\u5956\u52B1"),show:e.show,onClose:r},{default:k(()=>[t("div",Gs,[t("div",Js,s(a(l)("\u786E\u5B9A\u8981\u63D0\u53D6\u5F53\u524D\u5956\u52B1\u5417\uFF1F")),1),h.value?I("",!0):(u(),E(P,{key:0,onClick:y},{default:k(()=>[z(s(a(l)("\u63D0\u53D6\u5956\u52B1")),1)]),_:1})),h.value?(u(),E(P,{key:1,style:{cursor:"not-allowed"}},{default:k(()=>[t("div",Ks,[B(st),t("div",Xs,s(a(l)("\u63D0\u53D6\u4E2D"))+"...",1)])]),_:1})):I("",!0)])]),_:1},8,["title","show"]))}});var to=V(Ys,[["__scopeId","data-v-558c96d7"]]);const Et=e=>(ut("data-v-18e5748a"),e=e(),lt(),e),eo={class:"hero"},ao={class:"hero-card-list"},so={key:1},oo={key:0,style:{display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},uo=Et(()=>t("div",{class:"card-item"},null,-1)),lo=Et(()=>t("div",{class:"card-item"},null,-1)),no=Et(()=>t("div",{class:"card-item"},null,-1)),io=G({__name:"MyHero",setup(e){const{t:v}=Z(),i=tt(),{loginState:l}=rt(i),r=o({}),h=o(!1),y=o(!1),_=o(""),F=o(""),D=o("success"),f=c=>{c?(_.value="\u9000\u51FA\u5DE5\u4F5C\u6210\u529F",F.value="\u5DF2\u5BF9\u8BE5\u82F1\u96C4\u9000\u51FA\u5DE5\u4F5C",D.value="success"):(_.value="\u9000\u51FA\u5DE5\u4F5C\u5931\u8D25",F.value="\u82F1\u96C4\u9000\u51FA\u5DE5\u4F5C\u5931\u8D25",D.value="error"),y.value=!0,h.value=!1,N()},b=c=>{r.value=c,h.value=!0},x=o(!1),q=c=>{r.value=c,x.value=!0},R=c=>{c?(_.value="\u6E05\u9664\u6210\u529F",F.value="\u5DF2\u6210\u529F\u6E05\u9664\u75B2\u52B3\u503C",D.value="success"):(_.value="\u6E05\u9664\u5931\u8D25",F.value="\u6E05\u9664\u75B2\u52B3\u503C\u5931\u8D25",D.value="error"),y.value=!0,x.value=!1,N()},g=o(!1),j=c=>{r.value=c,g.value=!0},W=c=>{c?(_.value="\u63D0\u53D6\u6210\u529F",F.value="\u5DF2\u6210\u529F\u63D0\u53D6\u5956\u52B1",D.value="success"):(_.value="\u63D0\u53D6\u6210\u529F",F.value="\u5F53\u524D\u63D0\u53D6\u5956\u52B1\u5931\u8D25",D.value="error"),y.value=!0,g.value=!1,N()};wt(y,c=>{setTimeout(()=>{c&&(y.value=!1)},2e3)});const H=o(!1),d=o([]),N=async()=>{try{if(i.loginState){H.value=!0;const c=[],A=await pe(i.address);if(A.length){A.map($=>{c.push($.toString())});const C=await Fe(c);C.length&&(d.value=C,H.value=!1,await M(),await mt(),await et())}else H.value=!1}}catch(c){H.value=!1,console.log("\u672A\u77E5\u9519\u8BEF",c)}},p=te("tabIndex");ot(()=>{p.value=="2"&&l.value?N():d.value=[]});const T=o({}),L=o([]),M=async()=>{try{const c={},A=[];d.value.map($=>{A.push($.token_id)}),L.value=A;let C=await fe(A);for(let $=0;$<L.value.length;$++){const K={};K.fatigue=Number(C[$].fatigue.toString())/10+"%",K.startBlock=C[$].rewardBlock.toString(),c[L.value[$]]=K}T.value=c}catch(c){console.log("\u672A\u77E5\u9519\u8BEF",c)}},et=async()=>{try{if(l.value){const c=[];d.value.map($=>{c.push($.token_id)});const A=await At(),C=await he(c);for(let $=0;$<L.value.length;$++)T.value[L.value[$]].profit=ct(C[$]),T.value[L.value[$]].revenuePerBlock=(ct(C[$])/(A-T.value[L.value[$]].startBlock)).toFixed(4)}}catch(c){console.log("\u672A\u77E5\u9519\u8BEF",c)}},at=o({}),mt=async()=>{const c={};for(const A of d.value){let C=await ge(A.token_id);c[A.token_id]=C.pid.toString()}at.value=c},J=o(0),vt=o(0);return St(async()=>{vt.value=setInterval(async()=>{let c=await At();J.value=c},3e3)}),ee(()=>{clearInterval(vt.value)}),wt(J,c=>{if(c)for(let A=0;A<L.value.length;A++){const C=T.value[L.value[A]].startBlock;T.value[L.value[A]].workingTime=c-C}}),(c,A)=>(u(),S(Q,null,[t("div",eo,[t("div",ao,[H.value?(u(),E(se,{key:0})):(u(),S("div",so,[d.value.length?(u(),S("div",oo,[(u(!0),S(Q,null,O(d.value,C=>(u(),E(ws,{class:"card-item",key:C.token_id,data:C,map:T.value,poolMapping:at.value,onPickUp:$=>q(C),onQuitWork:$=>b(C),onExtractReward:$=>j(C),block:J.value,zy:T.value[C.token_id]?T.value[C.token_id].startBlock:0},null,8,["data","map","poolMapping","onPickUp","onQuitWork","onExtractReward","block","zy"]))),128)),uo,lo,no])):(u(),E(Wt,{key:1},{default:k(()=>[z(s(a(v)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4")),1)]),_:1}))]))])]),B(Rs,{show:x.value,data:r.value,map:T.value,onClose:A[0]||(A[0]=C=>x.value=!1),onPayment:R},null,8,["show","data","map"]),B(Zs,{show:h.value,data:r.value,onClose:A[1]||(A[1]=C=>h.value=!1),onQuitWork:f},null,8,["show","data"]),B(to,{show:g.value,data:r.value,onClose:A[2]||(A[2]=C=>g.value=!1),onExtract:W},null,8,["show","data"]),B($t,{show:y.value,title:_.value,desc:F.value,type:D.value,onClose:A[3]||(A[3]=C=>y.value=!1)},null,8,["show","title","desc","type"])],64))}});var co=V(io,[["__scopeId","data-v-18e5748a"]]);const ro={class:"work"},vo={class:"work-tabs"},_o=G({__name:"index",setup(e){const{t:v}=Z();let i=o(0),l=o(0),r=o("center");const h=()=>{let f=document.documentElement.clientWidth<750;i.value=f?37:50,l.value=f?180:260,r.value=f?"left":"center"};h(),window.addEventListener("resize",h,!1);const y=tt(),{address:_}=rt(y);dt(()=>{_.value.length||y.setConnectWalletShow(!0)});const F=o("1");ae("tabIndex",F);const D=({key:f})=>{F.value=f};return(f,b)=>(u(),S("div",ro,[B(Nt),B(qt),t("div",vo,[B(xt,{align:a(r),defaultTabIndex:"1",width:a(l),height:a(i),onOnchange:D},{default:k(()=>[B(it,{tab:a(v)("\u9B54\u57DF"),key:"1"},{default:k(()=>[B(Wa)]),_:1},8,["tab"]),B(it,{tab:a(v)("\u6211\u7684\u82F1\u96C4"),key:"2"},{default:k(()=>[B(co)]),_:1},8,["tab"])]),_:1},8,["align","width","height"])]),t("div",null,[B(Ut)])]))}});var mu=V(_o,[["__scopeId","data-v-0992344d"]]);export{mu as default};
