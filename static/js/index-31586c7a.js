import{g as he,a3 as we,a4 as De,a5 as be}from"./getAssetsFile-567d3cf0.js";import{N as Be,H as xe,F as Se}from"./Header-8d64b71d.js";import{_ as J,B as f,E as Ce,u as Ee,A as I,M as ke,V as Fe,g as Ne,L as G}from"./index-3ca9b6c8.js";import{B as Te}from"./Border-43cc6893.js";import{u as Y}from"./vue-i18n-9e09b457.js";import{af as ee,aA as r,a3 as g,b1 as v,a6 as e,ad as d,K as a,ac as _,Q as o,r as s,au as M,aZ as E,w as Ie,h as b,a5 as O,P as Q,a4 as p,aC as Me,aB as Ae}from"./@vue-e2e59b29.js";import{b as He,c as $e,g as Le}from"./Erc20-d302f39f.js";import{s as Pe}from"./pinia-c5b88873.js";import{u as Ve}from"./vue-router-dc311353.js";import{e as U,a as Z}from"./format-7642b802.js";import{g as We,c as q}from"./public-1ae1eec4.js";import"./@metamask-0322580d.js";import"./@ethersproject-baa9d35e.js";import"./js-sha3-24137471.js";import"./hash.js-a20011ef.js";import"./minimalistic-assert-c1ce1705.js";import"./inherits-1fe83bc7.js";import"./bech32-9a81277b.js";import"./@walletconnect-6b5bf47d.js";import"./is-typedarray-4f40b03b.js";import"./query-string-2015e57d.js";import"./strict-uri-encode-ecbf5106.js";import"./decode-uri-component-fb3850ff.js";import"./split-on-first-6a113853.js";import"./typedarray-to-buffer-3049f596.js";import"./detect-browser-d6d27bfa.js";import"./qrcode-8475bf43.js";import"./isarray-dd297434.js";import"./buffer-42a74e2f.js";import"./base64-js-f5f6d31b.js";import"./ieee754-b34e253f.js";import"./dijkstrajs-5cebdf0c.js";import"./copy-to-clipboard-792b0d71.js";import"./toggle-selection-eefc0dc5.js";import"./preact-c6b9a0a0.js";import"./process-79043346.js";import"./vue-demi-5b9a0fa5.js";import"./@intlify-22bbbbdc.js";import"./vue-81a98a43.js";import"./dayjs-3b7406d5.js";const Xe={class:"content"},ze={class:"card"},Ke={class:"handler"},Re=ee({__name:"Dialog",props:{show:{type:Boolean,default:!1}},emits:["close","navigateTo"],setup(c,{emit:l}){const{t:i}=Y(),y=()=>{l("close")},h=()=>{l("navigateTo")};return(x,W)=>(r(),g(Ce,{show:c.show,onClose:y,title:a(i)("\u8D2D\u4E70\u6210\u529F")},{default:v(()=>[e("div",Xe,[e("div",ze,[d(Te,{mark:!1,img:a(he)("global/blindBxo.gif")},null,8,["img"])]),e("div",Ke,[d(f,{onClick:h},{default:v(()=>[_(o(a(i)("\u5F00\u542F\u76F2\u76D2")),1)]),_:1}),e("div",{class:"tips",onClick:y},o(a(i)("\u6211\u77E5\u9053\u4E86")),1)])])]),_:1},8,["show","title"]))}});var je=J(Re,[["__scopeId","data-v-61a51de1"]]);const V=async()=>await We(q.buyMysteryBox.address,q.buyMysteryBox.abi),Ge=async c=>await(await V()).buyMysteryBox(c),Oe=async()=>await(await V()).price(),Qe=async()=>await(await V()).startTime();const A=c=>(Me("data-v-e5f7aa10"),c=c(),Ae(),c),Ue={class:"sale-container"},Ze=A(()=>e("div",{class:"bg"},[e("img",{src:we})],-1)),qe={class:"sale-box"},Je={class:"title"},Ye={class:"fw-en"},et=A(()=>e("span",{class:"fw-en"},"OpenMeta",-1)),tt={class:"time"},at=A(()=>e("div",{class:"clock"},[e("img",{src:De})],-1)),st=A(()=>e("div",{class:"gift-box"},[e("img",{src:be})],-1)),ot={class:"count"},ut={class:"manghe"},lt={class:"computed"},nt={class:"total"},ct=_("MDX\u4F59\u989D\u4E0D\u8DB3"),rt={class:"buying"},it={class:"buying-text"},vt={class:"buying"},dt={class:"buying-text"},_t={class:"footer"},mt=ee({__name:"index",setup(c){const{t:l}=Y(),i=Ee(),{address:y,loginState:h,chainId:x,currentLang:W}=Pe(i);let H=s(!1);const te=()=>{H.value=!1};s(!1);const ae=async()=>{await Fe(),console.log("\u8FDE\u63A5bsc")},se=()=>{window.open("https://ht.mdex.co/#/swap?lang=zh-HK&inputCurrency=0x25d2e80cb6b86881fd7e07dd263fb79f4abe033c&outputCurrency=0xa71edc38d189767582c38a3145b5873052c3e47a")},oe=Ve(),ue=()=>{oe.push("/user?tab=blingBox")},n=s(1),le=()=>{n.value--,n.value<=1&&(n.value=1)},ne=()=>{n.value++,n.value>=5&&(n.value=5)},$=s(""),k=s(""),ce=async()=>{if(i.address&&x.value==I){let t=await Qe();if(t){k.value=t.toString();let m=new Date(Number(t.toString())).setHours(new Date(Number(t.toString())).getHours()+8),j=i.currentLang=="en"?new Date(Number(t.toString())):new Date(m);$.value=U(j)}}};M(async()=>{ce()}),E(()=>{let t=new Date(Number(k.value)).setHours(new Date(Number(k.value)).getHours()+8),m=i.currentLang=="en"?new Date(Number(k.value)):new Date(t);$.value=U(m)});const S=s(!1),F=s(""),N=s(""),T=s("success"),B=s(!1),re=async()=>{try{B.value=!0;let t=await He();t.from&&(await t.wait(1),await X(),F.value="\u6388\u6743\u6210\u529F",N.value="\u7528\u6237\u6388\u6743\u5408\u7EA6\u6210\u529F",T.value="success",B.value=!1)}catch{F.value="\u6388\u6743\u5931\u8D25",N.value="\u7528\u6237\u65AD\u5F00\u6216\u53D6\u6D88\u4E86\u6388\u6743",T.value="error",B.value=!1,console.log("\u9500\u552E\u6388\u6743\u5931\u8D25")}},w=s(!1),X=async()=>{const t=await $e(y.value);Number(t.toString())>0&&(w.value=!0)};M(()=>{u.value&&x.value==I&&X()});const ie=s(!1),ve=async()=>{i.setConnectWalletShow(!0)},L=s(0),z=s(0),K=async()=>{try{if(y.value.length){const t=await Oe(),m=await Le(y.value);L.value=Z(t.toString()),z.value=Z(m.toString())}}catch(t){console.log("\u672A\u77E5\u9519\u8BEF",t)}};M(async()=>{K()});const u=s(!1);M(()=>{h.value?u.value=!0:u.value=h.value}),E(()=>{h.value?u.value=!0:u.value=h.value}),Ie(h,t=>{t&&(u.value=!0)}),E(()=>{y.value.length&&(u.value=!0)});const C=s(!1),P=s(0);E(()=>{P.value=n.value*L.value,z.value>P.value?C.value=!0:C.value=!1});const D=s(!1),de=async()=>{try{D.value=!0;let t=await Ge(n.value);t.from&&(await t.wait(2),await K(),D.value=!1,n.value=1,H.value=!0)}catch{D.value=!1,F.value="\u8D2D\u4E70\u5931\u8D25",N.value="\u7528\u6237\u53D6\u6D88\u6216\u65AD\u5F00\u4E86\u8D2D\u4E70",T.value="error",S.value=!0}};E(()=>{S.value&&setTimeout(()=>{S.value=!1},2e3)});const _e=b(()=>!u.value&&!ie.value),me=b(()=>u.value&&C.value&&!D.value&&w.value),R=b(()=>u.value&&w.value&&!C.value),pe=b(()=>u.value&&w.value&&C.value&&D.value),fe=b(()=>u.value&&!w.value&&!B.value&&x.value==I),ge=b(()=>u.value&&!w.value&&B.value),ye=b(()=>u.value&&!w.value&&!B.value&&x.value!==I);return(t,m)=>(r(),O("div",Ue,[Ze,d(Be),d(xe),e("div",qe,[e("header",null,[e("div",Je,[e("div",null,[e("span",Ye,o(a(Ne)),1),_(" "+o(a(l)("\u76F2\u76D2")),1)]),e("div",null,[et,_(" "+o(a(l)("\u9996\u53D1")),1)])]),e("div",tt,[at,e("span",null,o($.value)+" (UTC+ "+o(a(W)=="en"?0:8)+")",1)])]),e("aside",null,[st,e("div",ot,[_(o(L.value)+" MDX",1),e("span",ut,"/ "+o(a(l)("\u76F2\u76D2")),1)]),e("div",lt,[e("div",{class:"reduce base-style",style:Q({cursor:n.value<=1||D.value?" not-allowed":""}),onClick:le},null,4),e("div",nt,o(n.value),1),e("div",{class:"plus base-style",style:Q({cursor:n.value>=5||D.value?" not-allowed":""}),onClick:ne},null,4)])]),e("footer",null,[a(_e)?(r(),g(f,{key:0,onClick:ve},{default:v(()=>[_(o(a(l)("\u8FDE\u63A5\u94B1\u5305")),1)]),_:1})):p("",!0),a(fe)?(r(),g(f,{key:1,onClick:re},{default:v(()=>[_(o(a(l)("\u6388\u6743")),1)]),_:1})):p("",!0),a(me)?(r(),g(f,{key:2,onClick:de},{default:v(()=>[_(o(P.value)+" MDX \u8D2D\u4E70",1)]),_:1})):p("",!0),a(ye)?(r(),g(f,{key:3,"current-type":"err",style:{"justify-content":"center",color:"#fff"},onClick:ae},{default:v(()=>[_(o(a(l)("\u5207\u6362\u4E3ABSC\u7F51\u7EDC")),1)]),_:1})):p("",!0),a(R)?(r(),g(f,{key:4,active:"","current-type":"disabled",class:"disabled"},{default:v(()=>[ct]),_:1})):p("",!0),a(pe)?(r(),g(f,{key:5,active:""},{default:v(()=>[e("div",rt,[d(G),e("div",it,o(a(l)("\u8D2D\u4E70\u4E2D"))+"...",1)])]),_:1})):p("",!0),a(ge)?(r(),g(f,{key:6,active:""},{default:v(()=>[e("div",vt,[d(G),e("div",dt,o(a(l)("\u6388\u6743\u4E2D"))+"...",1)])]),_:1})):p("",!0),a(R)?(r(),O("div",{key:7,class:"to-buy",onClick:se},"\u53BB\u8D2D\u4E70MDX")):p("",!0)])]),e("div",_t,[d(Se)]),d(je,{show:a(H),onClose:te,onNavigateTo:ue},null,8,["show"]),d(ke,{show:S.value,type:T.value,title:F.value,desc:N.value,onClose:m[0]||(m[0]=j=>S.value=!1)},null,8,["show","type","title","desc"])]))}});var ta=J(mt,[["__scopeId","data-v-e5f7aa10"]]);export{ta as default};
