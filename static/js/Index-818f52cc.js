import{a9 as G,r as i,aZ as me,az as s,$ as c,a0 as e,a7 as y,D as u,K as l,O as D,aF as x,aG as fe,aC as P,aA as j,Z as f,b1 as m,a6 as g,H as te,b3 as V,bn as z,_ as $,au as pe,ap as ke,w as ge}from"./@vue-823c75d3.js";import{R as Ce,G as se,O as oe,K as ye}from"./getAssetsFile-9a9774ed.js";import{_ as K,B as A,F as ae,u as $e,M as Ee,J as Fe,L as X}from"./index-4c0487ef.js";import{E as le,L as we}from"./Loading-498b4fe8.js";import{T as be,d as De,c as Y}from"./UpgradeNft-979cb375.js";import{B as Ae}from"./Border-15510564.js";import{b as xe,h as ee}from"./index-6c0aca50.js";import{u as O}from"./vue-i18n-5b28fcda.js";/* empty css                                                          */import{u as Be}from"./vue-router-4d4637a0.js";import{M as He}from"./MaskLoading-2cbe12e3.js";import{a as Se}from"./index-cfa65620.js";import{g as Ie,a as Le}from"./NFT-c09b8b76.js";import"./pinia-d7eeac71.js";import"./vue-demi-5b9a0fa5.js";import"./@metamask-0322580d.js";import"./@ethersproject-baa9d35e.js";import"./js-sha3-24137471.js";import"./hash.js-a20011ef.js";import"./minimalistic-assert-c1ce1705.js";import"./inherits-1fe83bc7.js";import"./bech32-9a81277b.js";import"./@walletconnect-6b5bf47d.js";import"./is-typedarray-4f40b03b.js";import"./query-string-2015e57d.js";import"./strict-uri-encode-ecbf5106.js";import"./decode-uri-component-fb3850ff.js";import"./split-on-first-6a113853.js";import"./typedarray-to-buffer-3049f596.js";import"./detect-browser-d6d27bfa.js";import"./qrcode-8475bf43.js";import"./isarray-dd297434.js";import"./buffer-42a74e2f.js";import"./base64-js-f5f6d31b.js";import"./ieee754-b34e253f.js";import"./dijkstrajs-5cebdf0c.js";import"./copy-to-clipboard-792b0d71.js";import"./toggle-selection-eefc0dc5.js";import"./preact-c6b9a0a0.js";import"./process-79043346.js";import"./@intlify-22bbbbdc.js";import"./vue-b8cbd5d3.js";/* empty css                                                            */import"./lottie-web-96c2a85a.js";/* empty css                                                         */import"./public-6e677674.js";import"./axios-f45f83e3.js";/* empty css                                                                */import"./qs-899482d5.js";import"./side-channel-c89d4eb5.js";import"./get-intrinsic-13ed3457.js";import"./has-symbols-39607a5b.js";import"./function-bind-f4350d04.js";import"./has-c67be6c1.js";import"./call-bind-60ebbe96.js";import"./object-inspect-cc1301a1.js";const ue=t=>(P("data-v-cbf4221a"),t=t(),j(),t),Te={class:"hero-card-container"},Me={class:"hero-info"},Ne={class:"base-flex base-height"},Re={class:"hero-name"},Ue={class:"hero-type"},Ve={class:"base-flex base-height"},ze={class:"base-flex"},Ge={class:"star"},Pe={class:"grade"},je=ue(()=>e("div",{class:"dot"},null,-1)),Ke={class:"base-flex base-height"},Oe={class:"base-font"},Ze={class:"base-flex"},qe=ue(()=>e("div",{class:"ques-icon"},null,-1)),Je={class:"base-flex base-height"},We={class:"base-font"},Qe=G({__name:"HeroCard",props:{data:{default:()=>({})}},setup(t){const n=t,{t:d}=O(),k=i(0);return me(()=>{if(k.value=0,n.data.attributes)for(let _ in n.data.attributes)k.value+=n.data.attributes[_]}),(_,h)=>(s(),c("div",Te,[e("div",null,[y(Ae,{border:!1,img:t.data.image,"rarity-img":u(xe)[t.data.rarity]},null,8,["img","rarity-img"])]),e("div",Me,[e("div",Ne,[e("span",Re,l(t.data.name),1),e("span",Ue,l(u(d)(t.data.classes)),1)]),e("div",Ve,[e("div",ze,[(s(!0),c(D,null,x(t.data.starRate,E=>(s(),c("div",Ge))),256))]),e("span",Pe,[je,e("div",null,"LV"+l(t.data.level),1)])]),e("div",Ke,[e("div",Oe,l(u(d)("\u603B\u5C5E\u6027")),1),e("div",Ze,[e("div",null,l(k.value),1),qe])]),e("div",Je,[e("span",We,l(u(d)(u(ee)[t.data.classes])),1),e("span",null,l(t.data.attributes&&t.data.attributes[u(ee)[t.data.classes]]),1)])]),fe(_.$slots,"default",{},void 0,!0)]))}});var ie=K(Qe,[["__scopeId","data-v-cbf4221a"]]);const Xe=t=>(P("data-v-352aff1b"),t=t(),j(),t),Ye={class:"content"},et={class:"desc"},tt=Xe(()=>e("div",{class:"pic"},[e("img",{src:Ce})],-1)),st={class:"light-height"},ot={class:"flex"},at=G({__name:"DecomposeDialog",props:{show:{type:Boolean,default:!1},count:{default:0}},emits:["close"],setup(t,{emit:n}){const{t:d}=O(),k=()=>{n("close")},_=Be(),h=()=>{_.push("/user/wallet")};return(E,p)=>(s(),f(ae,{title:u(d)("\u5206\u89E3\u6210\u529F"),show:t.show,onClose:k},{default:m(()=>[e("div",Ye,[e("div",et,l(u(d)("\u606D\u559C\u60A8\u83B7\u5F97")),1),tt,e("div",st,l(t.count)+" "+l(u(d)("\u5347\u661F\u788E\u7247")),1),e("div",ot,[e("div",null,l(u(d)("\u788E\u7247\u5DF2\u81EA\u52A8\u8F6C\u5165\u4F60\u7684\u94B1\u5305")),1),e("div",{class:"share",onClick:h})]),y(A,{onClick:k},{default:m(()=>[g(l(u(d)("\u6211\u77E5\u9053\u4E86")),1)]),_:1})])]),_:1},8,["title","show"]))}});var lt=K(at,[["__scopeId","data-v-352aff1b"]]);const ce=t=>(P("data-v-08a7269c"),t=t(),j(),t),ut={class:"content"},it={class:"top"},ct={class:"star-list"},nt=["onClick"],rt=ce(()=>e("img",{src:se},null,-1)),dt=[rt],vt=["onClick"],_t=ce(()=>e("img",{src:oe},null,-1)),ht=[_t],mt={key:0,class:"hero-scroll"},ft={class:"hero-list"},pt={class:"select-icon-mark"},kt={key:2,class:"btn-blcok"},gt=G({__name:"SelectHeroDialogForPhone",props:{list:{default:()=>[]}},emits:["close","confirm","selectAll","starClick"],setup(t,{emit:n}){const{t:d}=O(),k=()=>{n("close")},_=i({}),h=F=>{_.value=F},E=()=>{n("confirm",_)},p=i(0),I=F=>{p.value=F,n("starClick",F)},C=()=>{p.value=0,n("selectAll")};return(F,L)=>(s(),f(ae,{show:"",title:u(d)("\u9009\u62E9\u82F1\u96C4"),onClose:k},{default:m(()=>[e("div",ut,[e("div",it,[e("div",{class:"desc",onClick:C},l(u(d)("\u5168\u90E8")),1),e("div",ct,[(s(!0),c(D,null,x(p.value,a=>(s(),c("div",{class:"star-icon",key:a,onClick:w=>I(a)},dt,8,nt))),128)),(s(!0),c(D,null,x(5-p.value,a=>(s(),c("div",{class:"star-icon",key:a,onClick:w=>I(a+p.value)},ht,8,vt))),128))])]),t.list.length?(s(),c("div",mt,[e("div",ft,[(s(!0),c(D,null,x(t.list,(a,w)=>(s(),f(ie,{class:te([a.token_id==_.value.token_id?"active-class":"","card-item"]),key:w,data:a,onClick:Z=>h(a)},{default:m(()=>[V(e("div",pt,null,512),[[z,a.token_id==_.value.token_id]])]),_:2},1032,["class","data","onClick"]))),128))])])):$("",!0),t.list.length?$("",!0):(s(),f(le,{key:1},{default:m(()=>[g(l(u(d)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4"))+"\uFF01",1)]),_:1})),t.list.length?(s(),c("div",kt,[y(A,{onClick:E},{default:m(()=>[g(l(u(d)("\u786E\u5B9A")),1)]),_:1})])):$("",!0)])]),_:1},8,["title"]))}});var Ct=K(gt,[["__scopeId","data-v-08a7269c"]]);const B=t=>(P("data-v-3eabe5e8"),t=t(),j(),t),yt={class:"fragment-box"},$t={class:"top"},Et={class:"pic-container"},Ft=["src"],wt={class:"select-icon"},bt=B(()=>e("img",{src:ye},null,-1)),Dt=[bt],At={key:0,class:"text"},xt={key:1,class:"text"},Bt=g(" \u5206\u89E3\u6210\u529F\u540E\uFF0C\u4F60\u5C06\u5931\u53BB\u6B64\u82F1\u96C4\uFF0C\u5E76\u83B7\u5F97"),Ht={style:{color:"#e1c392"}},St=g("\u788E\u7247,\u8BF7\u8C28\u614E\u64CD\u4F5C "),It=g("\u5206\u89E3"),Lt=g("\u6388\u6743"),Tt={style:{display:"flex","align-items":"center","justify-content":"center"}},Mt={style:{"margin-left":"5px",color:"#e1c392"}},Nt={style:{display:"flex","align-items":"center","justify-content":"center"}},Rt={style:{"margin-left":"5px",color:"#e1c392"}},Ut={class:"bottom"},Vt={style:{display:"flex"}},zt={class:"star-list"},Gt=["onClick"],Pt=B(()=>e("img",{src:se},null,-1)),jt=[Pt],Kt=["onClick"],Ot=B(()=>e("img",{src:oe},null,-1)),Zt=[Ot],qt={key:1},Jt={key:0,class:"hero-list"},Wt={class:"select"},Qt=B(()=>e("div",{class:"card-item"},null,-1)),Xt=B(()=>e("div",{class:"card-item"},null,-1)),Yt=B(()=>e("div",{class:"card-item"},null,-1)),es=B(()=>e("div",{class:"card-item"},null,-1)),ts=G({__name:"Index",setup(t){const{t:n}=O(),d=i(!1),k=()=>{d.value=document.documentElement.clientWidth<750};pe(()=>{k(),window.addEventListener("resize",k,!1)});const _=$e(),h=i([]),E=i([]),p=i(!1),I=async()=>{try{if(_.address.length){p.value=!0;const o=await Se({account:_.address});o.length?(h.value=o,E.value=o,p.value=!1):(h.value=[],E.value=[],p.value=!1)}}catch(o){p.value=!1,console.log("\u53D1\u751F\u4E86\u672A\u77E5\u9519\u8BEF",o)}},C=i(!1),F=async()=>{const o=await Ie(_.address);C.value=o};ke(()=>{I(),F()});const L=i(""),a=i({}),w=i(0),Z=i(!1),ne=async o=>{try{Z.value=!0,L.value=o.token_id,a.value=o;let r=await Y(o.token_id);r&&(Z.value=!1,w.value=Number(r.toString()))}catch(r){console.log("\u672A\u77E5\u9519\u8BEF",r)}},T=i(!1),M=i(""),H=i(""),N=i("success"),re=()=>{window.open(`${Fe}${H.value}`)};ge(T,o=>{setTimeout(()=>{o&&(T.value=!1)},3e3)});const S=i(!1),de=async()=>{try{S.value=!0;const o=await Le();o.from?(await o.wait(2),M.value="\u6388\u6743\u6210\u529F",H.value=o.hash,N.value="success",S.value=!1,F()):S.value=!1}catch(o){S.value=!1,M.value="\u6388\u6743\u5931\u8D25",H.value="\u7528\u6237\u53D6\u6D88\u4E86\u6388\u6743",N.value="error",console.log("\u6388\u6743\u5931\u8D25",o)}},q=i(!1),b=i(!1),ve=async()=>{try{if(C.value){b.value=!0;let o=await De([a.value.token_id]);o.from&&(M.value="\u5206\u89E3\u6210\u529F",H.value=o.hash,N.value="success",(await o.wait(1)).from&&(b.value=!1,a.value={},L.value="",q.value=!0,setTimeout(async()=>{await I()},1e3)))}}catch(o){b.value=!1,M.value="\u5206\u89E3\u5931\u8D25",H.value="\u7528\u6237\u53D6\u6D88\u4E86\u5206\u89E3",N.value="error",console.log("\u5206\u89E3\u5931\u8D25",o)}T.value=!0},U=i(!1),_e=()=>{d.value&&!b.value&&(U.value=!0)},he=o=>{h.value.map(async r=>{if(o.value.token_id==r.token_id){let v=await Y(o.value.token_id);v&&(w.value=Number(v.toString())),a.value=r,U.value=!1}})},R=i(0),J=o=>{R.value=o,h.value=[],E.value.map(r=>{r.starRate==o&&h.value.push(r)})},W=()=>{h.value=E.value,R.value=0};return(o,r)=>(s(),c(D,null,[y(be,null,{default:m(()=>[g(l(u(n)("\u5206\u89E3\u788E\u7247\u63D0\u793A")),1)]),_:1}),e("div",yt,[e("div",$t,[e("div",{class:"base-border",onClick:_e},[V(e("div",Et,[e("img",{src:a.value.image},null,8,Ft)],512),[[z,a.value.token_id]]),V(e("div",wt,Dt,512),[[z,!a.value.token_id]])]),a.value.heroid?(s(),c("div",xt,[Bt,e("span",Ht,l(w.value),1),St])):(s(),c("div",At,l(u(n)("\u4E0D\u540C\u7A00\u6709\u5EA6\u7684\u82F1\u96C4\u53EF\u4EE5\u83B7\u5F97\u4E0D\u540C\u6570\u91CF\u7684\u788E\u7247")),1)),e("div",null,[a.value.heroid&&!b.value&&C.value?(s(),f(A,{key:0,onClick:ve},{default:m(()=>[It]),_:1})):$("",!0),!S.value&&!C.value?(s(),f(A,{key:1,onClick:de},{default:m(()=>[Lt]),_:1})):$("",!0),S.value&&!C.value?(s(),f(A,{key:2,style:{cursor:"not-allowed"}},{default:m(()=>[e("div",Tt,[y(X),e("div",Mt,l(u(n)("\u6388\u6743\u4E2D"))+"...",1)])]),_:1})):$("",!0),!a.value.heroid&&!b.value&&C.value?(s(),f(A,{key:3,active:"","current-type":"disabled",style:{color:"#676C73",cursor:"not-allowed"}},{default:m(()=>[g(l(u(n)("\u5206\u89E3")),1)]),_:1})):$("",!0),a.value.heroid&&b.value&&C.value?(s(),f(A,{key:4,style:{cursor:"not-allowed"}},{default:m(()=>[e("div",Nt,[y(X),e("div",Rt,l(u(n)("\u5206\u89E3\u4E2D"))+"...",1)])]),_:1})):$("",!0)])]),e("div",Ut,[e("div",Vt,[e("div",{style:{cursor:"pointer"},onClick:W},l(u(n)("\u5168\u90E8")),1),e("div",zt,[(s(!0),c(D,null,x(R.value,v=>(s(),c("div",{class:"star-icon",key:v,onClick:Q=>J(v)},jt,8,Gt))),128)),(s(!0),c(D,null,x(5-R.value,v=>(s(),c("div",{class:"star-icon un-active",key:v,onClick:Q=>J(v+R.value)},Zt,8,Kt))),128))])]),p.value?(s(),f(we,{key:0})):(s(),c("div",qt,[h.value.length?(s(),c("div",Jt,[(s(!0),c(D,null,x(h.value,v=>(s(),f(ie,{key:v.token_id,class:te([v.token_id==L.value?"active-class":"","card-item"]),onClick:Q=>ne(v),data:v},{default:m(()=>[V(e("div",Wt,null,512),[[z,v.token_id==L.value]])]),_:2},1032,["class","onClick","data"]))),128)),Qt,Xt,Yt,es])):(s(),f(le,{key:1},{default:m(()=>[g(l(u(n)("\u4F60\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4")),1)]),_:1}))])),a.value.heroid&&b.value?(s(),f(He,{key:2})):$("",!0)]),y(lt,{count:w.value,show:q.value,onClose:r[0]||(r[0]=v=>q.value=!1)},null,8,["count","show"]),y(Ct,{show:U.value,list:h.value,onClose:r[1]||(r[1]=v=>U.value=!1),onConfirm:he,onStarClick:J,onSelectAll:W},null,8,["show","list"]),y(Ee,{show:T.value,title:M.value,desc:H.value,type:N.value,onClose:r[2]||(r[2]=v=>T.value=!1),onDescClick:re},null,8,["show","title","desc","type"])])],64))}});var ao=K(ts,[["__scopeId","data-v-3eabe5e8"]]);export{ao as default};
