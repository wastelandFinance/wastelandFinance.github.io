import{a9 as R,az as u,$ as w,a0 as t,D as s,K as o,_ as b,aG as Ot,aC as et,aA as st,r as d,au as At,a7 as r,f as Rt,O as z,aF as G,h as ce,aZ as it,Z as x,b1 as h,a6 as B,b3 as Y,bm as zt,bn as pt,ap as q,w as gt}from"./@vue-823c75d3.js";import{T as re,a as Mt}from"./Tabs-eae35a05.js";import{g as T,N as wt,O as de,P as St,Q as Ut,R as ve}from"./getAssetsFile-cd9e36ca.js";import{f as ut,a as he}from"./format-7642b802.js";import{_ as M,C as fe,D as $t,B as W,E as at,F as Et,u as kt,L as qt,G as Gt,H as P,M as yt,I as Kt,J as Dt,K as X}from"./index-0faa561c.js";import{u as N}from"./vue-i18n-5b28fcda.js";/* empty css                                                          */import{B as K}from"./Border-0b13b5cb.js";import{b as Ht}from"./index-bb241e93.js";import{H as Nt}from"./HeroType-0eff0c74.js";import{h as _e}from"./NFT-38518967.js";import{E as H}from"./EasyButton-1ff6b5e9.js";import{M as Wt}from"./MaskLoading-50639ab9.js";import{g as jt,c as tt}from"./public-fdb8458e.js";import{E as Vt,L as me}from"./Loading-29378e09.js";import{g as pe,a as ge}from"./Fragment-bdab6ad8.js";import{a as ye}from"./index-7ffaa781.js";import{b as $e,u as we}from"./vue-router-4d4637a0.js";import{g as ke}from"./GoldCoin-a6c3c42d.js";import{c as be}from"./copy-b40d556e.js";/* empty css                                                         */import"./dayjs-3b7406d5.js";import"./@ethersproject-baa9d35e.js";import"./js-sha3-24137471.js";import"./hash.js-a20011ef.js";import"./minimalistic-assert-c1ce1705.js";import"./inherits-1fe83bc7.js";import"./bech32-9a81277b.js";import"./pinia-d7eeac71.js";import"./vue-demi-5b9a0fa5.js";import"./@metamask-0322580d.js";import"./@walletconnect-6b5bf47d.js";import"./is-typedarray-4f40b03b.js";import"./query-string-2015e57d.js";import"./strict-uri-encode-ecbf5106.js";import"./decode-uri-component-fb3850ff.js";import"./split-on-first-6a113853.js";import"./typedarray-to-buffer-3049f596.js";import"./detect-browser-d6d27bfa.js";import"./qrcode-8475bf43.js";import"./isarray-dd297434.js";import"./buffer-42a74e2f.js";import"./base64-js-f5f6d31b.js";import"./ieee754-b34e253f.js";import"./dijkstrajs-5cebdf0c.js";import"./copy-to-clipboard-792b0d71.js";import"./toggle-selection-eefc0dc5.js";import"./preact-c6b9a0a0.js";import"./process-79043346.js";import"./@intlify-22bbbbdc.js";import"./vue-b8cbd5d3.js";import"./axios-f45f83e3.js";/* empty css                                                             */import"./isMobile-b4d2a8d3.js";/* empty css                                                               *//* empty css                                                                *//* empty css                                                            */import"./lottie-web-96c2a85a.js";import"./qs-899482d5.js";import"./side-channel-c89d4eb5.js";import"./get-intrinsic-13ed3457.js";import"./has-symbols-39607a5b.js";import"./function-bind-f4350d04.js";import"./has-c67be6c1.js";import"./call-bind-60ebbe96.js";import"./object-inspect-cc1301a1.js";const It=e=>(et("data-v-6c1b1800"),e=e(),st(),e),Be={class:"wallet-card-container"},xe={class:"card-left"},Fe={class:"card-left-top"},Ce={class:"currency-icon"},De=["src"],Te={class:"right-block"},Ae={class:"title"},Se={key:0,class:"info"},Ee=It(()=>t("div",{class:"info-price"},"\u2248$210.186722",-1)),He={class:"handler"},Ie=It(()=>t("div",{class:"fox-icon"},[t("img",{src:de})],-1)),Le={class:"card-left-bottom"},Re={class:"desc"},Me={class:"address"},Ne=It(()=>t("img",{src:St},null,-1)),We=[Ne],Ve={class:"card-right"},Pe=R({__name:"walletCard",props:{count:{default:0},type:{default:"token"},address:{default:""}},emits:["copy","link"],setup(e,{emit:l}){const{t:f}=N(),n=()=>{l("copy")},y=()=>{l("link")},k=async v=>{console.log(v);let m=await fe(v);console.log(m)};return(v,m)=>(u(),w("div",Be,[t("div",xe,[t("div",Fe,[t("div",null,[t("div",Ce,[t("img",{src:e.type=="token"?s(T)("pc/user/DTH.png"):e.type=="blindBox"?s(T)("pc/user/blind-box-fragment.png"):s(T)("pc/user/risingStarFragment.png")},null,8,De)])]),t("div",Te,[t("div",Ae,o(e.count)+" "+o(e.type=="token"?"DTH":e.type=="blindBox"?s(f)("\u76F2\u76D2\u788E\u7247"):s(f)("\u5347\u661F\u788E\u7247")),1),e.type=="token"?(u(),w("div",Se,[Ee,t("div",He,[Ie,t("div",{class:"add-wallet",onClick:m[0]||(m[0]=_=>k(e.address))},o(s(f)("\u6DFB\u52A0\u5230\u94B1\u5305")),1)])])):b("",!0)])]),t("div",Le,[t("div",null,[t("span",Re,o(s(f)("\u5408\u7EA6\u5730\u5740\uFF1A")),1),t("span",Me,o(s(ut)(e.address)),1)]),t("div",{class:"icon-list",style:{margin:"0 6px"}},[t("div",{class:"base-icon link-h5",style:{margin:"0 6px"},onClick:y},We),t("div",{class:"base-icon"},[t("img",{src:wt,onClick:n})])])])]),t("div",Ve,[t("div",null,[Ot(v.$slots,"default",{},void 0,!0)])])]))}});var Tt=M(Pe,[["__scopeId","data-v-6c1b1800"]]);const Oe={class:"pic-container"},ze={class:"handler"},Ue=R({__name:"BlindBox",emits:["openBlingBox","toSell","openDetail"],setup(e,{emit:l}){const{t:f}=N();let n=d(120),y=d(44);const k=()=>{let m=document.documentElement.clientWidth<750;n.value=m?120:90,y.value=m?44:32};At(()=>{k(),window.addEventListener("resize",k,!1)});const v=()=>{l("openDetail")};return(m,_)=>(u(),w("div",{class:"bling-box-container",onClick:v},[t("div",Oe,[r(K,{border:!1,mark:!1,img:s(T)("global/blindBxo.gif")},null,8,["img"])]),t("div",ze,[t("div",null,o(s(f)("\u76F2\u76D2")),1)])]))}});var qe=M(Ue,[["__scopeId","data-v-18c72858"]]);const Ge=e=>(et("data-v-2debde96"),e=e(),st(),e),Ke={class:"hero-card-container"},je={class:"pic-container"},Ze={class:"hero-info"},Je={class:"base-flex",style:{"margin-bottom":"5px"}},Qe={class:"base-flex"},Xe={class:"base-flex"},Ye={class:"star-icon"},ts={class:"grade"},es=Ge(()=>t("div",{class:"dot"},null,-1)),ss=R({__name:"HeroCard",props:{width:{default:276},attr:{default:()=>({})}},setup(e){const l=e,{t:f}=N(),n=Rt("pcRem"),y=Rt("phoneRem"),k=d(""),v=()=>{const _=document.documentElement.clientWidth<750?y:n;k.value=ce(()=>`width:${l.width/_}rem`).value};return v(),At(()=>{window.addEventListener("resize",v,!1)}),(m,_)=>(u(),w("div",Ke,[t("div",je,[r(K,{rarityImg:s(Ht)[e.attr.rarity],border:!1,img:e.attr.image},null,8,["rarityImg","img"])]),t("div",Ze,[t("div",Je,[t("span",null,o(e.attr.name&&s(f)(e.attr.name)),1),t("span",null,o(e.attr.classes&&s(f)(e.attr.classes)),1)]),t("div",Qe,[t("div",Xe,[(u(!0),w(z,null,G(e.attr.starRate,p=>(u(),w("div",Ye))),256))]),t("div",ts,[es,t("div",null,"LV"+o(e.attr.level),1)])])])]))}});var Zt=M(ss,[["__scopeId","data-v-2debde96"]]);const bt=e=>(et("data-v-fbb7e51e"),e=e(),st(),e),as={class:"content"},os={class:"detail"},ls={class:"detail-left"},ns={class:"pic-container"},is={class:"detail-right"},us={class:"hero-info"},cs={class:"hero-name"},rs={class:"hero-type"},ds={class:"hero-grade"},vs=bt(()=>t("div",{class:"dot"},null,-1)),hs={class:"base-flex"},fs=bt(()=>t("img",{src:Ut},null,-1)),_s=[fs],ms={class:"contract-info"},ps={class:"contract-title"},gs={class:"contract-addr"},ys=bt(()=>t("img",{src:St},null,-1)),$s=[ys],ws=bt(()=>t("img",{src:wt},null,-1)),ks=[ws],bs={class:"attr-info"},Bs={class:"attr-title"},xs={key:0,class:"attr-list"},Fs={class:"attr-item-top"},Cs={class:"attr-icon"},Ds=["src"],Ts={class:"attr-value"},As={class:"attr-item-name"},Ss={class:"attr-zone"},Es={class:"hero-skill"},Hs={class:"skill-title"},Is={class:"skill-info"},Ls={class:"skill-pic"},Rs=["src"],Ms={class:"skill-right"},Ns={class:"skill-name"},Ws={class:"skill-desc"},Vs={class:"handler"},Ps=R({__name:"HeroDetailDialogForPc",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","transferAccount","copy"],setup(e,{emit:l}){const f=e,{t:n}=N(),y=[{icon:T("pc/user/Strength.png"),text:"\u9B54\u6CD5",engText:"magic"},{icon:T("pc/user/Vitality.png"),text:"\u653B\u51FB",engText:"attack"},{icon:T("pc/user/Agility.png"),text:"\u654F\u6377",engText:"agile"},{icon:T("pc/user/Stamina.png"),text:"\u751F\u547D",engText:"life"},{icon:T("pc/user/Defense.png"),text:"\u9632\u5FA1",engText:"defense"}],k=()=>{window.open("https://www.bilibili.com/")},v=d(0);it(()=>{if(v.value=0,f.data.attributes)for(let g in f.data.attributes)v.value+=f.data.attributes[g]});const m=()=>{l("close")},_=()=>{l("transferAccount")},p=()=>{l("copy")},$=g=>{window.open(`${Et}token/${g}`)};return(g,F)=>(u(),x(at,{show:e.show,title:s(n)("\u82F1\u96C4"),onClose:m},{default:h(()=>[t("div",as,[t("div",os,[t("div",ls,[t("div",ns,[r(K,{img:e.data.image,rarityImg:s(Ht)[e.data.rarity]},null,8,["img","rarityImg"])])]),t("div",is,[t("div",us,[t("div",cs,o(e.data.name&&s(n)(e.data.name)),1),t("div",rs,o(e.data.classes&&s(n)(e.data.classes)),1),t("div",ds,[vs,t("div",null,"LV"+o(e.data.level),1)]),t("div",hs,[(u(!0),w(z,null,G(e.data.starRate,C=>(u(),w("div",{class:"hero-star",key:C},_s))),128))])]),t("div",ms,[t("div",ps,o(s(n)("\u5408\u7EA6\u5730\u5740"))+"\uFF1A",1),t("div",gs,o(s(ut)(s($t))),1),t("div",{class:"contract-base-icon",onClick:F[0]||(F[0]=C=>$(s($t)))},$s),t("div",{class:"contract-base-icon",onClick:p},ks)]),t("div",bs,[t("div",Bs,o(s(n)("\u5C5E\u6027")),1),e.data.attributes?(u(),w("div",xs,[(u(),w(z,null,G(y,C=>t("div",{class:"attr-item",key:C.engText},[t("div",Fs,[t("div",Cs,[t("img",{src:C.icon},null,8,Ds)]),t("div",Ts,o(e.data.attributes[C.engText]),1)]),t("div",As,o(s(n)(C.engText)),1)])),64))])):b("",!0),t("div",Ss,o(s(n)("\u603B\u5C5E\u6027"))+"\uFF1A"+o(v.value),1)]),t("div",Es,[t("div",Hs,o(s(n)("\u6280\u80FD")),1),t("div",Is,[t("div",null,[t("div",Ls,[t("img",{src:e.data.skills&&e.data.skills.icon},null,8,Rs)])]),t("div",Ms,[t("div",Ns,o(e.data.skills&&e.data.skills.name),1),t("div",Ws,o(e.data.skills&&e.data.skills.desc),1)])])])])]),t("div",Vs,[(u(),x(W,{key:0,"current-type":"default",onClick:_},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1})),b("",!0),r(W,{class:"sell-hero",onClick:k},{default:h(()=>[B(o(s(n)("\u51FA\u552E\u82F1\u96C4")),1)]),_:1})])])]),_:1},8,["show","title"]))}});var Os=M(Ps,[["__scopeId","data-v-fbb7e51e"]]);const zs={class:"content"},Us={class:"card"},qs={class:"input-container"},Gs={style:{position:"relative"}},Ks=["placeholder"],js={key:0,class:"err-tips"},Zs={class:"btn-block"},Js={style:{"margin-left":"5px"}},Qs=R({__name:"TransferHero",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","transferHero"],setup(e,{emit:l}){const f=e,{t:n}=N(),y=kt(),k=()=>{v.value="",l("close")},v=d(""),m=d(!1),_=async()=>{try{m.value=!0;let $=await _e(y.address,v.value,f.data.token_id);$.from?(await $.wait(1),m.value=!1,l("transferHero",{state:!0,hash:$.hash})):l("transferHero",{state:!1})}catch{m.value=!1,l("transferHero",{state:!1})}},p=d(!1);return it(()=>{try{v.value.length&&(Gt(v.value).length?p.value=!0:p.value=!1)}catch($){p.value=!1,console.log("\u5730\u5740\u683C\u5F0F\u9519\u8BEF",$)}}),($,g)=>(u(),x(at,{show:e.show,onClose:k,title:s(n)("\u8F6C\u8D26")},{default:h(()=>[t("div",zs,[t("div",Us,[r(Zt,{class:"card-item",attr:e.data},null,8,["attr"])]),t("div",qs,[t("div",Gs,[Y(t("input",{class:"custom-style","onUpdate:modelValue":g[0]||(g[0]=F=>v.value=F),type:"text",placeholder:s(n)("\u8BF7\u8F93\u5165\u63A5\u6536\u5730\u5740")},null,8,Ks),[[zt,v.value]])]),Y(t("div",{class:"clear",onClick:g[1]||(g[1]=F=>v.value="")},null,512),[[pt,v.value.length]])]),v.value&&!p.value?(u(),w("div",js,o(s(n)("*\u8BF7\u8F93\u5165\u6B63\u786E\u7684BEP20\u5730\u5740")),1)):b("",!0),t("div",Zs,[p.value?b("",!0):(u(),x(W,{key:0,active:"","current-type":"disabled",style:{cursor:"not-allowed",color:"#676c73"}},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1})),v.value&&m.value?(u(),x(W,{key:1,style:{cursor:"not-allowed",color:"#e1c392"}},{default:h(()=>[r(qt),t("div",Js,o(s(n)("\u8F6C\u8D26\u4E2D"))+"...",1)]),_:1})):b("",!0),p.value&&!m.value?(u(),x(W,{key:2,onClick:_},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1})):b("",!0)])])]),_:1},8,["show","title"]))}});var Xs=M(Qs,[["__scopeId","data-v-312d0959"]]);const ct=async()=>await jt(tt.mySteryBox.address,tt.mySteryBox.abi),Ys=async e=>await(await ct()).balanceOf(e),ta=async(e,l)=>await(await ct()).tokenOfOwnerByIndex(e,l),ea=async(e,l,f)=>await(await ct()).transferFrom(e,l,f),sa=async()=>await(await ct()).setApprovalForAll(tt.randomMint.address,!0),aa=async e=>await(await ct()).isApprovedForAll(e,tt.randomMint.address),Jt=async()=>await jt(tt.randomMint.address,tt.randomMint.abi),oa=async e=>(await Jt()).mint(e),la=async e=>await(await Jt()).getUserLastId(e),na=e=>(et("data-v-1ca4ed1e"),e=e(),st(),e),ia={class:"content"},ua={class:"info"},ca={class:"title"},ra={class:"base-flex"},da={class:"desc"},va={class:"address"},ha=na(()=>t("img",{src:wt},null,-1)),fa=[ha],_a={class:"handler"},ma={class:"base-flex"},pa=R({__name:"BlindBoxDetail",props:{show:{type:Boolean,default:!1},tokenId:{default:0}},emits:["close","blingBoxTrans","sellBlindBox","openBlindBox","copyHandler","linkHandler"],setup(e,{emit:l}){const f=e,{t:n}=N(),y=kt(),k=()=>{l("close")},v=()=>{l("blingBoxTrans")},m=()=>{l("copyHandler")},_=d(!1),p=d(!1),$=d(""),g=d(""),F=d("success"),C=async()=>{try{_.value=!0;const D=await oa(f.tokenId);D.from?(await D.wait(1)).from&&(_.value=!1,$.value="\u5F00\u542F\u6210\u529F",g.value=D.hash,F.value="success",l("openBlindBox",!0)):l("openBlindBox",!1)}catch(D){_.value=!1,$.value="\u5F00\u542F\u5931\u8D25",g.value="\u7528\u6237\u53D6\u6D88\u4E86\u5F00\u542F\u76F2\u76D2",F.value="error",l("openBlindBox",!1),console.log("\u5F00\u542F\u76F2\u76D2\u51FA\u9519\u4E86",D)}p.value=!0},vt=()=>{l("sellBlindBox")},I=async()=>{Bt()},E=d(!1),ot=async()=>{const D=await aa(y.address);E.value=D};q(()=>{ot()});const A=d(!1),Bt=async()=>{try{A.value=!0;let D=await sa();D.from&&(await D.wait(1),$.value="\u6388\u6743\u6210\u529F",g.value=D.hash,F.value="success",A.value=!1,ot())}catch(D){A.value=!1,$.value="\u6388\u6743\u5931\u8D25",g.value="\u7528\u6237\u53D6\u6D88\u6216\u65AD\u5F00\u4E86\u6388\u6743",F.value="error",console.log("\u6388\u6743\u5931\u8D25",D)}p.value=!0},V=()=>{window.open(`${Kt}${g.value}`)};return gt(p,D=>{setTimeout(()=>{D&&(p.value=!1)},3e3)}),(D,j)=>(u(),w(z,null,[r(at,{show:e.show,onClose:k,title:s(n)("\u76F2\u76D2")},{default:h(()=>[t("div",ia,[r(K,{class:"bling-box",mark:!1,img:s(T)("global/blindBxo.gif")},null,8,["img"]),t("div",ua,[t("div",ca,o(s(n)("\u76F2\u76D2")),1),t("div",ra,[t("div",da,o(s(n)("\u5408\u7EA6\u5730\u5740\uFF1A")),1),t("div",va,o(s(ut)(s(P))),1),b("",!0),t("div",{class:"base-icon",onClick:m},fa)])]),t("div",_a,[t("div",{class:"transfer",onClick:v},o(s(n)("\u8F6C\u8D26")),1),t("div",ma,[r(H,{class:"margin-right",type:"warning",onClick:vt},{default:h(()=>[B(o(s(n)("\u51FA\u552E\u76F2\u76D2")),1)]),_:1}),E.value&&!A.value&&!_.value?(u(),x(H,{key:0,style:{color:"#e1c392"},onClick:C},{default:h(()=>[B(o(s(n)("\u5F00\u542F\u76F2\u76D2")),1)]),_:1})):b("",!0),E.value&&!A.value&&_.value?(u(),x(H,{key:1,style:{color:"#e1c392",cursor:"not-allowed"}},{default:h(()=>[B(o(s(n)("\u5F00\u542F\u4E2D")),1)]),_:1})):b("",!0)]),!E.value&&!A.value?(u(),x(H,{key:0,onClick:I},{default:h(()=>[B(o(s(n)("\u6388\u6743")),1)]),_:1})):b("",!0),A.value&&!E.value?(u(),x(H,{key:1,style:{color:"#e1c392",cursor:"not-allowed"},onClick:I},{default:h(()=>[B(o(s(n)("\u6388\u6743\u4E2D")),1)]),_:1})):b("",!0)])]),E.value&&!A.value&&_.value?(u(),x(Wt,{key:0})):b("",!0),!E.value&&A.value&&!_.value?(u(),x(Wt,{key:1})):b("",!0)]),_:1},8,["show","title"]),r(yt,{show:p.value,title:$.value,desc:g.value,type:F.value,onClose:j[0]||(j[0]=ht=>p.value=!1),onDescClick:V},null,8,["show","title","desc","type"])],64))}});var ga=M(pa,[["__scopeId","data-v-1ca4ed1e"]]);const ya={class:"wallet-card-phone"},$a={class:"container"},wa={class:"pic"},ka=["src"],ba={class:"count"},Ba={class:"title"},xa={class:"address-block"},Fa={class:"address"},Ca={style:{display:"flex"}},Da={style:{display:"flex","justify-content":"center"}},Ta=R({__name:"WalletCardForPhone",props:{type:{default:"blindBox"},count:{default:0},address:{default:""}},emits:["copy","link"],setup(e,{emit:l}){const{t:f}=N(),n=()=>{l("copy")};return(y,k)=>(u(),w("div",ya,[t("div",$a,[t("div",wa,[t("img",{src:e.type=="blindBox"?s(T)("pc/user/blind-box-fragment.png"):s(T)("pc/user/risingStarFragment.png")},null,8,ka)]),t("div",ba,o(e.count)+o(e.type=="blindBox"?s(f)("\u76F2\u76D2\u788E\u7247"):s(f)("\u5347\u661F\u788E\u7247")),1),t("div",Ba,o(s(f)("\u5408\u7EA6\u5730\u5740\uFF1A")),1),t("div",xa,[t("div",Fa,o(s(ut)(e.address)),1),t("div",Ca,[b("",!0),t("div",{class:"copy-icon",onClick:n})])]),t("div",Da,[Ot(y.$slots,"default",{},void 0,!0)])])]))}});var Pt=M(Ta,[["__scopeId","data-v-b1475730"]]);const rt=e=>(et("data-v-3ddf6c72"),e=e(),st(),e),Aa={class:"content-phone"},Sa={class:"hero-info"},Ea={class:"hero-name"},Ha={class:"hero-type"},Ia={class:"hero-grade"},La=rt(()=>t("div",{class:"dot"},null,-1)),Ra={class:"base-flex"},Ma=rt(()=>t("img",{src:Ut},null,-1)),Na=[Ma],Wa={class:"contract-info"},Va=rt(()=>t("div",{class:"contract-title"},"\u5408\u7EA6\u5730\u5740\uFF1A",-1)),Pa={class:"contract-addr"},Oa=rt(()=>t("img",{src:St},null,-1)),za=[Oa],Ua=rt(()=>t("img",{src:wt},null,-1)),qa=[Ua],Ga={class:"hero-block"},Ka={class:"hero-card"},ja={class:"hero-attr"},Za={class:"attr-title"},Ja={class:"title"},Qa={class:"count"},Xa={class:"attr-list-block"},Ya={class:"attr-item"},to={class:"attr-left"},eo={class:"attr-icon"},so=["src"],ao={class:"attr-name"},oo={class:"attr-right-value"},lo={class:"skill-block"},no={class:"skill-title"},io={class:"skill-info"},uo={class:"skill-left"},co={class:"skill-pic"},ro=["src"],vo={class:"skill-right"},ho={class:"skill-name"},fo={class:"skill-desc"},_o={class:"handler-block"},mo=R({__name:"HeroDetailDialogForPhone",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","transferAccount","copy"],setup(e,{emit:l}){const f=e,{t:n}=N(),y=[{icon:T("pc/user/Strength.png"),text:"\u9B54\u6CD5",engText:"magic"},{icon:T("pc/user/Vitality.png"),text:"\u653B\u51FB",engText:"attack"},{icon:T("pc/user/Agility.png"),text:"\u654F\u6377",engText:"agile"},{icon:T("pc/user/Stamina.png"),text:"\u751F\u547D",engText:"life"},{icon:T("pc/user/Defense.png"),text:"\u9632\u5FA1",engText:"defense"}],k=()=>{window.open("https://www.bilibili.com/")},v=d(0);it(()=>{if(v.value=0,f.data.attributes)for(let g in f.data.attributes)v.value+=f.data.attributes[g]});const m=()=>{l("close")},_=()=>{l("transferAccount")},p=()=>{l("copy")},$=g=>{window.open(`${Et}token/${g}`)};return(g,F)=>(u(),x(at,{show:e.show,title:s(n)("\u82F1\u96C4"),onClose:m},{default:h(()=>[t("div",Aa,[t("div",Sa,[t("div",Ea,o(e.data.name&&s(n)(e.data.name)),1),t("div",Ha,o(e.data.classes&&s(n)(e.data.classes)),1),t("div",Ia,[La,t("div",null,"LV"+o(e.data.level),1)]),t("div",Ra,[(u(!0),w(z,null,G(e.data.starRate,C=>(u(),w("div",{class:"hero-star",key:C},Na))),128))])]),t("div",Wa,[Va,t("div",Pa,o(s(ut)(s($t))),1),t("div",{class:"contract-base-icon",onClick:F[0]||(F[0]=C=>$(s($t)))},za),t("div",{class:"contract-base-icon",onClick:p},qa)]),t("div",Ga,[t("div",Ka,[r(K,{border:!1,img:e.data.image,rarityImg:s(Ht)[1]},null,8,["img","rarityImg"])]),t("div",ja,[t("div",Za,[t("div",Ja,o(s(n)("\u603B\u5C5E\u6027")),1),t("div",Qa,o(v.value),1)]),t("div",Xa,[(u(),w(z,null,G(y,C=>t("div",Ya,[t("div",to,[t("div",eo,[t("img",{src:C.icon},null,8,so)]),t("div",ao,o(s(n)(C.engText)),1)]),t("div",oo,o(e.data.attributes&&e.data.attributes[C.engText]),1)])),64))])])]),t("div",lo,[t("div",no,o(s(n)("\u6280\u80FD")),1),t("div",io,[t("div",uo,[t("div",co,[t("img",{src:e.data.skills&&e.data.skills.icon},null,8,ro)])]),t("div",vo,[t("div",ho,o(e.data.skills&&e.data.skills.name),1),t("div",fo,o(e.data.skills&&e.data.skills.desc),1)])])]),t("div",_o,[r(H,{class:"btn-mr",width:"120",height:"44",type:"warning",onClick:_},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1}),r(H,{width:"120",height:"44",onClick:k},{default:h(()=>[B(o(s(n)("\u51FA\u552E\u82F1\u96C4")),1)]),_:1})])])]),_:1},8,["show","title"]))}});var po=M(mo,[["__scopeId","data-v-3ddf6c72"]]);const go={class:"content"},yo={class:"card"},$o={class:"input-container"},wo={style:{position:"relative"}},ko=["placeholder"],bo={key:0,class:"err-tips"},Bo={class:"btn-block"},xo={style:{display:"flex","align-items":"center"}},Fo={style:{"margin-left":"5px"}},Co=R({__name:"TransferBlingBox",props:{show:{type:Boolean,default:!1},data:{default:()=>({})},tokenId:{default:0}},emits:["close","blindBoxTransfer"],setup(e,{emit:l}){const f=e,{t:n}=N(),y=kt(),k=()=>{_.value="",l("close")},v=d(!1),m=async()=>{try{v.value=!0;const $=await ea(y.address,_.value,f.tokenId);$.from?(await $.wait(1),v.value=!1,l("blindBoxTransfer",{state:!0,hash:$.hash})):(v.value=!1,l("blindBoxTransfer",{state:!1}))}catch{v.value=!1,l("blindBoxTransfer",{state:!1})}},_=d(""),p=d(!1);return it(()=>{try{_.value.length&&(Gt(_.value).length?p.value=!0:p.value=!1)}catch($){p.value=!1,console.log("\u5730\u5740\u683C\u5F0F\u9519\u8BEF",$)}}),($,g)=>(u(),x(at,{show:e.show,onClose:k,title:s(n)("\u8F6C\u8D26")},{default:h(()=>[t("div",go,[t("div",yo,[r(K,{mark:!1,img:s(T)("global/blindBxo.gif")},null,8,["img"])]),t("div",$o,[t("div",wo,[Y(t("input",{class:"custom-style","onUpdate:modelValue":g[0]||(g[0]=F=>_.value=F),type:"text",placeholder:s(n)("\u8BF7\u8F93\u5165\u63A5\u6536\u5730\u5740")},null,8,ko),[[zt,_.value]]),_.value?(u(),w("div",{key:0,class:"clear",onClick:g[1]||(g[1]=F=>_.value="")})):b("",!0)])]),_.value&&!p.value?(u(),w("div",bo,o(s(n)("*\u8BF7\u8F93\u5165\u6B63\u786E\u7684BEP20\u5730\u5740")),1)):b("",!0),t("div",Bo,[!p.value&&!v.value?(u(),x(W,{key:0,active:"","current-type":"disabled",style:{cursor:"not-allowed"}},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1})):b("",!0),!v.value&&p.value?(u(),x(W,{key:1,onClick:m},{default:h(()=>[B(o(s(n)("\u8F6C\u8D26")),1)]),_:1})):b("",!0),p.value&&v.value?(u(),x(W,{key:2,active:"",style:{cursor:"not-allowed",color:"#e1c392"}},{default:h(()=>[t("div",xo,[r(qt),t("div",Fo,o(s(n)("\u8F6C\u8D26\u4E2D")),1)])]),_:1})):b("",!0)])])]),_:1},8,["show","title"]))}});var Do=M(Co,[["__scopeId","data-v-74440c5a"]]);const To={key:0,class:"mask"},Ao={id:"loading-box"},So={class:"content"},Eo={class:"card"},Ho={class:"handler"},Io=R({__name:"StatusDialog",props:{show:{type:Boolean,default:!1},data:{default:()=>({})}},emits:["close","navigateTo"],setup(e,{emit:l}){const{t:f}=N(),n=d(!1),y=d();At(()=>{var m;n.value=!1,(m=y.value)==null||m.addEventListener("ended",()=>{n.value=!0})});const k=()=>{l("close")},v=()=>{l("navigateTo")};return(m,_)=>e.show?(u(),w("div",To,[t("div",Ao,[t("video",{ref_key:"videoRef",ref:y,autoplay:"",muted:"",style:{width:"100%",height:"100%"},src:ve},null,512)]),n.value?(u(),x(at,{key:0,show:e.show,onClose:k,title:s(f)("\u606D\u559C\u4F60\u5F00\u542F\u76F2\u76D2\u6210\u529F")},{default:h(()=>[t("div",So,[t("div",Eo,[r(K,{mark:!1,border:!1,img:e.data.image},null,8,["img"])]),t("div",Ho,[r(W,{onClick:v},{default:h(()=>[B(o(s(f)("\u53BB\u770B\u770B")),1)]),_:1})])])]),_:1},8,["show","title"])):b("",!0)])):b("",!0)}});var Lo=M(Io,[["__scopeId","data-v-89bad05e"]]);const dt=e=>(et("data-v-841c08da"),e=e(),st(),e),Ro={class:"wallet-layout"},Mo={class:"wallet-list"},No={class:"phone-wallet"},Wo={class:"flag"},Vo={key:1},Po={key:0,class:"type-list"},Oo={class:"h5-type"},zo={class:"base-list hero-list"},Uo=dt(()=>t("div",{class:"card-style"},null,-1)),qo=dt(()=>t("div",{class:"card-style"},null,-1)),Go={style:{margin:"20px auto"}},Ko={class:"btn-con"},jo={key:0,class:"base-list bling-box-list"},Zo=dt(()=>t("div",{class:"card-style"},null,-1)),Jo=dt(()=>t("div",{class:"card-style"},null,-1)),Qo=dt(()=>t("div",{class:"card-style"},null,-1)),Xo={key:0},Yo=R({__name:"Index",setup(e){const{t:l}=N(),f=d([{name:"\u5168\u90E8",count:0,type:"all"},{name:"\u6218\u58EB",count:0,type:"Warrior"},{name:"\u523A\u5BA2",count:0,type:"Assassin"},{name:"\u5C04\u624B",count:0,type:"Archer"},{name:"\u6CD5\u5E08",count:0,type:"Mage"},{name:"\u8F85\u52A9",count:0,type:"Support"}]),n=d([{name:"\u5168\u90E8",count:0,rare:0},{name:"N",count:0,rare:1},{name:"R",count:0,rare:2},{name:"SR",count:0,rare:3},{name:"SSR",count:0,rare:4}]),y=kt(),k=we(),v=()=>{window.open("https://ht.mdex.co/#/swap?lang=zh-HK&inputCurrency=0x25d2e80cb6b86881fd7e07dd263fb79f4abe033c&outputCurrency=0xa71edc38d189767582c38a3145b5873052c3e47a")},m=()=>{k.push("/sale")},_=d(0);q(async()=>{const i=await pe(y.address);_.value=Number(i.toString())});const p=d(0);q(async()=>{let i=await ge(y.address);p.value=Number(i.toString())});const $=d(0);q(async()=>{let i=await ke(y.address);$.value=he(i)});const g=d(1),F=$e();q(()=>{var i;((i=F.query)==null?void 0:i.tab)=="blingBox"&&(g.value=2)});const C=i=>{},vt=(i,a)=>{a==1?i.name!=="\u5168\u90E8"?(S.value=[],L.value.map(c=>{c.classes==i.type&&S.value.push(c)})):S.value=L.value:i.name!=="\u5168\u90E8"?(S.value=[],L.value.map(c=>{c.rarity==i.rare&&S.value.push(c)})):S.value=L.value},I=d(!1),E=d(!1),ot=()=>{E.value=!E.value},A=d(!1),Bt=()=>{A.value=!1},V=d({}),D=async i=>{V.value=i,I.value=!0},j=()=>{ot()},ht=d(0),Qt=i=>{ht.value=i,A.value=!0},Xt=async()=>{lt.value=!1,g.value=1,I.value=!0},lt=d(!1),Lt=d(""),Yt=async i=>{if(await Ct(),await xt(),i){let a=await la(y.address);console.log(a),a&&(Lt.value=a.toString(),A.value=!1,A.value=!1,S.value.map(c=>{c.token_id==Lt.value&&(V.value=c)}),lt.value=!0)}},te=()=>{window.open("https://nft.openmeta.trade/#/profile")},ft=d(!1),ee=()=>{ft.value=!0},se=()=>{ft.value=!1},ae=async i=>{i.state?(Z.value=!0,_t.value=i.hash,Ct()):J.value=!0,A.value=!1,ft.value=!1},U=d(!1),S=d([]),L=d([]),xt=async()=>{try{if(y.loginState){U.value=!0;const i=await ye({account:y.address});i.length&&(S.value=i,L.value=i,oe(),le()),U.value=!1}}catch(i){U.value=!1,console.log("\u51FA\u9519\u4E86",i)}};q(()=>{xt()}),it(()=>{F.query.token_id&&S.value.map(i=>{var a;i.token_id==((a=F.query)==null?void 0:a.token_id)&&(V.value=i,I.value=!0)})});const oe=()=>{f.value[0].count=L.value.length,L.value.map(i=>{f.value.map(a=>{i.classes==a.type&&a.count++})})},le=()=>{n.value[0].count=L.value.length,L.value.map(i=>{n.value.map(a=>{i.rarity==a.rare&&a.count++})})},Z=d(!1),J=d(!1),_t=d(""),ne=async i=>{i.state?(Z.value=!0,_t.value=i.hash,xt()):J.value=!0,E.value=!1,I.value=!1},ie=()=>{window.open(`${Kt}${_t.value}`)},Ft=d(0),mt=d([]),Ct=async()=>{mt.value=[];const i=await Ys(y.address);if(Ft.value=Number(i.toString()),Ft.value)for(let a=0;a<Ft.value;a++){let c=await ta(y.address,a);mt.value.push(Number(c.toString()))}};q(async()=>{Ct()});const nt=d(!1),O=i=>{be(i),nt.value=!0},Q=i=>{window.open(`${Et}token/${i}`)};return gt(nt,i=>{i&&setTimeout(()=>{nt.value=!1},2e3)}),gt(Z,i=>{i&&setTimeout(()=>{Z.value=!1},2e3)}),gt(J,i=>{i&&setTimeout(()=>{J.value=!1},2e3)}),(i,a)=>(u(),w("div",Ro,[t("div",Mo,[r(Tt,{count:$.value,address:s(Dt),class:"wallet-mr wallet-mb",onLink:a[0]||(a[0]=c=>Q(s(Dt))),onCopy:a[1]||(a[1]=c=>O(s(Dt)))},{default:h(()=>[r(H,{width:"72",height:"28",onClick:v},{default:h(()=>[B(o(s(l)("\u8D2D\u4E70")),1)]),_:1})]),_:1},8,["count","address"]),r(Tt,{count:_.value,address:s(P),type:"blindBox",class:"display-pc wallet-mr wallet-mb",onLink:a[3]||(a[3]=c=>Q(s(P))),onCopy:a[4]||(a[4]=c=>O(s(P)))},{default:h(()=>[r(H,{width:"72",height:"28",onClick:a[2]||(a[2]=c=>s(k).push("/user/blindBox"))},{default:h(()=>[B(o(s(l)("\u5408\u6210")),1)]),_:1})]),_:1},8,["count","address"]),r(Tt,{count:p.value,address:s(X),type:"star",class:"display-pc",onLink:a[6]||(a[6]=c=>Q(s(X))),onCopy:a[7]||(a[7]=c=>O(s(X)))},{default:h(()=>[r(H,{width:"72",height:"28",onClick:a[5]||(a[5]=c=>s(k).push("/user/fragment"))},{default:h(()=>[B(o(s(l)("\u83B7\u53D6")),1)]),_:1})]),_:1},8,["count","address"])]),t("div",No,[r(Pt,{type:"blindBox",address:s(P),count:_.value,onLink:a[9]||(a[9]=c=>Q(s(P))),onCopy:a[10]||(a[10]=c=>O(s(P)))},{default:h(()=>[r(H,{width:"72",height:"28",onClick:a[8]||(a[8]=c=>s(k).push("/user/blindBox"))},{default:h(()=>[B(o(s(l)("\u5408\u6210")),1)]),_:1})]),_:1},8,["address","count"]),r(Pt,{type:"star",address:s(X),count:p.value,onLink:a[12]||(a[12]=c=>Q(s(X))),onCopy:a[13]||(a[13]=c=>O(s(X)))},{default:h(()=>[r(H,{width:"72",height:"28",onClick:a[11]||(a[11]=c=>s(k).push("/user/fragment"))},{default:h(()=>[B(o(s(l)("\u83B7\u53D6")),1)]),_:1})]),_:1},8,["address","count"])]),t("div",Wo,[r(re,{defaultTabIndex:g.value,align:"center",width:"150",fontSize:"22",height:"50",onOnchange:C},{default:h(()=>[r(Mt,{tab:s(l)("\u82F1\u96C4"),key:"1"},{default:h(()=>[U.value&&!L.value.length?(u(),x(me,{key:0})):(u(),w("div",Vo,[L.value.length?(u(),w("div",Po,[t("div",Oo,[r(Nt,{border:!1,typeList:f.value,style:{"margin-right":"70px",width:"450px"},class:"phone-mb",onTypeClick:a[14]||(a[14]=c=>vt(c,1))},null,8,["typeList"])]),r(Nt,{border:!1,typeList:n.value,style:{width:"360px"},onTypeClick:a[15]||(a[15]=c=>vt(c,2))},null,8,["typeList"])])):b("",!0),Y(t("div",zo,[(u(!0),w(z,null,G(S.value,c=>(u(),x(Zt,{class:"card-style",attr:c,onClick:ue=>D(c)},null,8,["attr","onClick"]))),256)),Uo,qo],512),[[pt,S.value.length]]),Y(t("div",Go,[r(Vt,null,{default:h(()=>[B(o(s(l)("\u60A8\u8FD8\u6CA1\u6709\u4EFB\u4F55\u82F1\u96C4\uFF01")),1)]),_:1}),Y(t("div",Ko,[r(W,{onClick:m},{default:h(()=>[B(o(s(l)("\u7ACB\u5373\u8D2D\u4E70")),1)]),_:1})],512),[[pt,U.value&&!S.value.length]])],512),[[pt,!U.value&&!S.value.length]])]))]),_:1},8,["tab"]),r(Mt,{tab:s(l)("\u76F2\u76D2"),key:"2"},{default:h(()=>[mt.value.length?(u(),w("div",jo,[(u(!0),w(z,null,G(mt.value,c=>(u(),x(qe,{class:"card-style",onOpenDetail:ue=>Qt(c)},null,8,["onOpenDetail"]))),256)),Zo,Jo,Qo])):(u(),x(Vt,{key:1},{default:h(()=>[B(o(s(l)("\u60A8\u8FD8\u6CA1\u6709\u4EFB\u4F55\u76F2\u76D2\uFF01")),1)]),_:1})),b("",!0)]),_:1},8,["tab"])]),_:1},8,["defaultTabIndex"])]),r(Os,{class:"hero-dialog-pc",show:I.value,data:V.value,onClose:a[16]||(a[16]=c=>I.value=!1),onTransferAccount:j,onCopy:a[17]||(a[17]=c=>O("\u82F1\u96C4\u5730\u5740"))},null,8,["show","data"]),r(po,{class:"hero-dialog-phone",show:I.value,data:V.value,onClose:a[18]||(a[18]=c=>I.value=!1),onTransferAccount:j,onCopy:a[19]||(a[19]=c=>O("\u82F1\u96C4\u5730\u5740"))},null,8,["show","data"]),r(Xs,{data:V.value,show:E.value,onClose:ot,onTransferHero:ne},null,8,["data","show"]),r(ga,{show:A.value,tokenId:ht.value,onClose:Bt,onBlingBoxTrans:ee,onOpenBlindBox:Yt,onSellBlindBox:te,onCopyHandler:a[20]||(a[20]=c=>O(s(P))),onLinkHandler:a[21]||(a[21]=c=>Q(s(P)))},null,8,["show","tokenId"]),r(Do,{tokenId:ht.value,show:ft.value,onClose:se,onBlindBoxTransfer:ae},null,8,["tokenId","show"]),lt.value?(u(),w("div",Xo,[r(Lo,{show:lt.value,data:V.value,onClose:a[22]||(a[22]=c=>lt.value=!1),onNavigateTo:Xt},null,8,["show","data"])])):b("",!0),r(yt,{type:"success",onClose:a[23]||(a[23]=c=>nt.value=!1),show:nt.value,title:s(l)("\u590D\u5236\u6210\u529F"),desc:s(l)("\u5DF2\u590D\u5236\u5230\u7C98\u8D34\u677F")},null,8,["show","title","desc"]),r(yt,{type:"success",onClose:a[24]||(a[24]=c=>Z.value=!1),show:Z.value,title:s(l)("\u8F6C\u8D26\u6210\u529F"),desc:_t.value,onDescClick:ie},null,8,["show","title","desc"]),r(yt,{type:"error",onClose:a[25]||(a[25]=c=>J.value=!1),show:J.value,title:s(l)("\u8F6C\u8D26\u5931\u8D25"),desc:s(l)("\u7528\u6237\u53D6\u6D88\u64CD\u4F5C")},null,8,["show","title","desc"])]))}});var hn=M(Yo,[["__scopeId","data-v-841c08da"]]);export{hn as default};
